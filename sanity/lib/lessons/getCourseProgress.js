function a9_0xf8f7(){const _0x34af55=['zgf0yq','mJa0nLPizwLyvW','EWOGicaGiMnVBxbSzxrLzeXLC3nVBNmIoIaQw190ExbLid09icjSzxnZB25dB21WBgv0Aw9UiIaMjIbZDhvKzw50lL9YzwyGpt0Gjhn0DwrLBNrjzcaMjIbJB3vYC2uUx3jLzIa9psaKy291CNnLswrDihSkicaGicaGlI4UlaOGicaGicaIBgvZC29UiJOGBgvZC29Ult57lI4UFsWkicaGicaGiM1VzhvSzsi6ig1VzhvSzs0+EY4UlN0kicaGih0ScIaGicaIy291CNnLiJOGkLTFDhLWzsa9psaIy291CNnLiIaMjIbFAwqGpt0GjgnVDxjZzuLKxvSWxsb7cIaGicaGic4UlIWkicaGicaGiM1VzhvSzxmIoIbTB2r1BgvZw10TpIb7cIaGicaGicaGlI4UlaOGicaGicaGicjSzxnZB25ZiJOGBgvZC29UC1TDlt4GEY4UlN0kicaGicaGFqOGicaGFqOGih0','mZC2rxfWtMTo','nJK0mgndrNnuva','nJG5neLXA0rVqG','ndu0mJnbvwDxCgS','mJmWtuj6v25Y','x2LK','mtuXBKnNvwzd','ody1ndq4mw5hDMjJDq','nZeYmMHOsvbTyG','ode3mNfKveTTwa','mtqXmKf2tuvOBq','mte5nZmYnhbnBMvtqW'];a9_0xf8f7=function(){return _0x34af55;};return a9_0xf8f7();}(function(_0x56339b,_0x492b1a){const _0x589660=a9_0x4648,_0x5c0647=_0x56339b();while(!![]){try{const _0x3e332e=-parseInt(_0x589660(0x1a3))/0x1*(parseInt(_0x589660(0x19f))/0x2)+-parseInt(_0x589660(0x19b))/0x3*(parseInt(_0x589660(0x1a7))/0x4)+-parseInt(_0x589660(0x1a1))/0x5*(parseInt(_0x589660(0x1a5))/0x6)+parseInt(_0x589660(0x1a0))/0x7*(-parseInt(_0x589660(0x19d))/0x8)+parseInt(_0x589660(0x1a6))/0x9*(parseInt(_0x589660(0x19e))/0xa)+parseInt(_0x589660(0x1a4))/0xb+parseInt(_0x589660(0x1a8))/0xc;if(_0x3e332e===_0x492b1a)break;else _0x5c0647['push'](_0x5c0647['shift']());}catch(_0x202824){_0x5c0647['push'](_0x5c0647['shift']());}}}(a9_0xf8f7,0x60a60));import{defineQuery}from'groq';function a9_0x4648(_0x75d5be,_0x5462a7){const _0xf8f7b3=a9_0xf8f7();return a9_0x4648=function(_0x4648a6,_0x2ae5d7){_0x4648a6=_0x4648a6-0x19b;let _0x28f012=_0xf8f7b3[_0x4648a6];if(a9_0x4648['HpaTeQ']===undefined){var _0x43aede=function(_0x4abaa6){const _0x141115='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xdaec1f='',_0x3f8d06='';for(let _0x5eb84d=0x0,_0x4298ab,_0x346901,_0x1f5bae=0x0;_0x346901=_0x4abaa6['charAt'](_0x1f5bae++);~_0x346901&&(_0x4298ab=_0x5eb84d%0x4?_0x4298ab*0x40+_0x346901:_0x346901,_0x5eb84d++%0x4)?_0xdaec1f+=String['fromCharCode'](0xff&_0x4298ab>>(-0x2*_0x5eb84d&0x6)):0x0){_0x346901=_0x141115['indexOf'](_0x346901);}for(let _0x105815=0x0,_0x2130d5=_0xdaec1f['length'];_0x105815<_0x2130d5;_0x105815++){_0x3f8d06+='%'+('00'+_0xdaec1f['charCodeAt'](_0x105815)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3f8d06);};a9_0x4648['cxvJkO']=_0x43aede,_0x75d5be=arguments,a9_0x4648['HpaTeQ']=!![];}const _0x28dec7=_0xf8f7b3[0x0],_0x1e4e63=_0x4648a6+_0x28dec7,_0x413a00=_0x75d5be[_0x1e4e63];return!_0x413a00?(_0x28f012=a9_0x4648['cxvJkO'](_0x28f012),_0x75d5be[_0x1e4e63]=_0x28f012):_0x28f012=_0x413a00,_0x28f012;},a9_0x4648(_0x75d5be,_0x5462a7);}import{sanityFetch}from'../live';import{getStudentByClerkId}from'../student/getStudentByClerkId';import{calculateCourseProgress}from'@/lib/courseProgress';export async function getCourseProgress(_0x4abaa6,_0x141115){const _0x1ce87e=a9_0x4648,_0xdaec1f=await getStudentByClerkId(_0x4abaa6);if(!_0xdaec1f?.[_0x1ce87e(0x1a9)]?.[_0x1ce87e(0x1a2)])throw new Error('Student\x20not\x20found');const _0x3f8d06=defineQuery(_0x1ce87e(0x19c)),_0x5eb84d=await sanityFetch({'query':_0x3f8d06,'params':{'studentId':_0xdaec1f[_0x1ce87e(0x1a9)]['_id'],'courseId':_0x141115}}),{completedLessons:completedLessons=[],course:_0x4298ab}=_0x5eb84d['data'],_0x346901=calculateCourseProgress(_0x4298ab?.['modules']||null,completedLessons);return{'completedLessons':completedLessons,'courseProgress':_0x346901};}