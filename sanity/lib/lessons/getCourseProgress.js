(function(_0x2ece52,_0x5c9939){const _0x30f768=a28_0xeae1,_0x1af78f=_0x2ece52();while(!![]){try{const _0xd5fb41=-parseInt(_0x30f768(0x1f6))/0x1+-parseInt(_0x30f768(0x1fb))/0x2*(-parseInt(_0x30f768(0x1ef))/0x3)+parseInt(_0x30f768(0x200))/0x4*(-parseInt(_0x30f768(0x20b))/0x5)+-parseInt(_0x30f768(0x20a))/0x6*(-parseInt(_0x30f768(0x209))/0x7)+-parseInt(_0x30f768(0x1f2))/0x8*(-parseInt(_0x30f768(0x1eb))/0x9)+-parseInt(_0x30f768(0x212))/0xa*(-parseInt(_0x30f768(0x206))/0xb)+parseInt(_0x30f768(0x1f7))/0xc;if(_0xd5fb41===_0x5c9939)break;else _0x1af78f['push'](_0x1af78f['shift']());}catch(_0x5939cc){_0x1af78f['push'](_0x1af78f['shift']());}}}(a28_0x13fe,0xbad90));function a28_0x13fe(){const _0x4d2560=['oxHOquDhtq','u3r1zgvUDcbUB3qGzM91BMq','qvPnqwC','AwHtyLK','mZLSqM1gsgO','ywfoq3C','B2fcwwW','mZGYotaXnKnhugjIrW','vfbPD3O','BgTgyNK','qM9Owxq','odyXnJqZtvbTzLDb','mJGZnZi5mND3vLnYzW','u1P2uNy','BNbgwum','yxbWBhK','nJaYnZHKB2niEwG','weXAvKy','C2vHCMnO','ufHtA08','yMnhy0i','ntyWnhDluhDMAq','EK1srhi','y29UC3rYDwn0B3i','vgvSqNO','yuHswvK','Dg9tDhjPBMC','nZuZnteXA1jbq1zz','zgf0yq','veDTqM8','n1nwv0vcBG','odKYmtyWneHkr3Hvvq','mZy5nxvdCfrODa','kcGOlISPkYKRksSK','s3PKu3i','zevKB3C','x2LK','CNbPyve','Bw9KDwXLCW','mtbnAxfouLe','D1jtAha'];a28_0x13fe=function(){return _0x4d2560;};return a28_0x13fe();}const a28_0x5e54a9=(function(){const _0x531af8=a28_0xeae1,_0x3d4c0c={'npFYC':function(_0x7bd7fc,_0x50a9ef){return _0x7bd7fc===_0x50a9ef;},'wRShp':_0x531af8(0x1ee),'TelBz':_0x531af8(0x1ec),'PXSkO':_0x531af8(0x20c),'zMRDr':function(_0x1d2cb4,_0x42366e){return _0x1d2cb4!==_0x42366e;},'TPiwz':_0x531af8(0x204)};let _0x38692a=!![];return function(_0x2da31a,_0x4bc255){const _0x32c251=_0x531af8,_0x3b0bf4={'SZvRv':_0x3d4c0c[_0x32c251(0x1fe)]};if(_0x3d4c0c[_0x32c251(0x201)](_0x3d4c0c[_0x32c251(0x1f3)],_0x32c251(0x210))){const _0x3a5e0e=_0x38692a?function(){const _0x1eaa11=_0x32c251;if(_0x4bc255){if(_0x3d4c0c[_0x1eaa11(0x1f9)](_0x3d4c0c['wRShp'],_0x3d4c0c[_0x1eaa11(0x1ea)])){const _0x33cf5c=_0x4bc255[_0x1eaa11(0x1fa)](_0x2da31a,arguments);return _0x4bc255=null,_0x33cf5c;}else return _0x2b2782[_0x1eaa11(0x205)]()[_0x1eaa11(0x1fd)](_0x3b0bf4[_0x1eaa11(0x1f8)])[_0x1eaa11(0x205)]()[_0x1eaa11(0x202)](_0x467e25)['search'](_0x3b0bf4[_0x1eaa11(0x1f8)]);}}:function(){};return _0x38692a=![],_0x3a5e0e;}else throw new _0x4f1dbd(_0x3d4c0c[_0x32c251(0x203)]);};}()),a28_0x377d2d=a28_0x5e54a9(this,function(){const _0x372028=a28_0xeae1,_0x354da6={'aaNCw':_0x372028(0x20c)};return a28_0x377d2d[_0x372028(0x205)]()[_0x372028(0x1fd)](_0x354da6[_0x372028(0x1f0)])[_0x372028(0x205)]()[_0x372028(0x202)](a28_0x377d2d)[_0x372028(0x1fd)](_0x354da6[_0x372028(0x1f0)]);});a28_0x377d2d();import{defineQuery}from'groq';import{sanityFetch}from'../live';import{getStudentByClerkId}from'../student/getStudentByClerkId';function a28_0xeae1(_0x836b8a,_0x2ff685){const _0x4d7915=a28_0x13fe();return a28_0xeae1=function(_0x377d2d,_0x5e54a9){_0x377d2d=_0x377d2d-0x1ea;let _0x13fec6=_0x4d7915[_0x377d2d];if(a28_0xeae1['zvcvRp']===undefined){var _0xeae122=function(_0xf12af6){const _0x2c2d15='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3f386f='',_0x2c1cd7='',_0x37d45a=_0x3f386f+_0xeae122;for(let _0x2a0ca8=0x0,_0xd1b30b,_0x4538d5,_0x4cd88b=0x0;_0x4538d5=_0xf12af6['charAt'](_0x4cd88b++);~_0x4538d5&&(_0xd1b30b=_0x2a0ca8%0x4?_0xd1b30b*0x40+_0x4538d5:_0x4538d5,_0x2a0ca8++%0x4)?_0x3f386f+=_0x37d45a['charCodeAt'](_0x4cd88b+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0xd1b30b>>(-0x2*_0x2a0ca8&0x6)):_0x2a0ca8:0x0){_0x4538d5=_0x2c2d15['indexOf'](_0x4538d5);}for(let _0x4605a7=0x0,_0x1d3f92=_0x3f386f['length'];_0x4605a7<_0x1d3f92;_0x4605a7++){_0x2c1cd7+='%'+('00'+_0x3f386f['charCodeAt'](_0x4605a7)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2c1cd7);};a28_0xeae1['jfjkgV']=_0xeae122,_0x836b8a=arguments,a28_0xeae1['zvcvRp']=!![];}const _0x558685=_0x4d7915[0x0],_0x36b9b4=_0x377d2d+_0x558685,_0x292837=_0x836b8a[_0x36b9b4];if(!_0x292837){const _0x3673f8=function(_0x338179){this['VmUCnO']=_0x338179,this['iaDAZY']=[0x1,0x0,0x0],this['wShRyD']=function(){return'newState';},this['TvuBhJ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['NLIZen']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3673f8['prototype']['DZzNVf']=function(){const _0x5b1584=new RegExp(this['TvuBhJ']+this['NLIZen']),_0x20616d=_0x5b1584['test'](this['wShRyD']['toString']())?--this['iaDAZY'][0x1]:--this['iaDAZY'][0x0];return this['rERIZq'](_0x20616d);},_0x3673f8['prototype']['rERIZq']=function(_0x28852f){if(!Boolean(~_0x28852f))return _0x28852f;return this['LdxLgI'](this['VmUCnO']);},_0x3673f8['prototype']['LdxLgI']=function(_0x17f14b){for(let _0xc77899=0x0,_0x495eac=this['iaDAZY']['length'];_0xc77899<_0x495eac;_0xc77899++){this['iaDAZY']['push'](Math['round'](Math['random']())),_0x495eac=this['iaDAZY']['length'];}return _0x17f14b(this['iaDAZY'][0x0]);},new _0x3673f8(a28_0xeae1)['DZzNVf'](),_0x13fec6=a28_0xeae1['jfjkgV'](_0x13fec6),_0x836b8a[_0x36b9b4]=_0x13fec6;}else _0x13fec6=_0x292837;return _0x13fec6;},a28_0xeae1(_0x836b8a,_0x2ff685);}import{calculateCourseProgress}from'@/lib/courseProgress';export async function getCourseProgress(_0x22b9a3,_0x251c8d){const _0xbf1c24=a28_0xeae1,_0x448af4={'oaBYl':function(_0x43d522,_0x1eb4b8){return _0x43d522===_0x1eb4b8;},'BohYt':function(_0x16cdca,_0x3318d2){return _0x16cdca===_0x3318d2;},'AZMAg':function(_0xaabb60,_0x296914){return _0xaabb60===_0x296914;},'KzdSr':function(_0x547b18,_0x44b1f9){return _0x547b18===_0x44b1f9;},'lkFby':'bPERV','XLZVF':_0xbf1c24(0x1ec),'TGmBo':function(_0x5f4906,_0x48b539){return _0x5f4906(_0x48b539);},'NUfPl':function(_0x29796f,_0x25fb4d){return _0x29796f(_0x25fb4d);},'dEdow':function(_0x46cb85,_0x19e663,_0x2e626c){return _0x46cb85(_0x19e663,_0x2e626c);},'bcGcB':function(_0x4c6098,_0x2b50dd){return _0x4c6098===_0x2b50dd;}};var _0x2a569c;const _0x544752=await getStudentByClerkId(_0x22b9a3);if(!(_0x448af4[_0xbf1c24(0x1f1)](_0x2a569c=_0x448af4[_0xbf1c24(0x1f5)](_0x544752,null)||_0x544752===void 0x0?void 0x0:_0x544752[_0xbf1c24(0x207)],null)||_0x448af4[_0xbf1c24(0x1ed)](_0x2a569c,void 0x0)?void 0x0:_0x2a569c[_0xbf1c24(0x20f)])){if(_0x448af4[_0xbf1c24(0x20d)](_0x448af4[_0xbf1c24(0x1f4)],_0x448af4[_0xbf1c24(0x1f4)]))throw new Error(_0x448af4[_0xbf1c24(0x1fc)]);else{if(_0x42e640){const _0x2825d1=_0xcc20c5[_0xbf1c24(0x1fa)](_0x5709cb,arguments);return _0x48aaf1=null,_0x2825d1;}}}const _0x19e6ef=_0x448af4[_0xbf1c24(0x208)](defineQuery,'{\x0a\x20\x20\x20\x20\x22completedLessons\x22:\x20*[_type\x20==\x20\x22lessonCompletion\x22\x20&&\x20student._ref\x20==\x20$studentId\x20&&\x20course._ref\x20==\x20$courseId]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22lesson\x22:\x20lesson->{...},\x0a\x20\x20\x20\x20\x20\x20\x22module\x22:\x20module->{...}\x0a\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x22course\x22:\x20*[_type\x20==\x20\x22course\x22\x20&&\x20_id\x20==\x20$courseId][0]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22modules\x22:\x20modules[]->\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22lessons\x22:\x20lessons[]->\x20{...}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20}'),_0x22c1ec=await _0x448af4['NUfPl'](sanityFetch,{'query':_0x19e6ef,'params':{'studentId':_0x544752[_0xbf1c24(0x207)][_0xbf1c24(0x20f)],'courseId':_0x251c8d}}),{completedLessons:completedLessons=[],course:_0x14bc8b}=_0x22c1ec[_0xbf1c24(0x207)],_0x1b851c=_0x448af4[_0xbf1c24(0x20e)](calculateCourseProgress,(_0x448af4['KzdSr'](_0x14bc8b,null)||_0x448af4[_0xbf1c24(0x1ff)](_0x14bc8b,void 0x0)?void 0x0:_0x14bc8b[_0xbf1c24(0x211)])||null,completedLessons);return{'completedLessons':completedLessons,'courseProgress':_0x1b851c};}