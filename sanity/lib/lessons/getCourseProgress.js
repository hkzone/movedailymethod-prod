function a86_0x24e4(){const _0x59a8a2=['mtC2weTMtxDK','uMLuBwu','odu2mtCZD05dwvLt','Bw9KDwXLCW','mZaZmZa0mgTlBgHoDG','mJritwnzvvu','r1jUqve','x2LK','mtGZndi1nwHvBMP2Ea','zgf0yq','nZiZnhfoz0LwBq','y3n1reu','C2vHCMnO','u3r1zgvUDcbUB3qGzM91BMq','nJiXmtm3me5vBeXAuq','yujNu3G','nZGXmJyZn3nyv3bhsq','mJKZnJy2nhv1s2PSAW','Dg9tDhjPBMC','yxbWBhK','EWOGicaGiMnVBxbSzxrLzeXLC3nVBNmIoIaQw190ExbLid09icjSzxnZB25dB21WBgv0Aw9UiIaMjIbZDhvKzw50lL9YzwyGpt0Gjhn0DwrLBNrjzcaMjIbJB3vYC2uUx3jLzIa9psaKy291CNnLswrDihSkicaGicaGlI4UlaOGicaGicaIBgvZC29UiJOGBgvZC29Ult57lI4UFsWkicaGicaGiM1VzhvSzsi6ig1VzhvSzs0+EY4UlN0kicaGih0ScIaGicaIy291CNnLiJOGkLTFDhLWzsa9psaIy291CNnLiIaMjIbFAwqGpt0GjgnVDxjZzuLKxvSWxsb7cIaGicaGic4UlIWkicaGicaGiM1VzhvSzxmIoIbTB2r1BgvZw10TpIb7cIaGicaGicaGlI4UlaOGicaGicaGicjSzxnZB25ZiJOGBgvZC29UC1TDlt4GEY4UlN0kicaGicaGFqOGicaGFqOGih0','wu9sCem','nK9pvw1mBq','se9nveq','uejTDg0','whDIC1y','kcGOlISPkYKRksSK'];a86_0x24e4=function(){return _0x59a8a2;};return a86_0x24e4();}(function(_0xe77b11,_0x52fc66){const _0x749cf4=a86_0x201e,_0x5a9df5=_0xe77b11();while(!![]){try{const _0x58884f=-parseInt(_0x749cf4(0x144))/0x1*(parseInt(_0x749cf4(0x155))/0x2)+-parseInt(_0x749cf4(0x157))/0x3*(-parseInt(_0x749cf4(0x15a))/0x4)+-parseInt(_0x749cf4(0x15d))/0x5*(parseInt(_0x749cf4(0x150))/0x6)+-parseInt(_0x749cf4(0x14a))/0x7+parseInt(_0x749cf4(0x159))/0x8+parseInt(_0x749cf4(0x14b))/0x9+parseInt(_0x749cf4(0x148))/0xa;if(_0x58884f===_0x52fc66)break;else _0x5a9df5['push'](_0x5a9df5['shift']());}catch(_0x18e904){_0x5a9df5['push'](_0x5a9df5['shift']());}}}(a86_0x24e4,0xe074f));const a86_0x252638=(function(){const _0x671a3e=a86_0x201e,_0x450ae5={'GRnAQ':_0x671a3e(0x156),'PBmtm':_0x671a3e(0x147)};let _0x199b08=!![];return function(_0x1c8b47,_0x5f5619){const _0x13c3b4=_0x671a3e,_0x9dc422={'fxWSH':_0x450ae5[_0x13c3b4(0x152)]},_0x354a73=_0x199b08?function(){const _0x4aeab0=_0x13c3b4;if(_0x5f5619){if(_0x450ae5[_0x4aeab0(0x15b)]==='bHQxj')throw new _0x23fb9b(_0x9dc422['fxWSH']);else{const _0xfd269a=_0x5f5619[_0x4aeab0(0x14d)](_0x1c8b47,arguments);return _0x5f5619=null,_0xfd269a;}}}:function(){};return _0x199b08=![],_0x354a73;};}()),a86_0x8b8886=a86_0x252638(this,function(){const _0x57b470=a86_0x201e,_0x3e8e5d={'csuDE':'(((.+)+)+)+$'};return a86_0x8b8886[_0x57b470(0x14c)]()['search'](_0x3e8e5d[_0x57b470(0x145)])['toString']()['constructor'](a86_0x8b8886)[_0x57b470(0x146)](_0x57b470(0x154));});a86_0x8b8886();import{defineQuery}from'groq';function a86_0x201e(_0x49a521,_0x6b60c1){const _0x991ba=a86_0x24e4();return a86_0x201e=function(_0x8b8886,_0x252638){_0x8b8886=_0x8b8886-0x143;let _0x24e43b=_0x991ba[_0x8b8886];if(a86_0x201e['eXVgXQ']===undefined){var _0x201e38=function(_0x3eda31){const _0x491ac6='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4799d3='',_0x1ffaf4='',_0x3dc362=_0x4799d3+_0x201e38;for(let _0x11453e=0x0,_0x5f4c2d,_0x5692df,_0x348731=0x0;_0x5692df=_0x3eda31['charAt'](_0x348731++);~_0x5692df&&(_0x5f4c2d=_0x11453e%0x4?_0x5f4c2d*0x40+_0x5692df:_0x5692df,_0x11453e++%0x4)?_0x4799d3+=_0x3dc362['charCodeAt'](_0x348731+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x5f4c2d>>(-0x2*_0x11453e&0x6)):_0x11453e:0x0){_0x5692df=_0x491ac6['indexOf'](_0x5692df);}for(let _0x77eab9=0x0,_0x3b92ee=_0x4799d3['length'];_0x77eab9<_0x3b92ee;_0x77eab9++){_0x1ffaf4+='%'+('00'+_0x4799d3['charCodeAt'](_0x77eab9)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1ffaf4);};a86_0x201e['tSzobf']=_0x201e38,_0x49a521=arguments,a86_0x201e['eXVgXQ']=!![];}const _0x239444=_0x991ba[0x0],_0x468c61=_0x8b8886+_0x239444,_0x261b7b=_0x49a521[_0x468c61];if(!_0x261b7b){const _0x1a6a48=function(_0x459098){this['OZiwGy']=_0x459098,this['salkGe']=[0x1,0x0,0x0],this['ECeHVt']=function(){return'newState';},this['FOJmmD']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['sbCQLS']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1a6a48['prototype']['hwGHNg']=function(){const _0x1d6de3=new RegExp(this['FOJmmD']+this['sbCQLS']),_0x49064f=_0x1d6de3['test'](this['ECeHVt']['toString']())?--this['salkGe'][0x1]:--this['salkGe'][0x0];return this['rRTkVT'](_0x49064f);},_0x1a6a48['prototype']['rRTkVT']=function(_0x4fe55e){if(!Boolean(~_0x4fe55e))return _0x4fe55e;return this['lfFvUv'](this['OZiwGy']);},_0x1a6a48['prototype']['lfFvUv']=function(_0x50ec2e){for(let _0x6e41fc=0x0,_0x32455b=this['salkGe']['length'];_0x6e41fc<_0x32455b;_0x6e41fc++){this['salkGe']['push'](Math['round'](Math['random']())),_0x32455b=this['salkGe']['length'];}return _0x50ec2e(this['salkGe'][0x0]);},new _0x1a6a48(a86_0x201e)['hwGHNg'](),_0x24e43b=a86_0x201e['tSzobf'](_0x24e43b),_0x49a521[_0x468c61]=_0x24e43b;}else _0x24e43b=_0x261b7b;return _0x24e43b;},a86_0x201e(_0x49a521,_0x6b60c1);}import{sanityFetch}from'../live';import{getStudentByClerkId}from'../student/getStudentByClerkId';import{calculateCourseProgress}from'@/lib/courseProgress';export async function getCourseProgress(_0x238ab4,_0x43ea42){const _0x4acda9=a86_0x201e,_0x1e10db={'XwbsV':function(_0x2d248e,_0x3f79a2){return _0x2d248e(_0x3f79a2);},'YORpC':'Student\x20not\x20found','aBgSx':function(_0x25be55,_0x22e76b){return _0x25be55(_0x22e76b);},'HOMTD':function(_0x11c5d0,_0x2413ab,_0x3324c8){return _0x11c5d0(_0x2413ab,_0x3324c8);}},_0x47efcc=await _0x1e10db['XwbsV'](getStudentByClerkId,_0x238ab4);if(!_0x47efcc?.[_0x4acda9(0x143)]?.[_0x4acda9(0x15c)])throw new Error(_0x1e10db[_0x4acda9(0x14f)]);const _0x124f1b=_0x1e10db[_0x4acda9(0x153)](defineQuery,_0x4acda9(0x14e)),_0x5c78ec=await _0x1e10db[_0x4acda9(0x149)](sanityFetch,{'query':_0x124f1b,'params':{'studentId':_0x47efcc[_0x4acda9(0x143)][_0x4acda9(0x15c)],'courseId':_0x43ea42}}),{completedLessons:completedLessons=[],course:_0x4af980}=_0x5c78ec[_0x4acda9(0x143)],_0x1efae8=_0x1e10db[_0x4acda9(0x151)](calculateCourseProgress,_0x4af980?.[_0x4acda9(0x158)]||null,completedLessons);return{'completedLessons':completedLessons,'courseProgress':_0x1efae8};}