(function(_0x35b9b3,_0x26af37){const _0x2db7d6=a9_0x4c64,_0x36f371=_0x35b9b3();while(!![]){try{const _0x3e75f2=parseInt(_0x2db7d6(0x17e))/0x1+parseInt(_0x2db7d6(0x17f))/0x2+-parseInt(_0x2db7d6(0x182))/0x3+parseInt(_0x2db7d6(0x180))/0x4+-parseInt(_0x2db7d6(0x17c))/0x5*(parseInt(_0x2db7d6(0x17a))/0x6)+-parseInt(_0x2db7d6(0x17b))/0x7*(-parseInt(_0x2db7d6(0x17d))/0x8)+-parseInt(_0x2db7d6(0x181))/0x9;if(_0x3e75f2===_0x26af37)break;else _0x36f371['push'](_0x36f371['shift']());}catch(_0x5f4e40){_0x36f371['push'](_0x36f371['shift']());}}}(a9_0x9f37,0x58372));import{defineQuery}from'groq';function a9_0x4c64(_0x143282,_0x3ff170){const _0x9f37bf=a9_0x9f37();return a9_0x4c64=function(_0x4c6467,_0x6c718f){_0x4c6467=_0x4c6467-0x17a;let _0x5574ba=_0x9f37bf[_0x4c6467];return _0x5574ba;},a9_0x4c64(_0x143282,_0x3ff170);}import{sanityFetch}from'../live';import{getStudentByClerkId}from'../student/getStudentByClerkId';function a9_0x9f37(){const _0x46b948=['3037401RfYxOw','60756GBYzFi','18SnkXEI','666799yLIAoh','1078485PczWMX','16mekwLo','503663IWzidv','211430NgGGkY','2265080JZfuak'];a9_0x9f37=function(){return _0x46b948;};return a9_0x9f37();}import{calculateCourseProgress}from'@/lib/courseProgress';export async function getCourseProgress(_0x19094a,_0x19d040){const _0x50a2e2=await getStudentByClerkId(_0x19094a);if(!_0x50a2e2?.['data']?.['_id'])throw new Error('Student\x20not\x20found');const _0x15eb2a=defineQuery('{\x0a\x20\x20\x20\x20\x22completedLessons\x22:\x20*[_type\x20==\x20\x22lessonCompletion\x22\x20&&\x20student._ref\x20==\x20$studentId\x20&&\x20course._ref\x20==\x20$courseId]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22lesson\x22:\x20lesson->{...},\x0a\x20\x20\x20\x20\x20\x20\x22module\x22:\x20module->{...}\x0a\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x22course\x22:\x20*[_type\x20==\x20\x22course\x22\x20&&\x20_id\x20==\x20$courseId][0]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22modules\x22:\x20modules[]->\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22lessons\x22:\x20lessons[]->\x20{...}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20}'),_0x1bff30=await sanityFetch({'query':_0x15eb2a,'params':{'studentId':_0x50a2e2['data']['_id'],'courseId':_0x19d040}}),{completedLessons:completedLessons=[],course:_0x14a59e}=_0x1bff30['data'],_0x5b9ee6=calculateCourseProgress(_0x14a59e?.['modules']||null,completedLessons);return{'completedLessons':completedLessons,'courseProgress':_0x5b9ee6};}