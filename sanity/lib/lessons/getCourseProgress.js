(function(_0x1aa2a2,_0x9fb3a6){const _0x53310b=a86_0x4a84,_0x4d111b=_0x1aa2a2();while(!![]){try{const _0x34bfc7=-parseInt(_0x53310b(0xfa))/0x1+parseInt(_0x53310b(0x100))/0x2*(parseInt(_0x53310b(0x102))/0x3)+-parseInt(_0x53310b(0xfc))/0x4+parseInt(_0x53310b(0x10f))/0x5+-parseInt(_0x53310b(0xff))/0x6+-parseInt(_0x53310b(0x10b))/0x7+parseInt(_0x53310b(0x106))/0x8;if(_0x34bfc7===_0x9fb3a6)break;else _0x4d111b['push'](_0x4d111b['shift']());}catch(_0x41f488){_0x4d111b['push'](_0x4d111b['shift']());}}}(a86_0x5c6a,0x4cd99));const a86_0x4e00f8=(function(){let _0x2ba3b9=!![];return function(_0x5121ef,_0x1a76a3){const _0x5db715=_0x2ba3b9?function(){const _0x3a4052=a86_0x4a84;if(_0x1a76a3){const _0x10727e=_0x1a76a3[_0x3a4052(0x105)](_0x5121ef,arguments);return _0x1a76a3=null,_0x10727e;}}:function(){};return _0x2ba3b9=![],_0x5db715;};}()),a86_0x26193a=a86_0x4e00f8(this,function(){const _0x32c19a=a86_0x4a84,_0x2024ea={'IXTbP':_0x32c19a(0x103)};return a86_0x26193a['toString']()['search'](_0x32c19a(0x103))[_0x32c19a(0x10a)]()['constructor'](a86_0x26193a)[_0x32c19a(0x108)](_0x2024ea[_0x32c19a(0xfe)]);});a86_0x26193a();import{defineQuery}from'groq';function a86_0x4a84(_0x18fb84,_0x2653ea){const _0x117b5c=a86_0x5c6a();return a86_0x4a84=function(_0x26193a,_0x4e00f8){_0x26193a=_0x26193a-0xfa;let _0x5c6a8c=_0x117b5c[_0x26193a];if(a86_0x4a84['GeKSfD']===undefined){var _0x4a8437=function(_0x251565){const _0x2746a4='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x169550='',_0x1fdde8='',_0x34fe1d=_0x169550+_0x4a8437;for(let _0x44b75b=0x0,_0x83831b,_0x588aef,_0x13d07c=0x0;_0x588aef=_0x251565['charAt'](_0x13d07c++);~_0x588aef&&(_0x83831b=_0x44b75b%0x4?_0x83831b*0x40+_0x588aef:_0x588aef,_0x44b75b++%0x4)?_0x169550+=_0x34fe1d['charCodeAt'](_0x13d07c+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x83831b>>(-0x2*_0x44b75b&0x6)):_0x44b75b:0x0){_0x588aef=_0x2746a4['indexOf'](_0x588aef);}for(let _0x46186d=0x0,_0x55ef36=_0x169550['length'];_0x46186d<_0x55ef36;_0x46186d++){_0x1fdde8+='%'+('00'+_0x169550['charCodeAt'](_0x46186d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1fdde8);};a86_0x4a84['WqUsFu']=_0x4a8437,_0x18fb84=arguments,a86_0x4a84['GeKSfD']=!![];}const _0x16ed65=_0x117b5c[0x0],_0x54b067=_0x26193a+_0x16ed65,_0x38cac7=_0x18fb84[_0x54b067];if(!_0x38cac7){const _0x2bda11=function(_0xd549fc){this['XgOwqJ']=_0xd549fc,this['UlVPRG']=[0x1,0x0,0x0],this['xSpYnJ']=function(){return'newState';},this['ReQZmU']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['SZnMZS']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2bda11['prototype']['pzFiTJ']=function(){const _0x4be0e8=new RegExp(this['ReQZmU']+this['SZnMZS']),_0x4631b7=_0x4be0e8['test'](this['xSpYnJ']['toString']())?--this['UlVPRG'][0x1]:--this['UlVPRG'][0x0];return this['kTwUFI'](_0x4631b7);},_0x2bda11['prototype']['kTwUFI']=function(_0x1c7d78){if(!Boolean(~_0x1c7d78))return _0x1c7d78;return this['lbshWn'](this['XgOwqJ']);},_0x2bda11['prototype']['lbshWn']=function(_0x34e819){for(let _0x2dbed6=0x0,_0x14b3db=this['UlVPRG']['length'];_0x2dbed6<_0x14b3db;_0x2dbed6++){this['UlVPRG']['push'](Math['round'](Math['random']())),_0x14b3db=this['UlVPRG']['length'];}return _0x34e819(this['UlVPRG'][0x0]);},new _0x2bda11(a86_0x4a84)['pzFiTJ'](),_0x5c6a8c=a86_0x4a84['WqUsFu'](_0x5c6a8c),_0x18fb84[_0x54b067]=_0x5c6a8c;}else _0x5c6a8c=_0x38cac7;return _0x5c6a8c;},a86_0x4a84(_0x18fb84,_0x2653ea);}function a86_0x5c6a(){const _0x20eb2c=['vxflExu','qNfHq1q','mte4nZuXnuTyzurJAa','ndu0nZy1senLBMHz','x2LK','mtu5nJm5mLPZEej5AG','u3r1zgvUDcbUB3qGzM91BMq','svHuyLa','mZy2mtu3ogTuy2DPzq','mtm4yKjzC3zw','zgf0yq','mJC5vNPovufb','kcGOlISPkYKRksSK','rerpque','yxbWBhK','mti4nJG3mJbeyxr5AKq','uLzjrvm','C2vHCMnO','EWOGicaGiMnVBxbSzxrLzeXLC3nVBNmIoIaQw190ExbLid09icjSzxnZB25dB21WBgv0Aw9UiIaMjIbZDhvKzw50lL9YzwyGpt0Gjhn0DwrLBNrjzcaMjIbJB3vYC2uUx3jLzIa9psaKy291CNnLswrDihSkicaGicaGlI4UlaOGicaGicaIBgvZC29UiJOGBgvZC29Ult57lI4UFsWkicaGicaGiM1VzhvSzsi6ig1VzhvSzs0+EY4UlN0kicaGih0ScIaGicaIy291CNnLiJOGkLTFDhLWzsa9psaIy291CNnLiIaMjIbFAwqGpt0GjgnVDxjZzuLKxvSWxsb7cIaGicaGic4UlIWkicaGicaGiM1VzhvSzxmIoIbTB2r1BgvZw10TpIb7cIaGicaGicaGlI4UlaOGicaGicaGicjSzxnZB25ZiJOGBgvZC29UC1TDlt4GEY4UlN0kicaGicaGFqOGicaGFqOGih0','Dg9tDhjPBMC','nte1mJq5r0fZt0Py','Bw9KDwXLCW'];a86_0x5c6a=function(){return _0x20eb2c;};return a86_0x5c6a();}import{sanityFetch}from'../live';import{getStudentByClerkId}from'../student/getStudentByClerkId';import{calculateCourseProgress}from'@/lib/courseProgress';export async function getCourseProgress(_0x9c2458,_0x2e3303){const _0x3abc23=a86_0x4a84,_0x1ec66a={'RVIES':_0x3abc23(0xfd),'UqKyu':function(_0x433979,_0x2eb77d){return _0x433979(_0x2eb77d);},'BqaCT':function(_0xc03f1a,_0x436d29){return _0xc03f1a(_0x436d29);},'DDOAA':function(_0x18ed0c,_0x11aa93,_0x1a1528){return _0x18ed0c(_0x11aa93,_0x1a1528);}},_0x30691d=await getStudentByClerkId(_0x9c2458);if(!_0x30691d?.['data']?.[_0x3abc23(0xfb)])throw new Error(_0x1ec66a[_0x3abc23(0x107)]);const _0x16965e=_0x1ec66a[_0x3abc23(0x10d)](defineQuery,_0x3abc23(0x109)),_0x1a3756=await _0x1ec66a[_0x3abc23(0x10e)](sanityFetch,{'query':_0x16965e,'params':{'studentId':_0x30691d['data'][_0x3abc23(0xfb)],'courseId':_0x2e3303}}),{completedLessons:completedLessons=[],course:_0x112052}=_0x1a3756[_0x3abc23(0x101)],_0x16c634=_0x1ec66a[_0x3abc23(0x104)](calculateCourseProgress,_0x112052?.[_0x3abc23(0x10c)]||null,completedLessons);return{'completedLessons':completedLessons,'courseProgress':_0x16c634};}