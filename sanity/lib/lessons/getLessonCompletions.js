(function(_0x3d9b51,_0x1247cf){const _0x2f50df=a12_0x23b4,_0x552d6c=_0x3d9b51();while(!![]){try{const _0x59ba34=-parseInt(_0x2f50df(0x147))/0x1*(-parseInt(_0x2f50df(0x145))/0x2)+parseInt(_0x2f50df(0x14a))/0x3+-parseInt(_0x2f50df(0x144))/0x4*(-parseInt(_0x2f50df(0x142))/0x5)+parseInt(_0x2f50df(0x14d))/0x6+parseInt(_0x2f50df(0x149))/0x7*(parseInt(_0x2f50df(0x14b))/0x8)+parseInt(_0x2f50df(0x14f))/0x9*(-parseInt(_0x2f50df(0x143))/0xa)+-parseInt(_0x2f50df(0x146))/0xb*(parseInt(_0x2f50df(0x148))/0xc);if(_0x59ba34===_0x1247cf)break;else _0x552d6c['push'](_0x552d6c['shift']());}catch(_0x568bc2){_0x552d6c['push'](_0x552d6c['shift']());}}}(a12_0x2858,0x46128));function a12_0x2858(){const _0x14ff96=['528NKwRLu','{\x0a\x20\x20\x20\x20\x22completedLessons\x22:\x20*[_type\x20==\x20\x22lessonCompletion\x22\x20&&\x20student._ref\x20==\x20$studentId\x20&&\x20course._ref\x20==\x20$courseId]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22lesson\x22:\x20lesson->{...},\x0a\x20\x20\x20\x20\x20\x20\x22module\x22:\x20module->{...}\x0a\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x22course\x22:\x20*[_type\x20==\x20\x22course\x22\x20&&\x20_id\x20==\x20$courseId][0]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22modules\x22:\x20modules[]->\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22lessons\x22:\x20lessons[]->\x20{...}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20}','2421156CQXAXK','lessons','50292LWGIbk','96505OkmCEt','730iCYkJR','4mwOlhe','226oWufVZ','14584262EiZiCV','5019SLOxrT','12RRygqq','50057YfBXfW','1676526nwHdej'];a12_0x2858=function(){return _0x14ff96;};return a12_0x2858();}import{defineQuery}from'groq';function a12_0x23b4(_0x498ce1,_0x91c7d2){const _0x2858d8=a12_0x2858();return a12_0x23b4=function(_0x23b400,_0x8affe2){_0x23b400=_0x23b400-0x142;let _0x1f1800=_0x2858d8[_0x23b400];return _0x1f1800;},a12_0x23b4(_0x498ce1,_0x91c7d2);}import{sanityFetch}from'../live';export async function getLessonCompletions(_0x5add74,_0x129199){const _0x1d13a5=a12_0x23b4,_0x4f8a62=defineQuery(_0x1d13a5(0x14c)),_0x249eed=await sanityFetch({'query':_0x4f8a62,'params':{'studentId':_0x5add74,'courseId':_0x129199}}),{course:_0x4ada8e,completedLessons:_0x1b8eb6}=_0x249eed['data'],_0xdb4854=_0x4ada8e?.['modules']?.['map'](_0xb484dd=>{const _0x18dc4a=_0x1d13a5,_0x3589ee=_0xb484dd[_0x18dc4a(0x14e)]?.['length']||0x0,_0x8a793=_0x1b8eb6['filter'](_0x5bb5eb=>_0x5bb5eb['module']?.['_id']===_0xb484dd['_id'])['length'];return{'moduleId':_0xb484dd['_id'],'title':_0xb484dd['title'],'progress':_0x3589ee>0x0?_0x8a793/_0x3589ee*0x64:0x0,'completedLessons':_0x8a793,'totalLessons':_0x3589ee};}),_0x2fd65d=_0x4ada8e?.['modules']?.['reduce']((_0x223e20,_0x5742ce)=>_0x223e20+(_0x5742ce?.['lessons']?.['length']||0x0),0x0)||0x0,_0x59c82f=_0x1b8eb6?.['length']||0x0,_0x565ce0=_0x2fd65d>0x0?_0x59c82f/_0x2fd65d*0x64:0x0;return{'completedLessons':_0x1b8eb6||[],'moduleProgress':_0xdb4854||[],'courseProgress':_0x565ce0};}