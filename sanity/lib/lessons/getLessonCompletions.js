(function(_0x5b9ab3,_0x1e143e){const _0x4fad83=a15_0x376d,_0x15dd57=_0x5b9ab3();while(!![]){try{const _0x4b6229=-parseInt(_0x4fad83(0xea))/0x1*(-parseInt(_0x4fad83(0xed))/0x2)+parseInt(_0x4fad83(0xf2))/0x3+parseInt(_0x4fad83(0xf0))/0x4*(-parseInt(_0x4fad83(0xe8))/0x5)+-parseInt(_0x4fad83(0xeb))/0x6+parseInt(_0x4fad83(0xe9))/0x7*(parseInt(_0x4fad83(0xef))/0x8)+parseInt(_0x4fad83(0xe7))/0x9+parseInt(_0x4fad83(0xee))/0xa;if(_0x4b6229===_0x1e143e)break;else _0x15dd57['push'](_0x15dd57['shift']());}catch(_0x3c427f){_0x15dd57['push'](_0x15dd57['shift']());}}}(a15_0x445f,0x78495));function a15_0x445f(){const _0xe84c0e=['164619nUPOUH','2845iUdipt','7AqOVXD','190136TPRnNZ','861246NglMtS','length','6QrvqPK','1609440cedgAu','328496fAmCIi','5300SJZBUW','module','1798362bcFoFA','reduce'];a15_0x445f=function(){return _0xe84c0e;};return a15_0x445f();}import{defineQuery}from'groq';function a15_0x376d(_0x4aec74,_0x20f265){const _0x445fe2=a15_0x445f();return a15_0x376d=function(_0x376d5b,_0x2f893b){_0x376d5b=_0x376d5b-0xe7;let _0xa72d03=_0x445fe2[_0x376d5b];return _0xa72d03;},a15_0x376d(_0x4aec74,_0x20f265);}import{sanityFetch}from'../live';export async function getLessonCompletions(_0x1813f0,_0x2004bf){const _0x1e822f=a15_0x376d,_0x4c5899=defineQuery('{\x0a\x20\x20\x20\x20\x22completedLessons\x22:\x20*[_type\x20==\x20\x22lessonCompletion\x22\x20&&\x20student._ref\x20==\x20$studentId\x20&&\x20course._ref\x20==\x20$courseId]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22lesson\x22:\x20lesson->{...},\x0a\x20\x20\x20\x20\x20\x20\x22module\x22:\x20module->{...}\x0a\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x22course\x22:\x20*[_type\x20==\x20\x22course\x22\x20&&\x20_id\x20==\x20$courseId][0]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22modules\x22:\x20modules[]->\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22lessons\x22:\x20lessons[]->\x20{...}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20}'),_0x4a2d0e=await sanityFetch({'query':_0x4c5899,'params':{'studentId':_0x1813f0,'courseId':_0x2004bf}}),{course:_0xc02b32,completedLessons:_0x2e0ed3}=_0x4a2d0e['data'],_0x1a2cc6=_0xc02b32?.['modules']?.['map'](_0x468753=>{const _0x4dce79=a15_0x376d,_0x29e247=_0x468753['lessons']?.['length']||0x0,_0xdf218a=_0x2e0ed3['filter'](_0x37493c=>_0x37493c[_0x4dce79(0xf1)]?.['_id']===_0x468753['_id'])['length'];return{'moduleId':_0x468753['_id'],'title':_0x468753['title'],'progress':_0x29e247>0x0?_0xdf218a/_0x29e247*0x64:0x0,'completedLessons':_0xdf218a,'totalLessons':_0x29e247};}),_0x1891b7=_0xc02b32?.['modules']?.[_0x1e822f(0xf3)]((_0x4ccffd,_0x4147f9)=>_0x4ccffd+(_0x4147f9?.['lessons']?.['length']||0x0),0x0)||0x0,_0x87f27d=_0x2e0ed3?.[_0x1e822f(0xec)]||0x0,_0x17a5f2=_0x1891b7>0x0?_0x87f27d/_0x1891b7*0x64:0x0;return{'completedLessons':_0x2e0ed3||[],'moduleProgress':_0x1a2cc6||[],'courseProgress':_0x17a5f2};}