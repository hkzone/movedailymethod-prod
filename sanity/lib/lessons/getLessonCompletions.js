(function(_0x4d66df,_0x54460b){const _0x211d8d=a12_0x5611,_0x3ae36e=_0x4d66df();while(!![]){try{const _0x56d5ec=parseInt(_0x211d8d(0x1db))/0x1+-parseInt(_0x211d8d(0x1d7))/0x2*(-parseInt(_0x211d8d(0x1d8))/0x3)+-parseInt(_0x211d8d(0x1d4))/0x4+-parseInt(_0x211d8d(0x1da))/0x5+-parseInt(_0x211d8d(0x1d2))/0x6*(parseInt(_0x211d8d(0x1d5))/0x7)+-parseInt(_0x211d8d(0x1d3))/0x8+parseInt(_0x211d8d(0x1d6))/0x9;if(_0x56d5ec===_0x54460b)break;else _0x3ae36e['push'](_0x3ae36e['shift']());}catch(_0x303956){_0x3ae36e['push'](_0x3ae36e['shift']());}}}(a12_0x41cf,0x94ba9));import{defineQuery}from'groq';function a12_0x5611(_0x296e35,_0x18a204){const _0x41cf55=a12_0x41cf();return a12_0x5611=function(_0x561118,_0x255ab0){_0x561118=_0x561118-0x1d2;let _0x312d98=_0x41cf55[_0x561118];if(a12_0x5611['qxZjLw']===undefined){var _0x107bfa=function(_0x5510ba){const _0x30a70d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x7b782='',_0x38a1ba='';for(let _0x51473a=0x0,_0x160e5d,_0x5271f4,_0x5820e7=0x0;_0x5271f4=_0x5510ba['charAt'](_0x5820e7++);~_0x5271f4&&(_0x160e5d=_0x51473a%0x4?_0x160e5d*0x40+_0x5271f4:_0x5271f4,_0x51473a++%0x4)?_0x7b782+=String['fromCharCode'](0xff&_0x160e5d>>(-0x2*_0x51473a&0x6)):0x0){_0x5271f4=_0x30a70d['indexOf'](_0x5271f4);}for(let _0x48f15c=0x0,_0x13a147=_0x7b782['length'];_0x48f15c<_0x13a147;_0x48f15c++){_0x38a1ba+='%'+('00'+_0x7b782['charCodeAt'](_0x48f15c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x38a1ba);};a12_0x5611['HodnQy']=_0x107bfa,_0x296e35=arguments,a12_0x5611['qxZjLw']=!![];}const _0x158919=_0x41cf55[0x0],_0x28e662=_0x561118+_0x158919,_0x398e5e=_0x296e35[_0x28e662];return!_0x398e5e?(_0x312d98=a12_0x5611['HodnQy'](_0x312d98),_0x296e35[_0x28e662]=_0x312d98):_0x312d98=_0x398e5e,_0x312d98;},a12_0x5611(_0x296e35,_0x18a204);}import{sanityFetch}from'../live';function a12_0x41cf(){const _0x1cd97e=['nKPUD0P5sq','Bw9KDwXLCW','mZK5nZe0nwDHsNLxzW','nta0nJi1uLrYrgTj','mtqWmZm0nMXQzhbNsa','nJqWmdmYoeDxsxDWsW','ota4ota0vwrUwhDW','mZvuq2reENi','mJuXmZmWmtnOzeDoDva','mZa4mtyYDfDcDvvM'];a12_0x41cf=function(){return _0x1cd97e;};return a12_0x41cf();}export async function getLessonCompletions(_0x5510ba,_0x30a70d){const _0x20f316=a12_0x5611,_0x7b782=defineQuery('{\x0a\x20\x20\x20\x20\x22completedLessons\x22:\x20*[_type\x20==\x20\x22lessonCompletion\x22\x20&&\x20student._ref\x20==\x20$studentId\x20&&\x20course._ref\x20==\x20$courseId]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22lesson\x22:\x20lesson->{...},\x0a\x20\x20\x20\x20\x20\x20\x22module\x22:\x20module->{...}\x0a\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x22course\x22:\x20*[_type\x20==\x20\x22course\x22\x20&&\x20_id\x20==\x20$courseId][0]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22modules\x22:\x20modules[]->\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22lessons\x22:\x20lessons[]->\x20{...}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20}'),_0x38a1ba=await sanityFetch({'query':_0x7b782,'params':{'studentId':_0x5510ba,'courseId':_0x30a70d}}),{course:_0x51473a,completedLessons:_0x160e5d}=_0x38a1ba['data'],_0x5271f4=_0x51473a?.['modules']?.['map'](_0x306f82=>{const _0x4d8a1e=_0x306f82['lessons']?.['length']||0x0,_0x5e8813=_0x160e5d['filter'](_0x1ba83d=>_0x1ba83d['module']?.['_id']===_0x306f82['_id'])['length'];return{'moduleId':_0x306f82['_id'],'title':_0x306f82['title'],'progress':_0x4d8a1e>0x0?_0x5e8813/_0x4d8a1e*0x64:0x0,'completedLessons':_0x5e8813,'totalLessons':_0x4d8a1e};}),_0x5820e7=_0x51473a?.[_0x20f316(0x1d9)]?.['reduce']((_0x4b8abe,_0x1cfa07)=>_0x4b8abe+(_0x1cfa07?.['lessons']?.['length']||0x0),0x0)||0x0,_0x48f15c=_0x160e5d?.['length']||0x0,_0x13a147=_0x5820e7>0x0?_0x48f15c/_0x5820e7*0x64:0x0;return{'completedLessons':_0x160e5d||[],'moduleProgress':_0x5271f4||[],'courseProgress':_0x13a147};}