(function(_0x1a9156,_0x13d210){const _0x35fabc=a15_0x2d24,_0x4e3851=_0x1a9156();while(!![]){try{const _0x4ba8ee=-parseInt(_0x35fabc(0x141))/0x1*(parseInt(_0x35fabc(0x146))/0x2)+parseInt(_0x35fabc(0x13e))/0x3+-parseInt(_0x35fabc(0x13c))/0x4*(parseInt(_0x35fabc(0x13f))/0x5)+-parseInt(_0x35fabc(0x140))/0x6+parseInt(_0x35fabc(0x142))/0x7*(-parseInt(_0x35fabc(0x144))/0x8)+parseInt(_0x35fabc(0x13b))/0x9+parseInt(_0x35fabc(0x145))/0xa;if(_0x4ba8ee===_0x13d210)break;else _0x4e3851['push'](_0x4e3851['shift']());}catch(_0x48de19){_0x4e3851['push'](_0x4e3851['shift']());}}}(a15_0x23ff,0xd47cb));function a15_0x23ff(){const _0x1f36bf=['15275950wkuRKI','120044AgPCCd','13111308UVJbIS','1147500YTvaMV','lessons','3380811yfMfYx','20XzGkLe','6513714SDeKCn','1XHtwiT','273yFhOTR','length','194432Tcjwrq'];a15_0x23ff=function(){return _0x1f36bf;};return a15_0x23ff();}import{defineQuery}from'groq';function a15_0x2d24(_0x3035ea,_0x25ac15){const _0x23ff6c=a15_0x23ff();return a15_0x2d24=function(_0x2d24c7,_0x850bfb){_0x2d24c7=_0x2d24c7-0x13b;let _0x35998f=_0x23ff6c[_0x2d24c7];return _0x35998f;},a15_0x2d24(_0x3035ea,_0x25ac15);}import{sanityFetch}from'../live';export async function getLessonCompletions(_0x5f1261,_0x2f15b3){const _0x54faca=a15_0x2d24,_0x9c2aae=defineQuery('{\x0a\x20\x20\x20\x20\x22completedLessons\x22:\x20*[_type\x20==\x20\x22lessonCompletion\x22\x20&&\x20student._ref\x20==\x20$studentId\x20&&\x20course._ref\x20==\x20$courseId]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22lesson\x22:\x20lesson->{...},\x0a\x20\x20\x20\x20\x20\x20\x22module\x22:\x20module->{...}\x0a\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x22course\x22:\x20*[_type\x20==\x20\x22course\x22\x20&&\x20_id\x20==\x20$courseId][0]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22modules\x22:\x20modules[]->\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22lessons\x22:\x20lessons[]->\x20{...}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20}'),_0x263af5=await sanityFetch({'query':_0x9c2aae,'params':{'studentId':_0x5f1261,'courseId':_0x2f15b3}}),{course:_0x3cf20b,completedLessons:_0x5d0c35}=_0x263af5['data'],_0x59f7da=_0x3cf20b?.['modules']?.['map'](_0x1e1c0f=>{const _0x4bb8af=a15_0x2d24,_0x565a7f=_0x1e1c0f[_0x4bb8af(0x13d)]?.['length']||0x0,_0x3e390a=_0x5d0c35['filter'](_0x37dde7=>_0x37dde7['module']?.['_id']===_0x1e1c0f['_id'])['length'];return{'moduleId':_0x1e1c0f['_id'],'title':_0x1e1c0f['title'],'progress':_0x565a7f>0x0?_0x3e390a/_0x565a7f*0x64:0x0,'completedLessons':_0x3e390a,'totalLessons':_0x565a7f};}),_0x260543=_0x3cf20b?.['modules']?.['reduce']((_0x527c46,_0xe4bb0f)=>_0x527c46+(_0xe4bb0f?.['lessons']?.[_0x54faca(0x143)]||0x0),0x0)||0x0,_0x10ba39=_0x5d0c35?.['length']||0x0,_0x136186=_0x260543>0x0?_0x10ba39/_0x260543*0x64:0x0;return{'completedLessons':_0x5d0c35||[],'moduleProgress':_0x59f7da||[],'courseProgress':_0x136186};}