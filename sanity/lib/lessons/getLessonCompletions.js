(function(_0x450fa3,_0x154d23){const _0x182d9b=a15_0x58ed,_0x19befa=_0x450fa3();while(!![]){try{const _0x23171e=-parseInt(_0x182d9b(0x18e))/0x1+parseInt(_0x182d9b(0x18d))/0x2*(-parseInt(_0x182d9b(0x18a))/0x3)+-parseInt(_0x182d9b(0x193))/0x4*(-parseInt(_0x182d9b(0x188))/0x5)+parseInt(_0x182d9b(0x18b))/0x6+-parseInt(_0x182d9b(0x190))/0x7*(-parseInt(_0x182d9b(0x191))/0x8)+-parseInt(_0x182d9b(0x18f))/0x9*(-parseInt(_0x182d9b(0x18c))/0xa)+parseInt(_0x182d9b(0x192))/0xb;if(_0x23171e===_0x154d23)break;else _0x19befa['push'](_0x19befa['shift']());}catch(_0x6977a6){_0x19befa['push'](_0x19befa['shift']());}}}(a15_0x5a88,0xcf0a5));import{defineQuery}from'groq';function a15_0x58ed(_0x29a9e5,_0x3445ca){const _0x5a88f2=a15_0x5a88();return a15_0x58ed=function(_0x58edfa,_0xfde2d1){_0x58edfa=_0x58edfa-0x188;let _0x334352=_0x5a88f2[_0x58edfa];return _0x334352;},a15_0x58ed(_0x29a9e5,_0x3445ca);}import{sanityFetch}from'../live';export async function getLessonCompletions(_0x4b3502,_0x44f52d){const _0x55c63c=a15_0x58ed,_0x267287=defineQuery('{\x0a\x20\x20\x20\x20\x22completedLessons\x22:\x20*[_type\x20==\x20\x22lessonCompletion\x22\x20&&\x20student._ref\x20==\x20$studentId\x20&&\x20course._ref\x20==\x20$courseId]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22lesson\x22:\x20lesson->{...},\x0a\x20\x20\x20\x20\x20\x20\x22module\x22:\x20module->{...}\x0a\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x22course\x22:\x20*[_type\x20==\x20\x22course\x22\x20&&\x20_id\x20==\x20$courseId][0]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22modules\x22:\x20modules[]->\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22lessons\x22:\x20lessons[]->\x20{...}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20}'),_0x23f6f8=await sanityFetch({'query':_0x267287,'params':{'studentId':_0x4b3502,'courseId':_0x44f52d}}),{course:_0x1923dd,completedLessons:_0x8aefd5}=_0x23f6f8['data'],_0x975a55=_0x1923dd?.['modules']?.['map'](_0x34fc96=>{const _0x8b079=_0x34fc96['lessons']?.['length']||0x0,_0x1d061f=_0x8aefd5['filter'](_0x1a2efb=>_0x1a2efb['module']?.['_id']===_0x34fc96['_id'])['length'];return{'moduleId':_0x34fc96['_id'],'title':_0x34fc96['title'],'progress':_0x8b079>0x0?_0x1d061f/_0x8b079*0x64:0x0,'completedLessons':_0x1d061f,'totalLessons':_0x8b079};}),_0x48f849=_0x1923dd?.['modules']?.['reduce']((_0x430631,_0x57038f)=>_0x430631+(_0x57038f?.['lessons']?.['length']||0x0),0x0)||0x0,_0x2df8fb=_0x8aefd5?.[_0x55c63c(0x189)]||0x0,_0x2580f9=_0x48f849>0x0?_0x2df8fb/_0x48f849*0x64:0x0;return{'completedLessons':_0x8aefd5||[],'moduleProgress':_0x975a55||[],'courseProgress':_0x2580f9};}function a15_0x5a88(){const _0x4d45cd=['1024560RRMoTG','16757037XEfJsx','4048412htJRYv','5RjRrMp','length','495597AGgwng','227004YawQVV','10cyUVAv','4MHhHYd','1603688BhaxWm','726741YfhayX','7RQdWIn'];a15_0x5a88=function(){return _0x4d45cd;};return a15_0x5a88();}