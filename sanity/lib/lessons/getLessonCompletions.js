(function(_0x10690a,_0x22075a){const _0x56f431=a15_0x5ba6,_0x4c6c35=_0x10690a();while(!![]){try{const _0x415c79=parseInt(_0x56f431(0x1b9))/0x1+-parseInt(_0x56f431(0x1bd))/0x2*(parseInt(_0x56f431(0x1bf))/0x3)+parseInt(_0x56f431(0x1c1))/0x4*(-parseInt(_0x56f431(0x1ba))/0x5)+parseInt(_0x56f431(0x1b8))/0x6+-parseInt(_0x56f431(0x1c2))/0x7+-parseInt(_0x56f431(0x1be))/0x8*(parseInt(_0x56f431(0x1bc))/0x9)+parseInt(_0x56f431(0x1c0))/0xa*(parseInt(_0x56f431(0x1bb))/0xb);if(_0x415c79===_0x22075a)break;else _0x4c6c35['push'](_0x4c6c35['shift']());}catch(_0x1a01b9){_0x4c6c35['push'](_0x4c6c35['shift']());}}}(a15_0x358b,0x468d7));import{defineQuery}from'groq';function a15_0x5ba6(_0x248f70,_0x3c20cd){const _0x358b53=a15_0x358b();return a15_0x5ba6=function(_0x5ba628,_0xc2683b){_0x5ba628=_0x5ba628-0x1b8;let _0x439dc2=_0x358b53[_0x5ba628];return _0x439dc2;},a15_0x5ba6(_0x248f70,_0x3c20cd);}import{sanityFetch}from'../live';export async function getLessonCompletions(_0x14093e,_0x48b8e4){const _0x4b6084=defineQuery('{\x0a\x20\x20\x20\x20\x22completedLessons\x22:\x20*[_type\x20==\x20\x22lessonCompletion\x22\x20&&\x20student._ref\x20==\x20$studentId\x20&&\x20course._ref\x20==\x20$courseId]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22lesson\x22:\x20lesson->{...},\x0a\x20\x20\x20\x20\x20\x20\x22module\x22:\x20module->{...}\x0a\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x22course\x22:\x20*[_type\x20==\x20\x22course\x22\x20&&\x20_id\x20==\x20$courseId][0]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22modules\x22:\x20modules[]->\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22lessons\x22:\x20lessons[]->\x20{...}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20}'),_0x40757f=await sanityFetch({'query':_0x4b6084,'params':{'studentId':_0x14093e,'courseId':_0x48b8e4}}),{course:_0x1113d0,completedLessons:_0x5c623a}=_0x40757f['data'],_0x48cc59=_0x1113d0?.['modules']?.['map'](_0x26f132=>{const _0x585362=_0x26f132['lessons']?.['length']||0x0,_0x47debf=_0x5c623a['filter'](_0x4cfc7d=>_0x4cfc7d['module']?.['_id']===_0x26f132['_id'])['length'];return{'moduleId':_0x26f132['_id'],'title':_0x26f132['title'],'progress':_0x585362>0x0?_0x47debf/_0x585362*0x64:0x0,'completedLessons':_0x47debf,'totalLessons':_0x585362};}),_0x8369ca=_0x1113d0?.['modules']?.['reduce']((_0x2ac399,_0x320a55)=>_0x2ac399+(_0x320a55?.['lessons']?.['length']||0x0),0x0)||0x0,_0x3b0bd2=_0x5c623a?.['length']||0x0,_0x6f55d2=_0x8369ca>0x0?_0x3b0bd2/_0x8369ca*0x64:0x0;return{'completedLessons':_0x5c623a||[],'moduleProgress':_0x48cc59||[],'courseProgress':_0x6f55d2};}function a15_0x358b(){const _0x52308d=['126992LSgvxq','131946SjUajW','9820qEYkFu','208QINGJL','357490EBCPml','3115092oNbxbc','222609yAvClH','53655nzPizX','8811UVgiIQ','108oPNutE','20ZvIbHg'];a15_0x358b=function(){return _0x52308d;};return a15_0x358b();}