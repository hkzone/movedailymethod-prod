function a12_0xa7dd(_0x3e582d,_0x30ef11){const _0x1c47d0=a12_0x1c47();return a12_0xa7dd=function(_0xa7dd5,_0x23a4d4){_0xa7dd5=_0xa7dd5-0x15c;let _0x14f22f=_0x1c47d0[_0xa7dd5];return _0x14f22f;},a12_0xa7dd(_0x3e582d,_0x30ef11);}(function(_0x521fad,_0x4d214a){const _0x1e5e1c=a12_0xa7dd,_0x3b3a4c=_0x521fad();while(!![]){try{const _0x375bfd=-parseInt(_0x1e5e1c(0x167))/0x1*(-parseInt(_0x1e5e1c(0x162))/0x2)+-parseInt(_0x1e5e1c(0x160))/0x3+-parseInt(_0x1e5e1c(0x15c))/0x4*(parseInt(_0x1e5e1c(0x15d))/0x5)+-parseInt(_0x1e5e1c(0x164))/0x6*(-parseInt(_0x1e5e1c(0x166))/0x7)+-parseInt(_0x1e5e1c(0x161))/0x8+-parseInt(_0x1e5e1c(0x15f))/0x9+parseInt(_0x1e5e1c(0x165))/0xa*(parseInt(_0x1e5e1c(0x163))/0xb);if(_0x375bfd===_0x4d214a)break;else _0x3b3a4c['push'](_0x3b3a4c['shift']());}catch(_0x44a631){_0x3b3a4c['push'](_0x3b3a4c['shift']());}}}(a12_0x1c47,0x82664));import{defineQuery}from'groq';function a12_0x1c47(){const _0x183b83=['18cDaPiH','1108470XkFXxr','1948835ezQfJX','6713pVBOKH','2322524tjsDuQ','5ITFRNY','modules','8922870IXqIVq','2421714uSQPKM','3877656mYmcFz','4eHqrCq','253kxEuTV'];a12_0x1c47=function(){return _0x183b83;};return a12_0x1c47();}import{sanityFetch}from'../live';export async function getLessonCompletions(_0x238dd9,_0x35a912){const _0x37e54e=a12_0xa7dd,_0x3682f2=defineQuery('{\x0a\x20\x20\x20\x20\x22completedLessons\x22:\x20*[_type\x20==\x20\x22lessonCompletion\x22\x20&&\x20student._ref\x20==\x20$studentId\x20&&\x20course._ref\x20==\x20$courseId]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22lesson\x22:\x20lesson->{...},\x0a\x20\x20\x20\x20\x20\x20\x22module\x22:\x20module->{...}\x0a\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x22course\x22:\x20*[_type\x20==\x20\x22course\x22\x20&&\x20_id\x20==\x20$courseId][0]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22modules\x22:\x20modules[]->\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22lessons\x22:\x20lessons[]->\x20{...}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20}'),_0x46d41a=await sanityFetch({'query':_0x3682f2,'params':{'studentId':_0x238dd9,'courseId':_0x35a912}}),{course:_0x429294,completedLessons:_0x5c7d51}=_0x46d41a['data'],_0x41c41d=_0x429294?.[_0x37e54e(0x15e)]?.['map'](_0x321bfa=>{const _0x34578c=_0x321bfa['lessons']?.['length']||0x0,_0x1eb225=_0x5c7d51['filter'](_0x2e0e21=>_0x2e0e21['module']?.['_id']===_0x321bfa['_id'])['length'];return{'moduleId':_0x321bfa['_id'],'title':_0x321bfa['title'],'progress':_0x34578c>0x0?_0x1eb225/_0x34578c*0x64:0x0,'completedLessons':_0x1eb225,'totalLessons':_0x34578c};}),_0x11146d=_0x429294?.['modules']?.['reduce']((_0x3d87fe,_0x4a43d6)=>_0x3d87fe+(_0x4a43d6?.['lessons']?.['length']||0x0),0x0)||0x0,_0x26389d=_0x5c7d51?.['length']||0x0,_0xa1c2b2=_0x11146d>0x0?_0x26389d/_0x11146d*0x64:0x0;return{'completedLessons':_0x5c7d51||[],'moduleProgress':_0x41c41d||[],'courseProgress':_0xa1c2b2};}