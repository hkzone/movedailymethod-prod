(function(_0x2d24dc,_0x5e5db4){const _0x552dc4=a12_0xb6c2,_0x32e829=_0x2d24dc();while(!![]){try{const _0x329ee4=-parseInt(_0x552dc4(0x10f))/0x1+parseInt(_0x552dc4(0x115))/0x2+parseInt(_0x552dc4(0x11a))/0x3*(-parseInt(_0x552dc4(0x116))/0x4)+parseInt(_0x552dc4(0x112))/0x5*(-parseInt(_0x552dc4(0x110))/0x6)+-parseInt(_0x552dc4(0x10e))/0x7+parseInt(_0x552dc4(0x118))/0x8+-parseInt(_0x552dc4(0x119))/0x9*(-parseInt(_0x552dc4(0x114))/0xa);if(_0x329ee4===_0x5e5db4)break;else _0x32e829['push'](_0x32e829['shift']());}catch(_0x481823){_0x32e829['push'](_0x32e829['shift']());}}}(a12_0x56f7,0x3afc7));import{defineQuery}from'groq';function a12_0xb6c2(_0x3370b2,_0x244097){const _0x56f731=a12_0x56f7();return a12_0xb6c2=function(_0xb6c225,_0x26dade){_0xb6c225=_0xb6c225-0x10e;let _0x5b0934=_0x56f731[_0xb6c225];return _0x5b0934;},a12_0xb6c2(_0x3370b2,_0x244097);}function a12_0x56f7(){const _0x1f3f81=['432565Tvvhqw','28597XIhmHb','2033304eYepfy','length','5MmPDSW','reduce','40FUXVvF','821410JeuQOX','8OSrnCL','_id','2821088dgQanR','653571rjfPzo','574401KxBZRI'];a12_0x56f7=function(){return _0x1f3f81;};return a12_0x56f7();}import{sanityFetch}from'../live';export async function getLessonCompletions(_0x26227a,_0x273f88){const _0x385c28=a12_0xb6c2,_0x8dd24e=defineQuery('{\x0a\x20\x20\x20\x20\x22completedLessons\x22:\x20*[_type\x20==\x20\x22lessonCompletion\x22\x20&&\x20student._ref\x20==\x20$studentId\x20&&\x20course._ref\x20==\x20$courseId]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22lesson\x22:\x20lesson->{...},\x0a\x20\x20\x20\x20\x20\x20\x22module\x22:\x20module->{...}\x0a\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x22course\x22:\x20*[_type\x20==\x20\x22course\x22\x20&&\x20_id\x20==\x20$courseId][0]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22modules\x22:\x20modules[]->\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22lessons\x22:\x20lessons[]->\x20{...}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20}'),_0x2fdf07=await sanityFetch({'query':_0x8dd24e,'params':{'studentId':_0x26227a,'courseId':_0x273f88}}),{course:_0x2be9ce,completedLessons:_0x8fb9bf}=_0x2fdf07['data'],_0x5db8ea=_0x2be9ce?.['modules']?.['map'](_0x3e2987=>{const _0x490edb=a12_0xb6c2,_0xc9229=_0x3e2987['lessons']?.[_0x490edb(0x111)]||0x0,_0x594f2a=_0x8fb9bf['filter'](_0x4ec4b6=>_0x4ec4b6['module']?.[_0x490edb(0x117)]===_0x3e2987['_id'])['length'];return{'moduleId':_0x3e2987['_id'],'title':_0x3e2987['title'],'progress':_0xc9229>0x0?_0x594f2a/_0xc9229*0x64:0x0,'completedLessons':_0x594f2a,'totalLessons':_0xc9229};}),_0x531261=_0x2be9ce?.['modules']?.[_0x385c28(0x113)]((_0x2da648,_0x2e84c7)=>_0x2da648+(_0x2e84c7?.['lessons']?.['length']||0x0),0x0)||0x0,_0x47db05=_0x8fb9bf?.['length']||0x0,_0x2d1033=_0x531261>0x0?_0x47db05/_0x531261*0x64:0x0;return{'completedLessons':_0x8fb9bf||[],'moduleProgress':_0x5db8ea||[],'courseProgress':_0x2d1033};}