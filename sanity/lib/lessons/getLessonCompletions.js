function a12_0x41ff(_0x64e360,_0xa0c243){const _0x3a76f7=a12_0x3a76();return a12_0x41ff=function(_0x41ff42,_0x5876bf){_0x41ff42=_0x41ff42-0x1b3;let _0x4b0648=_0x3a76f7[_0x41ff42];return _0x4b0648;},a12_0x41ff(_0x64e360,_0xa0c243);}(function(_0x3b7ba0,_0x134a00){const _0xc4b13e=a12_0x41ff,_0x409875=_0x3b7ba0();while(!![]){try{const _0x32a650=parseInt(_0xc4b13e(0x1ba))/0x1*(-parseInt(_0xc4b13e(0x1b6))/0x2)+parseInt(_0xc4b13e(0x1bb))/0x3+-parseInt(_0xc4b13e(0x1b7))/0x4+parseInt(_0xc4b13e(0x1b3))/0x5+parseInt(_0xc4b13e(0x1b5))/0x6+-parseInt(_0xc4b13e(0x1bc))/0x7*(-parseInt(_0xc4b13e(0x1bd))/0x8)+-parseInt(_0xc4b13e(0x1b9))/0x9;if(_0x32a650===_0x134a00)break;else _0x409875['push'](_0x409875['shift']());}catch(_0x270d74){_0x409875['push'](_0x409875['shift']());}}}(a12_0x3a76,0xa517c));import{defineQuery}from'groq';function a12_0x3a76(){const _0x28f85c=['3781836dgvVpS','119PnZZlt','620784IJsDtE','5500775cqRxPI','{\x0a\x20\x20\x20\x20\x22completedLessons\x22:\x20*[_type\x20==\x20\x22lessonCompletion\x22\x20&&\x20student._ref\x20==\x20$studentId\x20&&\x20course._ref\x20==\x20$courseId]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22lesson\x22:\x20lesson->{...},\x0a\x20\x20\x20\x20\x20\x20\x22module\x22:\x20module->{...}\x0a\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x22course\x22:\x20*[_type\x20==\x20\x22course\x22\x20&&\x20_id\x20==\x20$courseId][0]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22modules\x22:\x20modules[]->\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22lessons\x22:\x20lessons[]->\x20{...}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20}','7545840NNbNIV','376502OQaPri','115924piAWNs','_id','33008571QyqYgs','3AmUDUn'];a12_0x3a76=function(){return _0x28f85c;};return a12_0x3a76();}import{sanityFetch}from'../live';export async function getLessonCompletions(_0x24f861,_0x45ae1d){const _0xc83053=a12_0x41ff,_0x20cd51=defineQuery(_0xc83053(0x1b4)),_0x133edb=await sanityFetch({'query':_0x20cd51,'params':{'studentId':_0x24f861,'courseId':_0x45ae1d}}),{course:_0x1c084d,completedLessons:_0x334996}=_0x133edb['data'],_0xaa960a=_0x1c084d?.['modules']?.['map'](_0x21ba49=>{const _0x46c930=_0xc83053,_0x312de4=_0x21ba49['lessons']?.['length']||0x0,_0x1f2104=_0x334996['filter'](_0x36d16d=>_0x36d16d['module']?.[_0x46c930(0x1b8)]===_0x21ba49['_id'])['length'];return{'moduleId':_0x21ba49['_id'],'title':_0x21ba49['title'],'progress':_0x312de4>0x0?_0x1f2104/_0x312de4*0x64:0x0,'completedLessons':_0x1f2104,'totalLessons':_0x312de4};}),_0x5dd657=_0x1c084d?.['modules']?.['reduce']((_0x51c2a9,_0x2580c1)=>_0x51c2a9+(_0x2580c1?.['lessons']?.['length']||0x0),0x0)||0x0,_0x3d8813=_0x334996?.['length']||0x0,_0x46e8d1=_0x5dd657>0x0?_0x3d8813/_0x5dd657*0x64:0x0;return{'completedLessons':_0x334996||[],'moduleProgress':_0xaa960a||[],'courseProgress':_0x46e8d1};}