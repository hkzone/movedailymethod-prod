function a12_0x31d3(){const _0x47dd4e=['nZK4ndG2nhDdA0DQCq','zMLSDgvY','EWOGicaGiMnVBxbSzxrLzeXLC3nVBNmIoIaQw190ExbLid09icjSzxnZB25dB21WBgv0Aw9UiIaMjIbZDhvKzw50lL9YzwyGpt0Gjhn0DwrLBNrjzcaMjIbJB3vYC2uUx3jLzIa9psaKy291CNnLswrDihSkicaGicaGlI4UlaOGicaGicaIBgvZC29UiJOGBgvZC29Ult57lI4UFsWkicaGicaGiM1VzhvSzsi6ig1VzhvSzs0+EY4UlN0kicaGih0ScIaGicaIy291CNnLiJOGkLTFDhLWzsa9psaIy291CNnLiIaMjIbFAwqGpt0GjgnVDxjZzuLKxvSWxsb7cIaGicaGic4UlIWkicaGicaGiM1VzhvSzxmIoIbTB2r1BgvZw10TpIb7cIaGicaGicaGlI4UlaOGicaGicaGicjSzxnZB25ZiJOGBgvZC29UC1TDlt4GEY4UlN0kicaGicaGFqOGicaGFqOGih0','ntuXmJKYr0LWBM9N','zgf0yq','mta2mNvruwXlvG','mtbisxr0qvi','nduYnJe5r0TWvu9w','mti0mti3nuXtAevuzq','x2LK','mZa5mZe3mwvIAfnkzq','BgvUz3rO','mtyZmtu3nKXSuwfyqq','DgL0Bgu','nhPytwTfqq','nZG3mdbjy1vVvfK','Bw9KDwXLCW','BwfW'];a12_0x31d3=function(){return _0x47dd4e;};return a12_0x31d3();}function a12_0x4457(_0x54d788,_0x5c16a3){const _0x31d345=a12_0x31d3();return a12_0x4457=function(_0x44577b,_0x3819d5){_0x44577b=_0x44577b-0x13d;let _0x3a50b9=_0x31d345[_0x44577b];if(a12_0x4457['NjwUaT']===undefined){var _0x4f55ff=function(_0x36d46c){const _0xc8c7fe='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x21c10e='',_0x47a8aa='';for(let _0x56fe38=0x0,_0x299f88,_0x17c31e,_0x288496=0x0;_0x17c31e=_0x36d46c['charAt'](_0x288496++);~_0x17c31e&&(_0x299f88=_0x56fe38%0x4?_0x299f88*0x40+_0x17c31e:_0x17c31e,_0x56fe38++%0x4)?_0x21c10e+=String['fromCharCode'](0xff&_0x299f88>>(-0x2*_0x56fe38&0x6)):0x0){_0x17c31e=_0xc8c7fe['indexOf'](_0x17c31e);}for(let _0x512464=0x0,_0x82c522=_0x21c10e['length'];_0x512464<_0x82c522;_0x512464++){_0x47a8aa+='%'+('00'+_0x21c10e['charCodeAt'](_0x512464)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x47a8aa);};a12_0x4457['iMqUKO']=_0x4f55ff,_0x54d788=arguments,a12_0x4457['NjwUaT']=!![];}const _0x2c58d8=_0x31d345[0x0],_0x1485fd=_0x44577b+_0x2c58d8,_0x5694bc=_0x54d788[_0x1485fd];return!_0x5694bc?(_0x3a50b9=a12_0x4457['iMqUKO'](_0x3a50b9),_0x54d788[_0x1485fd]=_0x3a50b9):_0x3a50b9=_0x5694bc,_0x3a50b9;},a12_0x4457(_0x54d788,_0x5c16a3);}(function(_0x1cc7d0,_0x2abd2b){const _0x205014=a12_0x4457,_0x55027c=_0x1cc7d0();while(!![]){try{const _0x10bc65=parseInt(_0x205014(0x13d))/0x1+-parseInt(_0x205014(0x142))/0x2+parseInt(_0x205014(0x140))/0x3*(-parseInt(_0x205014(0x144))/0x4)+-parseInt(_0x205014(0x14e))/0x5*(-parseInt(_0x205014(0x14b))/0x6)+-parseInt(_0x205014(0x13e))/0x7+parseInt(_0x205014(0x148))/0x8+parseInt(_0x205014(0x14d))/0x9*(parseInt(_0x205014(0x145))/0xa);if(_0x10bc65===_0x2abd2b)break;else _0x55027c['push'](_0x55027c['shift']());}catch(_0x133d0a){_0x55027c['push'](_0x55027c['shift']());}}}(a12_0x31d3,0x83965));import{defineQuery}from'groq';import{sanityFetch}from'../live';export async function getLessonCompletions(_0x36d46c,_0xc8c7fe){const _0x388280=a12_0x4457,_0x21c10e=defineQuery(_0x388280(0x14a)),_0x47a8aa=await sanityFetch({'query':_0x21c10e,'params':{'studentId':_0x36d46c,'courseId':_0xc8c7fe}}),{course:_0x56fe38,completedLessons:_0x299f88}=_0x47a8aa[_0x388280(0x14c)],_0x17c31e=_0x56fe38?.['modules']?.[_0x388280(0x147)](_0x4c705e=>{const _0x264aa1=_0x388280,_0x3d99ed=_0x4c705e['lessons']?.[_0x264aa1(0x141)]||0x0,_0x363d69=_0x299f88[_0x264aa1(0x149)](_0x5d6796=>_0x5d6796['module']?.[_0x264aa1(0x13f)]===_0x4c705e['_id'])['length'];return{'moduleId':_0x4c705e[_0x264aa1(0x13f)],'title':_0x4c705e[_0x264aa1(0x143)],'progress':_0x3d99ed>0x0?_0x363d69/_0x3d99ed*0x64:0x0,'completedLessons':_0x363d69,'totalLessons':_0x3d99ed};}),_0x288496=_0x56fe38?.[_0x388280(0x146)]?.['reduce']((_0x3564aa,_0x1f7b90)=>_0x3564aa+(_0x1f7b90?.['lessons']?.['length']||0x0),0x0)||0x0,_0x512464=_0x299f88?.['length']||0x0,_0x82c522=_0x288496>0x0?_0x512464/_0x288496*0x64:0x0;return{'completedLessons':_0x299f88||[],'moduleProgress':_0x17c31e||[],'courseProgress':_0x82c522};}