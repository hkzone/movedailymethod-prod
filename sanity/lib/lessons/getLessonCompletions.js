(function(_0x21e6b3,_0x11b138){const _0x8cf707=a15_0x562b,_0x49e303=_0x21e6b3();while(!![]){try{const _0x3e1db3=parseInt(_0x8cf707(0x1d6))/0x1*(-parseInt(_0x8cf707(0x1d4))/0x2)+-parseInt(_0x8cf707(0x1d5))/0x3+parseInt(_0x8cf707(0x1cb))/0x4+-parseInt(_0x8cf707(0x1d8))/0x5*(parseInt(_0x8cf707(0x1d0))/0x6)+-parseInt(_0x8cf707(0x1d3))/0x7*(-parseInt(_0x8cf707(0x1d7))/0x8)+parseInt(_0x8cf707(0x1ce))/0x9*(-parseInt(_0x8cf707(0x1d2))/0xa)+-parseInt(_0x8cf707(0x1d1))/0xb*(-parseInt(_0x8cf707(0x1cc))/0xc);if(_0x3e1db3===_0x11b138)break;else _0x49e303['push'](_0x49e303['shift']());}catch(_0x3b534f){_0x49e303['push'](_0x49e303['shift']());}}}(a15_0x1cfa,0x79794));import{defineQuery}from'groq';function a15_0x562b(_0x2180df,_0x1f593c){const _0x1cfa0d=a15_0x1cfa();return a15_0x562b=function(_0x562b93,_0x1e89b0){_0x562b93=_0x562b93-0x1cb;let _0x3ddef5=_0x1cfa0d[_0x562b93];return _0x3ddef5;},a15_0x562b(_0x2180df,_0x1f593c);}import{sanityFetch}from'../live';function a15_0x1cfa(){const _0x34ac42=['157822LAkSxw','151706vUDRpt','2440065ANrcLm','3osfqLi','152WYNlJy','17475BQFCza','3250616HarCxN','12810024bPOHqE','map','45aeyaXd','_id','252CcFvFz','11TcBWzA','1246540ZypKAz'];a15_0x1cfa=function(){return _0x34ac42;};return a15_0x1cfa();}export async function getLessonCompletions(_0x10dd85,_0x5b5a27){const _0x4839fb=a15_0x562b,_0x2909e9=defineQuery('{\x0a\x20\x20\x20\x20\x22completedLessons\x22:\x20*[_type\x20==\x20\x22lessonCompletion\x22\x20&&\x20student._ref\x20==\x20$studentId\x20&&\x20course._ref\x20==\x20$courseId]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22lesson\x22:\x20lesson->{...},\x0a\x20\x20\x20\x20\x20\x20\x22module\x22:\x20module->{...}\x0a\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x22course\x22:\x20*[_type\x20==\x20\x22course\x22\x20&&\x20_id\x20==\x20$courseId][0]\x20{\x0a\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x22modules\x22:\x20modules[]->\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20...,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22lessons\x22:\x20lessons[]->\x20{...}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20}'),_0x3dad46=await sanityFetch({'query':_0x2909e9,'params':{'studentId':_0x10dd85,'courseId':_0x5b5a27}}),{course:_0x858ae4,completedLessons:_0x38bf04}=_0x3dad46['data'],_0x25ccce=_0x858ae4?.['modules']?.[_0x4839fb(0x1cd)](_0x5e0a63=>{const _0x53096d=_0x4839fb,_0x6a94f3=_0x5e0a63['lessons']?.['length']||0x0,_0x544c1a=_0x38bf04['filter'](_0x56284d=>_0x56284d['module']?.['_id']===_0x5e0a63[_0x53096d(0x1cf)])['length'];return{'moduleId':_0x5e0a63['_id'],'title':_0x5e0a63['title'],'progress':_0x6a94f3>0x0?_0x544c1a/_0x6a94f3*0x64:0x0,'completedLessons':_0x544c1a,'totalLessons':_0x6a94f3};}),_0x4c4ccd=_0x858ae4?.['modules']?.['reduce']((_0x208a96,_0x584404)=>_0x208a96+(_0x584404?.['lessons']?.['length']||0x0),0x0)||0x0,_0x3c9e91=_0x38bf04?.['length']||0x0,_0x2c4838=_0x4c4ccd>0x0?_0x3c9e91/_0x4c4ccd*0x64:0x0;return{'completedLessons':_0x38bf04||[],'moduleProgress':_0x25ccce||[],'courseProgress':_0x2c4838};}