(function(_0x471d18,_0x4abb00){const _0xe3f990=a27_0x4b86,_0x1d0ff0=_0x471d18();while(!![]){try{const _0x754bb5=-parseInt(_0xe3f990(0xf6))/0x1+parseInt(_0xe3f990(0xfa))/0x2*(parseInt(_0xe3f990(0xf9))/0x3)+parseInt(_0xe3f990(0xff))/0x4+-parseInt(_0xe3f990(0xfd))/0x5+-parseInt(_0xe3f990(0xfb))/0x6*(-parseInt(_0xe3f990(0x101))/0x7)+-parseInt(_0xe3f990(0xf8))/0x8+parseInt(_0xe3f990(0xf7))/0x9;if(_0x754bb5===_0x4abb00)break;else _0x1d0ff0['push'](_0x1d0ff0['shift']());}catch(_0x25b1fc){_0x1d0ff0['push'](_0x1d0ff0['shift']());}}}(a27_0x412a,0x404f5));import a27_0x307fdc from'groq';function a27_0x4b86(_0x55f47c,_0x3331b8){const _0x412ae8=a27_0x412a();return a27_0x4b86=function(_0x4b86ce,_0x39dfc9){_0x4b86ce=_0x4b86ce-0xf6;let _0x48ec7e=_0x412ae8[_0x4b86ce];if(a27_0x4b86['PhEUJo']===undefined){var _0x3a5942=function(_0x307fdc){const _0x2a2f2b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xf214b2='',_0x54a41b='';for(let _0x3f074d=0x0,_0xf46321,_0x4a99b9,_0x52caf1=0x0;_0x4a99b9=_0x307fdc['charAt'](_0x52caf1++);~_0x4a99b9&&(_0xf46321=_0x3f074d%0x4?_0xf46321*0x40+_0x4a99b9:_0x4a99b9,_0x3f074d++%0x4)?_0xf214b2+=String['fromCharCode'](0xff&_0xf46321>>(-0x2*_0x3f074d&0x6)):0x0){_0x4a99b9=_0x2a2f2b['indexOf'](_0x4a99b9);}for(let _0x1152e0=0x0,_0x1f84d1=_0xf214b2['length'];_0x1152e0<_0x1f84d1;_0x1152e0++){_0x54a41b+='%'+('00'+_0xf214b2['charCodeAt'](_0x1152e0)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x54a41b);};a27_0x4b86['dzdCjz']=_0x3a5942,_0x55f47c=arguments,a27_0x4b86['PhEUJo']=!![];}const _0x46d219=_0x412ae8[0x0],_0x538439=_0x4b86ce+_0x46d219,_0x500f91=_0x55f47c[_0x538439];return!_0x500f91?(_0x48ec7e=a27_0x4b86['dzdCjz'](_0x48ec7e),_0x55f47c[_0x538439]=_0x48ec7e):_0x48ec7e=_0x500f91,_0x48ec7e;},a27_0x4b86(_0x55f47c,_0x3331b8);}function a27_0x412a(){const _0x253180=['C3r1zgvUDa','mZCYotKWC1ryzuvf','zgf0yq','nZe5mZm2uNnVB05y','Bg9N','mZq5m0H3yNHhsq','y3jLyxrL','mtC4nJy2vvj2rNjq','mJGXmtK5nMPuvezirW','mZe4mJC3nMPyyNbrBq','oda3mtu5yKT4DwH1','mNDdCNzSwG','mtG0mKHJCMHdsq'];a27_0x412a=function(){return _0x253180;};return a27_0x412a();}import{client}from'../adminClient';import{sanityFetch}from'../live';export async function createStudentIfNotExists({clerkId:_0x2a2f2b,email:_0xf214b2,firstName:_0x54a41b,lastName:_0x3f074d,imageUrl:_0xf46321}){const _0x2b71d4=a27_0x4b86,_0x4a99b9=await sanityFetch({'query':a27_0x307fdc`*[_type == "student" && clerkId == $clerkId][0]`,'params':{'clerkId':_0x2a2f2b}});if(_0x4a99b9['data'])return console[_0x2b71d4(0x100)]('Student\x20already\x20exists',_0x4a99b9[_0x2b71d4(0xfe)]),_0x4a99b9['data'];const _0x52caf1=await client[_0x2b71d4(0x102)]({'_type':_0x2b71d4(0xfc),'clerkId':_0x2a2f2b,'email':_0xf214b2,'firstName':_0x54a41b,'lastName':_0x3f074d,'imageUrl':_0xf46321});return console[_0x2b71d4(0x100)]('New\x20student\x20created',_0x52caf1),_0x52caf1;}