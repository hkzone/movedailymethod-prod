(function(_0x47063d,_0x42a94f){const _0x1f5d96=a27_0x2516,_0x20b03a=_0x47063d();while(!![]){try{const _0x4310a6=parseInt(_0x1f5d96(0x1f0))/0x1+parseInt(_0x1f5d96(0x1f5))/0x2+parseInt(_0x1f5d96(0x1e8))/0x3*(parseInt(_0x1f5d96(0x1e9))/0x4)+parseInt(_0x1f5d96(0x1f8))/0x5+parseInt(_0x1f5d96(0x1e6))/0x6*(-parseInt(_0x1f5d96(0x1e3))/0x7)+parseInt(_0x1f5d96(0x1de))/0x8*(parseInt(_0x1f5d96(0x1f3))/0x9)+-parseInt(_0x1f5d96(0x1fb))/0xa*(parseInt(_0x1f5d96(0x1e0))/0xb);if(_0x4310a6===_0x42a94f)break;else _0x20b03a['push'](_0x20b03a['shift']());}catch(_0x51829f){_0x20b03a['push'](_0x20b03a['shift']());}}}(a27_0x421e,0x3ab49));const a27_0x5b09fe=(function(){const _0x3f8111=a27_0x2516,_0xe74450={'TzzIZ':_0x3f8111(0x1f9),'bCeef':function(_0x3a42cf,_0x28e781){return _0x3a42cf===_0x28e781;},'Friam':'QTHLM','OAJET':_0x3f8111(0x1ef),'aOysv':function(_0x4eb801,_0x280715){return _0x4eb801!==_0x280715;},'dOVOK':_0x3f8111(0x1ea)};let _0xb0faa9=!![];return function(_0x99a5fc,_0x43ba6b){const _0x5d0cff=_0x3f8111;if(_0xe74450[_0x5d0cff(0x1e5)](_0xe74450[_0x5d0cff(0x1df)],_0x5d0cff(0x1ea)))return _0x4e3e4e[_0x5d0cff(0x1f1)](_0xe74450[_0x5d0cff(0x1ec)],_0x4ba6fd[_0x5d0cff(0x1fa)]),_0x2f6241[_0x5d0cff(0x1fa)];else{const _0x5dc3b5=_0xb0faa9?function(){const _0xbb9196=_0x5d0cff;if(_0xe74450[_0xbb9196(0x1ed)](_0xe74450[_0xbb9196(0x1eb)],_0xe74450[_0xbb9196(0x1eb)])){if(_0x43ba6b){if(_0xe74450[_0xbb9196(0x1ed)](_0xe74450[_0xbb9196(0x1dd)],_0xe74450['OAJET'])){const _0xc1a9c0=_0x43ba6b[_0xbb9196(0x1e7)](_0x99a5fc,arguments);return _0x43ba6b=null,_0xc1a9c0;}else{const _0x162390=_0x1b71cb?function(){const _0x4bc652=_0xbb9196;if(_0x4bba01){const _0x349bd7=_0x54292c[_0x4bc652(0x1e7)](_0x531ba0,arguments);return _0x465676=null,_0x349bd7;}}:function(){};return _0x4d41c6=![],_0x162390;}}}else{const _0x4d94f7=_0xa4112a[_0xbb9196(0x1e7)](_0x43f3c3,arguments);return _0x3d19f7=null,_0x4d94f7;}}:function(){};return _0xb0faa9=![],_0x5dc3b5;}};}()),a27_0xe7a08b=a27_0x5b09fe(this,function(){const _0x9c1431=a27_0x2516;return a27_0xe7a08b['toString']()['search']('(((.+)+)+)+$')['toString']()[_0x9c1431(0x1fc)](a27_0xe7a08b)[_0x9c1431(0x1e4)](_0x9c1431(0x1f6));});a27_0xe7a08b();function a27_0x2516(_0x911799,_0x3e0c51){const _0x6e87f4=a27_0x421e();return a27_0x2516=function(_0xe7a08b,_0x5b09fe){_0xe7a08b=_0xe7a08b-0x1dd;let _0x421e8d=_0x6e87f4[_0xe7a08b];if(a27_0x2516['qOQHuu']===undefined){var _0x251602=function(_0x43f8eb){const _0x5b1476='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x35c617='',_0x4b5d13='',_0x1b2d78=_0x35c617+_0x251602;for(let _0x359655=0x0,_0xcc5fbd,_0x398ded,_0x5ea309=0x0;_0x398ded=_0x43f8eb['charAt'](_0x5ea309++);~_0x398ded&&(_0xcc5fbd=_0x359655%0x4?_0xcc5fbd*0x40+_0x398ded:_0x398ded,_0x359655++%0x4)?_0x35c617+=_0x1b2d78['charCodeAt'](_0x5ea309+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0xcc5fbd>>(-0x2*_0x359655&0x6)):_0x359655:0x0){_0x398ded=_0x5b1476['indexOf'](_0x398ded);}for(let _0x1b71cb=0x0,_0x878b1f=_0x35c617['length'];_0x1b71cb<_0x878b1f;_0x1b71cb++){_0x4b5d13+='%'+('00'+_0x35c617['charCodeAt'](_0x1b71cb)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4b5d13);};a27_0x2516['qCiOkI']=_0x251602,_0x911799=arguments,a27_0x2516['qOQHuu']=!![];}const _0x1601d0=_0x6e87f4[0x0],_0x506d69=_0xe7a08b+_0x1601d0,_0x508184=_0x911799[_0x506d69];if(!_0x508184){const _0x4f9e7c=function(_0x4afcc7){this['WFzdgD']=_0x4afcc7,this['TBYmLk']=[0x1,0x0,0x0],this['DuzrCt']=function(){return'newState';},this['gUByGK']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['HXnjqZ']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4f9e7c['prototype']['BhchNg']=function(){const _0x20c073=new RegExp(this['gUByGK']+this['HXnjqZ']),_0x4d41c6=_0x20c073['test'](this['DuzrCt']['toString']())?--this['TBYmLk'][0x1]:--this['TBYmLk'][0x0];return this['MVZLyM'](_0x4d41c6);},_0x4f9e7c['prototype']['MVZLyM']=function(_0x4bba01){if(!Boolean(~_0x4bba01))return _0x4bba01;return this['HDhmMd'](this['WFzdgD']);},_0x4f9e7c['prototype']['HDhmMd']=function(_0x57df5d){for(let _0x570f56=0x0,_0x5e2b91=this['TBYmLk']['length'];_0x570f56<_0x5e2b91;_0x570f56++){this['TBYmLk']['push'](Math['round'](Math['random']())),_0x5e2b91=this['TBYmLk']['length'];}return _0x57df5d(this['TBYmLk'][0x0]);},new _0x4f9e7c(a27_0x2516)['BhchNg'](),_0x421e8d=a27_0x2516['qCiOkI'](_0x421e8d),_0x911799[_0x506d69]=_0x421e8d;}else _0x421e8d=_0x508184;return _0x421e8d;},a27_0x2516(_0x911799,_0x3e0c51);}import a27_0x49bbd4 from'groq';import{client}from'../adminClient';import{sanityFetch}from'../live';function a27_0x421e(){const _0x2b1a26=['yu95C3y','nNH4qLnqCW','yxbWBhK','m0z0zuj6za','mtuZmtmYnhjQyNvYCa','zvfjyMO','rNjPyw0','vhP6svO','yKnLzwy','AMD2BLO','zhD2whe','mJG1mJKYs0LQs2rv','Bg9N','tMv3ihn0DwrLBNqGy3jLyxrLza','owXuCKvHuG','y3jLyxrL','ntCXndGYvhrpuLnL','kcGOlISPkYKRksSK','zuXrCxO','mJm0odeXnwTrCMHAtG','u3r1zgvUDcbHBhjLywr5igv4Axn0CW','zgf0yq','mZC4otu5mhPJuxDLrW','y29UC3rYDwn0B3i','t0fkrvq','mtK1oduWnhf1Dw9myq','ze9wt0S','mZnqENL5ExO','rKTbEvy','C3r1zgvUDa','mJaZnJC2mKrRuxj6AG','C2vHCMnO'];a27_0x421e=function(){return _0x2b1a26;};return a27_0x421e();}export async function createStudentIfNotExists({clerkId:_0x17c8b9,email:_0x23bca7,firstName:_0x47bfe4,lastName:_0x7c4db3,imageUrl:_0xd80ff8}){const _0x711784=a27_0x2516,_0x4bf862={'FKAyV':function(_0x38c4a5,_0x3435da){return _0x38c4a5(_0x3435da);},'eLQqz':_0x711784(0x1f9),'jgvnZ':_0x711784(0x1f2)},_0x3c405b=await _0x4bf862[_0x711784(0x1e1)](sanityFetch,{'query':a27_0x49bbd4`*[_type == "student" && clerkId == $clerkId][0]`,'params':{'clerkId':_0x17c8b9}});if(_0x3c405b[_0x711784(0x1fa)])return console[_0x711784(0x1f1)](_0x4bf862[_0x711784(0x1f7)],_0x3c405b[_0x711784(0x1fa)]),_0x3c405b[_0x711784(0x1fa)];const _0xa9019=await client[_0x711784(0x1f4)]({'_type':_0x711784(0x1e2),'clerkId':_0x17c8b9,'email':_0x23bca7,'firstName':_0x47bfe4,'lastName':_0x7c4db3,'imageUrl':_0xd80ff8});return console[_0x711784(0x1f1)](_0x4bf862[_0x711784(0x1ee)],_0xa9019),_0xa9019;}