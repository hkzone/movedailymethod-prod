(function(_0x2b5344,_0x19fc92){const _0x2aa749=a27_0x4dbd,_0x241a0b=_0x2b5344();while(!![]){try{const _0x523877=parseInt(_0x2aa749(0x13d))/0x1+parseInt(_0x2aa749(0x13f))/0x2+-parseInt(_0x2aa749(0x145))/0x3+parseInt(_0x2aa749(0x13c))/0x4*(-parseInt(_0x2aa749(0x141))/0x5)+parseInt(_0x2aa749(0x142))/0x6+parseInt(_0x2aa749(0x13e))/0x7*(-parseInt(_0x2aa749(0x13b))/0x8)+parseInt(_0x2aa749(0x143))/0x9*(parseInt(_0x2aa749(0x140))/0xa);if(_0x523877===_0x19fc92)break;else _0x241a0b['push'](_0x241a0b['shift']());}catch(_0x13e10f){_0x241a0b['push'](_0x241a0b['shift']());}}}(a27_0x3051,0x7759f));import a27_0x2d6f4f from'groq';import{client}from'../adminClient';function a27_0x3051(){const _0x1347c8=['nJu4mJzmu1rcDNO','mZq1mZa5m3jnExLiuW','u3r1zgvUDcbHBhjLywr5igv4Axn0CW','mJy0ota2ExnJtMft','ndHNz1zKEvO','mtqWodr6DezHvuq','mZqWotuXqvDdvM9L','nZqWode3DLb5zvfy','mte5mJK4menqt3bIAa','mZbcBMjADfO','mti2mgLQCvHmuG'];a27_0x3051=function(){return _0x1347c8;};return a27_0x3051();}import{sanityFetch}from'../live';function a27_0x4dbd(_0x48ced5,_0xbdea6){const _0x3051d9=a27_0x3051();return a27_0x4dbd=function(_0x4dbdba,_0x4c0c44){_0x4dbdba=_0x4dbdba-0x13b;let _0x576feb=_0x3051d9[_0x4dbdba];if(a27_0x4dbd['ZMAUrt']===undefined){var _0x5ee587=function(_0x2d6f4f){const _0x3fdf4a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1722b9='',_0x52f580='';for(let _0x685818=0x0,_0x38d4c6,_0x27db7e,_0x393946=0x0;_0x27db7e=_0x2d6f4f['charAt'](_0x393946++);~_0x27db7e&&(_0x38d4c6=_0x685818%0x4?_0x38d4c6*0x40+_0x27db7e:_0x27db7e,_0x685818++%0x4)?_0x1722b9+=String['fromCharCode'](0xff&_0x38d4c6>>(-0x2*_0x685818&0x6)):0x0){_0x27db7e=_0x3fdf4a['indexOf'](_0x27db7e);}for(let _0x2935f7=0x0,_0x4050a3=_0x1722b9['length'];_0x2935f7<_0x4050a3;_0x2935f7++){_0x52f580+='%'+('00'+_0x1722b9['charCodeAt'](_0x2935f7)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x52f580);};a27_0x4dbd['kMdplg']=_0x5ee587,_0x48ced5=arguments,a27_0x4dbd['ZMAUrt']=!![];}const _0x4f1d60=_0x3051d9[0x0],_0x49fc73=_0x4dbdba+_0x4f1d60,_0x3156ec=_0x48ced5[_0x49fc73];return!_0x3156ec?(_0x576feb=a27_0x4dbd['kMdplg'](_0x576feb),_0x48ced5[_0x49fc73]=_0x576feb):_0x576feb=_0x3156ec,_0x576feb;},a27_0x4dbd(_0x48ced5,_0xbdea6);}export async function createStudentIfNotExists({clerkId:_0x3fdf4a,email:_0x1722b9,firstName:_0x52f580,lastName:_0x685818,imageUrl:_0x38d4c6}){const _0x1619d9=a27_0x4dbd,_0x27db7e=await sanityFetch({'query':a27_0x2d6f4f`*[_type == "student" && clerkId == $clerkId][0]`,'params':{'clerkId':_0x3fdf4a}});if(_0x27db7e['data'])return console['log'](_0x1619d9(0x144),_0x27db7e['data']),_0x27db7e['data'];const _0x393946=await client['create']({'_type':'student','clerkId':_0x3fdf4a,'email':_0x1722b9,'firstName':_0x52f580,'lastName':_0x685818,'imageUrl':_0x38d4c6});return console['log']('New\x20student\x20created',_0x393946),_0x393946;}