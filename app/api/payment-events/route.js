(function(_0x42acdc,_0x34170e){const _0x48033d=a3_0x5b7a,_0x4a3fde=_0x42acdc();while(!![]){try{const _0x3e91a0=parseInt(_0x48033d(0x6b))/0x1*(parseInt(_0x48033d(0x6f))/0x2)+parseInt(_0x48033d(0x65))/0x3+-parseInt(_0x48033d(0x6d))/0x4*(parseInt(_0x48033d(0x6a))/0x5)+parseInt(_0x48033d(0x6e))/0x6+-parseInt(_0x48033d(0x69))/0x7*(-parseInt(_0x48033d(0x6c))/0x8)+parseInt(_0x48033d(0x66))/0x9+-parseInt(_0x48033d(0x68))/0xa;if(_0x3e91a0===_0x34170e)break;else _0x4a3fde['push'](_0x4a3fde['shift']());}catch(_0x1fe86b){_0x4a3fde['push'](_0x4a3fde['shift']());}}}(a3_0x3d74,0x833e0));import{addConnection,removeConnection}from'@/lib/payment-events';function a3_0x5b7a(_0x5e00f6,_0x295f13){const _0x3d7429=a3_0x3d74();return a3_0x5b7a=function(_0x5b7a81,_0x33acad){_0x5b7a81=_0x5b7a81-0x65;let _0x4d18de=_0x3d7429[_0x5b7a81];return _0x4d18de;},a3_0x5b7a(_0x5e00f6,_0x295f13);}export async function GET(_0x5117dc){const {searchParams:_0x5eae75}=new URL(_0x5117dc['url']),_0x3d3bbc=_0x5eae75['get']('sessionId');console['log']('ðŸ“¡\x20SSE\x20connection\x20request:',{'url':_0x5117dc['url'],'sessionId':_0x3d3bbc,'hasSessionId':!!_0x3d3bbc});if(!_0x3d3bbc)return new Response('Session\x20ID\x20required',{'status':0x190});const _0x42ef11=new ReadableStream({'start'(_0xe9568f){const _0x2e32a4=a3_0x5b7a;addConnection(_0x3d3bbc,_0xe9568f);const _0x31783e={'type':'connected','sessionId':_0x3d3bbc,'timestamp':new Date()['toISOString']()};_0xe9568f['enqueue']('data:\x20'+JSON['stringify'](_0x31783e)+'\x0a\x0a'),console[_0x2e32a4(0x67)]('âœ…\x20SSE\x20connection\x20established\x20and\x20confirmed:',_0x31783e),_0x5117dc['signal']['addEventListener']('abort',()=>{removeConnection(_0x3d3bbc);try{_0xe9568f['close']();}catch(_0x143cd0){console['error']('Error\x20closing\x20SSE\x20controller\x20on\x20abort:',_0x143cd0);}});}});return new Response(_0x42ef11,{'headers':{'Content-Type':'text/event-stream','Cache-Control':'no-cache','Connection':'keep-alive','Access-Control-Allow-Origin':'*','Access-Control-Allow-Headers':'Cache-Control'}});}function a3_0x3d74(){const _0x175512=['1826oZqnQn','2688810yCotlV','5541201uuzdAx','log','23761340ExCGif','441ekwqze','5VbPrYN','1040lMgvlb','51128zrNcRh','571260vUVVIy','1154430NgFANZ'];a3_0x3d74=function(){return _0x175512;};return a3_0x3d74();}