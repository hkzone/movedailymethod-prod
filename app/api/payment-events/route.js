(function(_0x2cef5e,_0x2e5a64){const _0x3f51c4=a3_0x1390,_0x289f88=_0x2cef5e();while(!![]){try{const _0x159507=parseInt(_0x3f51c4(0xc7))/0x1*(-parseInt(_0x3f51c4(0xbf))/0x2)+-parseInt(_0x3f51c4(0xc0))/0x3*(-parseInt(_0x3f51c4(0xc2))/0x4)+-parseInt(_0x3f51c4(0xc1))/0x5*(parseInt(_0x3f51c4(0xc6))/0x6)+parseInt(_0x3f51c4(0xbc))/0x7*(-parseInt(_0x3f51c4(0xbd))/0x8)+-parseInt(_0x3f51c4(0xc8))/0x9*(-parseInt(_0x3f51c4(0xba))/0xa)+-parseInt(_0x3f51c4(0xbe))/0xb+-parseInt(_0x3f51c4(0xbb))/0xc*(-parseInt(_0x3f51c4(0xc3))/0xd);if(_0x159507===_0x2e5a64)break;else _0x289f88['push'](_0x289f88['shift']());}catch(_0x541365){_0x289f88['push'](_0x289f88['shift']());}}}(a3_0x5c21,0xefd8e));import{addConnection,removeConnection}from'@/lib/payment-events';function a3_0x1390(_0x5c3b20,_0x1986dd){const _0x5c2129=a3_0x5c21();return a3_0x1390=function(_0x139022,_0x25da98){_0x139022=_0x139022-0xba;let _0x4e5251=_0x5c2129[_0x139022];return _0x4e5251;},a3_0x1390(_0x5c3b20,_0x1986dd);}function a3_0x5c21(){const _0x5cb71f=['26009652FnxUoz','16261dilfcn','3352aILyUm','6288667JGzuEn','2XtXccy','111bandUb','90mLCmrm','103344ajgXib','13fxiYoA','data:\x20','log','652746ARGtxU','366543mZySoE','15559434PYXyEM','10VMcIyT'];a3_0x5c21=function(){return _0x5cb71f;};return a3_0x5c21();}export async function GET(_0x33311b){const {searchParams:_0x4b9281}=new URL(_0x33311b['url']),_0x141491=_0x4b9281['get']('sessionId');console['log']('ðŸ“¡\x20SSE\x20connection\x20request:',{'url':_0x33311b['url'],'sessionId':_0x141491,'hasSessionId':!!_0x141491});if(!_0x141491)return new Response('Session\x20ID\x20required',{'status':0x190});const _0x448ee4=new ReadableStream({'start'(_0x177191){const _0x1674ba=a3_0x1390;addConnection(_0x141491,_0x177191);const _0xf757e5={'type':'connected','sessionId':_0x141491,'timestamp':new Date()['toISOString']()};_0x177191['enqueue'](_0x1674ba(0xc4)+JSON['stringify'](_0xf757e5)+'\x0a\x0a'),console[_0x1674ba(0xc5)]('âœ…\x20SSE\x20connection\x20established\x20and\x20confirmed:',_0xf757e5),_0x33311b['signal']['addEventListener']('abort',()=>{removeConnection(_0x141491);try{_0x177191['close']();}catch(_0x10689b){console['error']('Error\x20closing\x20SSE\x20controller\x20on\x20abort:',_0x10689b);}});}});return new Response(_0x448ee4,{'headers':{'Content-Type':'text/event-stream','Cache-Control':'no-cache','Connection':'keep-alive','Access-Control-Allow-Origin':'*','Access-Control-Allow-Headers':'Cache-Control'}});}