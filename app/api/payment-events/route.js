(function(_0xf65547,_0x17d4de){const _0x630d9b=a3_0xad5a,_0x1e8dfa=_0xf65547();while(!![]){try{const _0x562b46=-parseInt(_0x630d9b(0xda))/0x1*(parseInt(_0x630d9b(0xe2))/0x2)+-parseInt(_0x630d9b(0xde))/0x3*(parseInt(_0x630d9b(0xe4))/0x4)+-parseInt(_0x630d9b(0xe6))/0x5*(parseInt(_0x630d9b(0xe3))/0x6)+-parseInt(_0x630d9b(0xe0))/0x7*(parseInt(_0x630d9b(0xdb))/0x8)+parseInt(_0x630d9b(0xe5))/0x9*(-parseInt(_0x630d9b(0xdc))/0xa)+-parseInt(_0x630d9b(0xdd))/0xb+-parseInt(_0x630d9b(0xe9))/0xc*(-parseInt(_0x630d9b(0xe1))/0xd);if(_0x562b46===_0x17d4de)break;else _0x1e8dfa['push'](_0x1e8dfa['shift']());}catch(_0x37ebeb){_0x1e8dfa['push'](_0x1e8dfa['shift']());}}}(a3_0x1bec,0xd0f47));import{addConnection,removeConnection}from'@/lib/payment-events';function a3_0xad5a(_0x4aa2d3,_0x128c89){const _0x1bec8e=a3_0x1bec();return a3_0xad5a=function(_0xad5a9c,_0x32429a){_0xad5a9c=_0xad5a9c-0xda;let _0x251bc3=_0x1bec8e[_0xad5a9c];return _0x251bc3;},a3_0xad5a(_0x4aa2d3,_0x128c89);}export async function GET(_0x48e395){const _0x29b8f1=a3_0xad5a,{searchParams:_0x2e5c06}=new URL(_0x48e395[_0x29b8f1(0xe8)]),_0x4cd247=_0x2e5c06['get']('sessionId');console[_0x29b8f1(0xe7)]('ðŸ“¡\x20SSE\x20connection\x20request:',{'url':_0x48e395['url'],'sessionId':_0x4cd247,'hasSessionId':!!_0x4cd247});if(!_0x4cd247)return new Response('Session\x20ID\x20required',{'status':0x190});const _0x2df734=new ReadableStream({'start'(_0x21ad4c){addConnection(_0x4cd247,_0x21ad4c);const _0x189188={'type':'connected','sessionId':_0x4cd247,'timestamp':new Date()['toISOString']()};_0x21ad4c['enqueue']('data:\x20'+JSON['stringify'](_0x189188)+'\x0a\x0a'),console['log']('âœ…\x20SSE\x20connection\x20established\x20and\x20confirmed:',_0x189188),_0x48e395['signal']['addEventListener']('abort',()=>{removeConnection(_0x4cd247);try{_0x21ad4c['close']();}catch(_0x21221b){console['error']('Error\x20closing\x20SSE\x20controller\x20on\x20abort:',_0x21221b);}});}});return new Response(_0x2df734,{'headers':{'Content-Type':'text/event-stream','Cache-Control':_0x29b8f1(0xdf),'Connection':'keep-alive','Access-Control-Allow-Origin':'*','Access-Control-Allow-Headers':'Cache-Control'}});}function a3_0x1bec(){const _0x42e73a=['83170OBLbHj','4397855dyDjuF','270GsejIJ','no-cache','7MpqRJb','13CSKmDu','6CezVGS','31638zyLpyh','63884rlgcwN','657rxRsWp','1085GImolM','log','url','77001888vscdWA','167039PrveDV','11770008rZARuK'];a3_0x1bec=function(){return _0x42e73a;};return a3_0x1bec();}