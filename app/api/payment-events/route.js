function a3_0x5439(_0x35663e,_0x8cba63){const _0x42d9c7=a3_0x42d9();return a3_0x5439=function(_0x5439be,_0x2a5b43){_0x5439be=_0x5439be-0x1d9;let _0x5cb43b=_0x42d9c7[_0x5439be];return _0x5cb43b;},a3_0x5439(_0x35663e,_0x8cba63);}(function(_0x13ce10,_0x126f46){const _0x2753c8=a3_0x5439,_0xac18d4=_0x13ce10();while(!![]){try{const _0x43e8d6=parseInt(_0x2753c8(0x1dd))/0x1+parseInt(_0x2753c8(0x1db))/0x2+parseInt(_0x2753c8(0x1df))/0x3+parseInt(_0x2753c8(0x1e0))/0x4*(parseInt(_0x2753c8(0x1e5))/0x5)+parseInt(_0x2753c8(0x1da))/0x6*(parseInt(_0x2753c8(0x1e7))/0x7)+parseInt(_0x2753c8(0x1de))/0x8+-parseInt(_0x2753c8(0x1e3))/0x9;if(_0x43e8d6===_0x126f46)break;else _0xac18d4['push'](_0xac18d4['shift']());}catch(_0x45d7db){_0xac18d4['push'](_0xac18d4['shift']());}}}(a3_0x42d9,0x5c361));import{addConnection,removeConnection}from'@/lib/payment-events';function a3_0x42d9(){const _0x1c58f3=['721154qTaOgF','4088688sNCGNb','891831lPAWRM','37844zbxfYM','keep-alive','no-cache','22118958oKGOkI','abort','20GUAhJQ','âœ…\x20SSE\x20connection\x20established\x20and\x20confirmed:','84GKGSvI','connected','274674CKpslE','1437300tXkHpZ','Error\x20closing\x20SSE\x20controller\x20on\x20abort:'];a3_0x42d9=function(){return _0x1c58f3;};return a3_0x42d9();}export async function GET(_0x4ca6f9){const _0x42ee6d=a3_0x5439,{searchParams:_0x5f0b62}=new URL(_0x4ca6f9['url']),_0x633f05=_0x5f0b62['get']('sessionId');console['log']('ðŸ“¡\x20SSE\x20connection\x20request:',{'url':_0x4ca6f9['url'],'sessionId':_0x633f05,'hasSessionId':!!_0x633f05});if(!_0x633f05)return new Response('Session\x20ID\x20required',{'status':0x190});const _0x3d0d24=new ReadableStream({'start'(_0x239ce9){const _0x339209=a3_0x5439;addConnection(_0x633f05,_0x239ce9);const _0x4e2480={'type':_0x339209(0x1d9),'sessionId':_0x633f05,'timestamp':new Date()['toISOString']()};_0x239ce9['enqueue']('data:\x20'+JSON['stringify'](_0x4e2480)+'\x0a\x0a'),console['log'](_0x339209(0x1e6),_0x4e2480),_0x4ca6f9['signal']['addEventListener'](_0x339209(0x1e4),()=>{const _0x3cddad=_0x339209;removeConnection(_0x633f05);try{_0x239ce9['close']();}catch(_0x8c4287){console['error'](_0x3cddad(0x1dc),_0x8c4287);}});}});return new Response(_0x3d0d24,{'headers':{'Content-Type':'text/event-stream','Cache-Control':_0x42ee6d(0x1e2),'Connection':_0x42ee6d(0x1e1),'Access-Control-Allow-Origin':'*','Access-Control-Allow-Headers':'Cache-Control'}});}