(function(_0x137789,_0xf3895d){const _0x65b993=a0_0x9e41,_0x4e908b=_0x137789();while(!![]){try{const _0x29e85b=-parseInt(_0x65b993(0x14e))/0x1*(parseInt(_0x65b993(0x14d))/0x2)+parseInt(_0x65b993(0x14f))/0x3*(-parseInt(_0x65b993(0x150))/0x4)+-parseInt(_0x65b993(0x14a))/0x5+parseInt(_0x65b993(0x147))/0x6*(-parseInt(_0x65b993(0x146))/0x7)+parseInt(_0x65b993(0x149))/0x8*(parseInt(_0x65b993(0x14b))/0x9)+-parseInt(_0x65b993(0x148))/0xa+parseInt(_0x65b993(0x14c))/0xb;if(_0x29e85b===_0xf3895d)break;else _0x4e908b['push'](_0x4e908b['shift']());}catch(_0x13d406){_0x4e908b['push'](_0x4e908b['shift']());}}}(a0_0x349d,0x8b441));import{isEnrolledInCourse}from'@/sanity/lib/student/isEnrolledInCourse';function a0_0x9e41(_0x36149f,_0x55da90){const _0x349d1e=a0_0x349d();return a0_0x9e41=function(_0x9e4192,_0x568985){_0x9e4192=_0x9e4192-0x146;let _0x5308fe=_0x349d1e[_0x9e4192];if(a0_0x9e41['gwThMT']===undefined){var _0x4e2b42=function(_0x2574dc){const _0x1c8736='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x115012='',_0xfd3d38='';for(let _0x652811=0x0,_0x1bb1e6,_0x31da7d,_0x248a35=0x0;_0x31da7d=_0x2574dc['charAt'](_0x248a35++);~_0x31da7d&&(_0x1bb1e6=_0x652811%0x4?_0x1bb1e6*0x40+_0x31da7d:_0x31da7d,_0x652811++%0x4)?_0x115012+=String['fromCharCode'](0xff&_0x1bb1e6>>(-0x2*_0x652811&0x6)):0x0){_0x31da7d=_0x1c8736['indexOf'](_0x31da7d);}for(let _0x3d3dee=0x0,_0x29286d=_0x115012['length'];_0x3d3dee<_0x29286d;_0x3d3dee++){_0xfd3d38+='%'+('00'+_0x115012['charCodeAt'](_0x3d3dee)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xfd3d38);};a0_0x9e41['ebWpMG']=_0x4e2b42,_0x36149f=arguments,a0_0x9e41['gwThMT']=!![];}const _0x126d60=_0x349d1e[0x0],_0x38ffbf=_0x9e4192+_0x126d60,_0x1366f4=_0x36149f[_0x38ffbf];return!_0x1366f4?(_0x5308fe=a0_0x9e41['ebWpMG'](_0x5308fe),_0x36149f[_0x38ffbf]=_0x5308fe):_0x5308fe=_0x1366f4,_0x5308fe;},a0_0x9e41(_0x36149f,_0x55da90);}function a0_0x349d(){const _0x5b6480=['m0fyr0vdDW','nde5odaYofvVteDWEq','ndeZufzArgfP','nZC3ndHxqvbVsfa','oti4odeYmerAveLdtq','otCYmtG0twjRsgXg','nZGXmZiWBNrWq1rA','ow5wtffbrW','mZK3nJi1odbLt2HwvNi','mta2nZa2AKLjqKnN','nur1u0zlEa'];a0_0x349d=function(){return _0x5b6480;};return a0_0x349d();}import{getStudentByClerkId}from'@/sanity/lib/student/getStudentByClerkId';import a0_0x2574dc from'@/sanity/lib/courses/getCourseById';export async function checkCourseAccess(_0x1c8736,_0x115012){if(!_0x1c8736)return{'isAuthorized':![],'redirect':'/'};const _0xfd3d38=await getStudentByClerkId(_0x1c8736);if(!_0xfd3d38?.['data']?.['_id'])return{'isAuthorized':![],'redirect':'/'};const _0x652811=await isEnrolledInCourse(_0x1c8736,_0x115012),_0x1bb1e6=await a0_0x2574dc(_0x115012);if(!_0x652811)return{'isAuthorized':![],'redirect':'/courses/'+_0x1bb1e6?.['slug']?.['current']};return{'isAuthorized':!![],'studentId':_0xfd3d38['data']['_id']};}