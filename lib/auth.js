function a0_0x5059(){const _0xab5c12=['2217591QnNJaa','1479989RqVKgs','18NhWuil','2785EXlabS','4742658hIxRzu','1PiBWZq','10007248JRnOuS','36492698RihydO','10eBdRFa','1886970ruYJFH','1656uUSyhz'];a0_0x5059=function(){return _0xab5c12;};return a0_0x5059();}(function(_0x3550ad,_0x315831){const _0x3d768b=a0_0xadf0,_0x288f80=_0x3550ad();while(!![]){try{const _0x3ef0ae=-parseInt(_0x3d768b(0x121))/0x1*(-parseInt(_0x3d768b(0x11a))/0x2)+-parseInt(_0x3d768b(0x120))/0x3+parseInt(_0x3d768b(0x11b))/0x4*(-parseInt(_0x3d768b(0x11f))/0x5)+parseInt(_0x3d768b(0x11e))/0x6*(-parseInt(_0x3d768b(0x11d))/0x7)+-parseInt(_0x3d768b(0x122))/0x8+parseInt(_0x3d768b(0x11c))/0x9+parseInt(_0x3d768b(0x119))/0xa*(parseInt(_0x3d768b(0x123))/0xb);if(_0x3ef0ae===_0x315831)break;else _0x288f80['push'](_0x288f80['shift']());}catch(_0x599788){_0x288f80['push'](_0x288f80['shift']());}}}(a0_0x5059,0xc5eeb));import{isEnrolledInCourse}from'@/sanity/lib/student/isEnrolledInCourse';import{getStudentByClerkId}from'@/sanity/lib/student/getStudentByClerkId';import a0_0x29a1e5 from'@/sanity/lib/courses/getCourseById';function a0_0xadf0(_0x5e96eb,_0xd1a9a){const _0x505957=a0_0x5059();return a0_0xadf0=function(_0xadf073,_0x53563a){_0xadf073=_0xadf073-0x119;let _0x16a4bd=_0x505957[_0xadf073];return _0x16a4bd;},a0_0xadf0(_0x5e96eb,_0xd1a9a);}export async function checkCourseAccess(_0x3548e6,_0x26d561){if(!_0x3548e6)return{'isAuthorized':![],'redirect':'/'};const _0x5ae7c5=await getStudentByClerkId(_0x3548e6);if(!_0x5ae7c5?.['data']?.['_id'])return{'isAuthorized':![],'redirect':'/'};const _0xca746f=await isEnrolledInCourse(_0x3548e6,_0x26d561),_0x2389e3=await a0_0x29a1e5(_0x26d561);if(!_0xca746f)return{'isAuthorized':![],'redirect':'/courses/'+_0x2389e3?.['slug']?.['current']};return{'isAuthorized':!![],'studentId':_0x5ae7c5['data']['_id']};}