"use client";

'use client';(function(_0x353ea9,_0x1c41b2){const _0x91b7fd=a9_0x12b4,_0x146713=_0x353ea9();while(!![]){try{const _0x68f5e8=-parseInt(_0x91b7fd(0x1b5))/0x1*(parseInt(_0x91b7fd(0x1c7))/0x2)+parseInt(_0x91b7fd(0x1b1))/0x3*(-parseInt(_0x91b7fd(0x1b9))/0x4)+-parseInt(_0x91b7fd(0x1c5))/0x5+parseInt(_0x91b7fd(0x1c0))/0x6+-parseInt(_0x91b7fd(0x1bc))/0x7*(parseInt(_0x91b7fd(0x1b0))/0x8)+-parseInt(_0x91b7fd(0x1b7))/0x9+parseInt(_0x91b7fd(0x1c6))/0xa;if(_0x68f5e8===_0x1c41b2)break;else _0x146713['push'](_0x146713['shift']());}catch(_0x3ef8cf){_0x146713['push'](_0x146713['shift']());}}}(a9_0x317d,0xb6fac));import{jsx as a9_0x3bb205,jsxs as a9_0x12bd58,Fragment as a9_0x109e42}from'react/jsx-runtime';import{Accordion,AccordionContent,AccordionItem,AccordionTrigger}from'@/components/ui/accordion';function a9_0x317d(){const _0x3cbe00=['25374GvmKoY','url','map','_key','343823JlQBQA','_blank','6683517FAxXwV','toUpperCase','240smnRHp','courseMaterials','title','26726CXyKCH','ghost','/my-courses','div','7245366xJxCtb','These\x20resources\x20are\x20available\x20for\x20the\x20entire\x20course','asset','_id','some','3054015szhWvQ','19260880HsTpsE','2FIdpct','modules','icon','376FvyOdC'];a9_0x317d=function(){return _0x3cbe00;};return a9_0x317d();}import{ScrollArea}from'@/components/ui/scroll-area';import{Button}from'@/components/ui/button';import{ArrowLeft,Library,ChevronRight,PlayCircle,X,Check,FileText,Download}from'lucide-react';import a9_0x531d12 from'next/link';import{cn}from'@/lib/utils';function a9_0x12b4(_0x2c0fdc,_0x12f12a){const _0x317d27=a9_0x317d();return a9_0x12b4=function(_0x12b490,_0x55228a){_0x12b490=_0x12b490-0x1af;let _0x542925=_0x317d27[_0x12b490];return _0x542925;},a9_0x12b4(_0x2c0fdc,_0x12f12a);}import{usePathname}from'next/navigation';import{useSidebar}from'@/components/providers/sidebar-provider';import{useEffect,useState}from'react';import{Tooltip,TooltipContent,TooltipProvider,TooltipTrigger}from'@/components/ui/tooltip';import{DarkModeToggle}from'../DarkModeToggle';import{CourseProgress}from'@/components/CourseProgress';import{calculateCourseProgress}from'@/lib/courseProgress';import{formatFileSize}from'@/lib/utils';export function Sidebar({course:_0x3dcd3d,completedLessons:completedLessons=[]}){const _0x30530e=a9_0x12b4,_0xd3d18d=usePathname(),{isOpen:_0xab1a2b,toggle:_0x5cab55,close:_0x1a237c}=useSidebar(),[_0xb3700a,_0x3a8cd1]=useState(![]),[_0x361b2a,_0x262899]=useState([]);useEffect(()=>{if(_0xd3d18d&&_0x3dcd3d?.['modules']){const _0x2ff0ce=_0x3dcd3d['modules']['find'](_0x193c38=>_0x193c38['lessons']?.['some'](_0x3dfe3d=>_0xd3d18d==='/dashboard/courses/'+_0x3dcd3d['_id']+'/lessons/'+_0x3dfe3d['_id']))?.['_id'];_0x2ff0ce&&!_0x361b2a['includes'](_0x2ff0ce)&&_0x262899(_0xc61ca1=>[..._0xc61ca1,_0x2ff0ce]);}},[_0xd3d18d,_0x3dcd3d,_0x361b2a]),useEffect(()=>{_0x3a8cd1(!![]);},[]);if(!_0x3dcd3d||!_0xb3700a)return null;const _0x5af6e9=calculateCourseProgress(_0x3dcd3d['modules'],completedLessons),_0x8dce34=()=>a9_0x12bd58('div',{'className':'h-full flex flex-col','children':[a9_0x12bd58('div',{'className':'p-4 lg:p-6 border-b flex flex-col gap-y-4','children':[a9_0x12bd58('div',{'className':'flex items-center justify-between','children':[a9_0x12bd58(a9_0x531d12,{'href':_0x30530e(0x1be),'className':'flex items-center gap-x-2 text-sm hover:text-primary transition-colors','children':[a9_0x3bb205(ArrowLeft,{'className':'h-4 w-4'}),a9_0x12bd58('div',{'className':'flex items-center gap-x-2','children':[a9_0x3bb205(Library,{'className':'h-4 w-4'}),a9_0x3bb205('span',{'children':'Course\x20Library'})]})]}),a9_0x12bd58(_0x30530e(0x1bf),{'className':'space-x-2','children':[a9_0x3bb205(DarkModeToggle,{}),a9_0x3bb205(Button,{'onClick':_0x1a237c,'variant':'ghost','className':'lg:hidden -mr-2','size':'icon','children':a9_0x3bb205(X,{'className':'h-4 w-4'})})]})]}),a9_0x12bd58('div',{'className':'space-y-4','children':[a9_0x3bb205('h1',{'className':'font-semibold text-2xl','children':_0x3dcd3d[_0x30530e(0x1bb)]}),a9_0x3bb205(CourseProgress,{'progress':_0x5af6e9,'variant':'success','label':'Course\x20Progress'})]})]}),a9_0x3bb205(ScrollArea,{'className':'flex-1','children':a9_0x3bb205('div',{'className':'p-2 lg:p-4','children':a9_0x3bb205(Accordion,{'type':'multiple','className':'w-full space-y-4','value':_0x361b2a,'onValueChange':_0x262899,'children':_0x3dcd3d[_0x30530e(0x1c8)]?.['map']((_0x25d879,_0x3ac44b)=>a9_0x12bd58(AccordionItem,{'value':_0x25d879['_id'],'className':cn('border-none',_0x3ac44b%0x2===0x0?'bg-muted/30':'bg-background'),'children':[a9_0x3bb205(AccordionTrigger,{'className':'px-2 py-2 hover:no-underline transition-colors','children':a9_0x12bd58('div',{'className':'flex items-center gap-x-2 lg:gap-x-4 w-full','children':[a9_0x3bb205('span',{'className':'text-sm font-medium text-muted-foreground min-w-[28px]','children':String(_0x3ac44b+0x1)['padStart'](0x2,'0')}),a9_0x12bd58('div',{'className':'flex flex-col gap-y-1 text-left flex-1 min-w-0','children':[a9_0x3bb205('p',{'className':'text-sm font-medium truncate','children':_0x25d879[_0x30530e(0x1bb)]}),a9_0x12bd58('p',{'className':'text-xs text-muted-foreground','children':[_0x25d879['lessons']?.['length']||0x0,'\x20lessons']})]})]})}),a9_0x3bb205(AccordionContent,{'className':'pt-2','children':a9_0x3bb205('div',{'className':'flex flex-col space-y-1','children':_0x25d879['lessons']?.[_0x30530e(0x1b3)]((_0x5bd156,_0x19bc89)=>{const _0x5ccec6=_0x30530e,_0x29ea5a=_0xd3d18d==='/dashboard/courses/'+_0x3dcd3d['_id']+'/lessons/'+_0x5bd156['_id'],_0x352351=completedLessons[_0x5ccec6(0x1c4)](_0xe97d18=>_0xe97d18['lesson']?.['_id']===_0x5bd156['_id']);return a9_0x12bd58(a9_0x531d12,{'prefetch':![],'href':'/dashboard/courses/'+_0x3dcd3d[_0x5ccec6(0x1c3)]+'/lessons/'+_0x5bd156['_id'],'onClick':_0x1a237c,'className':cn('flex items-center pl-8 lg:pl-10 pr-2 lg:pr-4 py-2 gap-x-2 lg:gap-x-4 group hover:bg-muted/50 transition-colors relative',_0x29ea5a&&'bg-muted',_0x352351&&'text-muted-foreground'),'children':[a9_0x3bb205('span',{'className':'text-xs font-medium text-muted-foreground min-w-[28px]','children':String(_0x19bc89+0x1)['padStart'](0x2,'0')}),_0x352351?a9_0x3bb205(Check,{'className':'h-4 w-4 shrink-0 text-green-500'}):a9_0x3bb205(PlayCircle,{'className':cn('h-4 w-4 shrink-0',_0x29ea5a?'text-primary':'text-muted-foreground group-hover:text-primary/80')}),a9_0x3bb205('span',{'className':cn('text-sm line-clamp-2 min-w-0',_0x352351&&'text-muted-foreground line-through decoration-green-500/50'),'children':_0x5bd156['title']}),_0x29ea5a&&a9_0x3bb205('div',{'className':'absolute left-0 top-1/2 -translate-y-1/2 w-[2px] h-8 bg-primary'})]},_0x5bd156['_id']);})})})]},_0x25d879['_id']))})})}),_0x3dcd3d?.['courseMaterials']&&_0x3dcd3d['courseMaterials']['length']>0x0&&a9_0x3bb205('div',{'className':'border-t p-4 lg:p-6','children':a9_0x3bb205(Accordion,{'type':'single','collapsible':!![],'className':'w-full','children':a9_0x12bd58(AccordionItem,{'value':'course-resources','className':'border-none','children':[a9_0x3bb205(AccordionTrigger,{'className':'px-0 py-2 hover:no-underline','children':a9_0x12bd58('div',{'className':'flex flex-col items-start text-left','children':[a9_0x3bb205('h2',{'className':'text-lg font-semibold','children':'Course\x20Resources'}),a9_0x3bb205('p',{'className':'text-xs text-muted-foreground','children':_0x30530e(0x1c1)})]})}),a9_0x3bb205(AccordionContent,{'className':'pt-2','children':a9_0x3bb205('div',{'className':'space-y-3','children':_0x3dcd3d[_0x30530e(0x1ba)]['map'](_0x5d76bd=>_0x5d76bd?.['asset']?.[_0x30530e(0x1b2)]?a9_0x12bd58('div',{'className':'flex items-center justify-between p-3 bg-card border rounded-lg hover:shadow-sm transition-shadow','children':[a9_0x12bd58('div',{'className':'flex items-center gap-3 overflow-hidden','children':[a9_0x3bb205(FileText,{'className':'h-5 w-5 text-primary flex-shrink-0'}),a9_0x12bd58('div',{'className':'flex flex-col overflow-hidden','children':[a9_0x3bb205('span',{'className':'font-medium text-sm truncate','title':_0x5d76bd['title']||_0x5d76bd['asset']['originalFilename']||'Course\x20Resource','children':_0x5d76bd['title']||_0x5d76bd['asset']['originalFilename']||'Course\x20Resource'}),(_0x5d76bd['asset']['size']||_0x5d76bd['asset']['extension'])&&a9_0x12bd58('span',{'className':'text-xs text-muted-foreground','children':[_0x5d76bd['asset']['size']?formatFileSize(_0x5d76bd[_0x30530e(0x1c2)]['size']):'',_0x5d76bd['asset']['extension']&&'\x20('+_0x5d76bd['asset']['extension'][_0x30530e(0x1b8)]()+')']})]})]}),a9_0x3bb205(a9_0x531d12,{'href':_0x5d76bd[_0x30530e(0x1c2)]['url'],'target':_0x30530e(0x1b6),'rel':'noopener\x20noreferrer','download':_0x5d76bd['asset']['originalFilename']||!![],'className':'inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-8 px-2 shrink-0','children':a9_0x3bb205(Download,{'className':'h-3 w-3'})})]},_0x5d76bd[_0x30530e(0x1b4)]):null)})})]})})})]});return a9_0x12bd58(a9_0x109e42,{'children':[a9_0x3bb205('aside',{'className':'fixed inset-y-0 left-0 z-50 flex flex-col items-center w-[60px] border-r bg-background lg:hidden py-4 gap-y-4','children':a9_0x12bd58(TooltipProvider,{'delayDuration':0x0,'children':[a9_0x12bd58(Tooltip,{'children':[a9_0x3bb205(TooltipTrigger,{'asChild':!![],'children':a9_0x3bb205(a9_0x531d12,{'href':'/','prefetch':![],'children':a9_0x3bb205(Button,{'variant':_0x30530e(0x1bd),'size':'icon','className':'h-10 w-10 text-foreground bg-background','children':a9_0x3bb205(Library,{'className':'h-5 w-5'})})})}),a9_0x3bb205(TooltipContent,{'side':'right','children':a9_0x3bb205('p',{'children':'Course\x20Library'})})]}),a9_0x12bd58(Tooltip,{'children':[a9_0x3bb205(TooltipTrigger,{'asChild':!![],'children':a9_0x3bb205(Button,{'onClick':_0x5cab55,'variant':'ghost','size':_0x30530e(0x1af),'className':'h-10 w-10 text-foreground bg-background','children':a9_0x3bb205(ChevronRight,{'className':cn('h-5 w-5 transition-transform',_0xab1a2b&&'rotate-180')})})}),a9_0x3bb205(TooltipContent,{'side':'right','children':a9_0x3bb205('p',{'children':'Toggle\x20Sidebar'})})]})]})}),a9_0x3bb205('aside',{'className':cn('fixed inset-y-0 left-0 z-40 bg-background transition-all duration-300 ease-in-out','lg:z-50 lg:block lg:w-96 lg:border-r',_0xab1a2b?'w-[calc(100%-60px)] translate-x-[60px] lg:translate-x-0 lg:w-96':'translate-x-[-100%] lg:translate-x-0'),'children':a9_0x3bb205('div',{'className':'h-full','children':a9_0x3bb205(_0x8dce34,{})})}),_0xab1a2b&&a9_0x3bb205('div',{'className':'fixed inset-0 z-30 bg-background/80 backdrop-blur-sm lg:hidden','onClick':_0x1a237c})]});}
