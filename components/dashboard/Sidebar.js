"use client";

'use client';(function(_0x985928,_0x141f28){const _0x19cc1c=a9_0x517d,_0x20f767=_0x985928();while(!![]){try{const _0xe6c4d8=parseInt(_0x19cc1c(0x1f6))/0x1*(parseInt(_0x19cc1c(0x1e7))/0x2)+-parseInt(_0x19cc1c(0x1f4))/0x3*(parseInt(_0x19cc1c(0x1e1))/0x4)+-parseInt(_0x19cc1c(0x1f3))/0x5+parseInt(_0x19cc1c(0x1f5))/0x6+-parseInt(_0x19cc1c(0x1f1))/0x7+parseInt(_0x19cc1c(0x1ed))/0x8+parseInt(_0x19cc1c(0x1eb))/0x9*(parseInt(_0x19cc1c(0x1f0))/0xa);if(_0xe6c4d8===_0x141f28)break;else _0x20f767['push'](_0x20f767['shift']());}catch(_0x3e3a11){_0x20f767['push'](_0x20f767['shift']());}}}(a9_0x5b20,0x4f55a));import{jsx as a9_0x497d40,jsxs as a9_0x12ccf3,Fragment as a9_0x49f0a9}from'react/jsx-runtime';import{Accordion,AccordionContent,AccordionItem,AccordionTrigger}from'@/components/ui/accordion';import{ScrollArea}from'@/components/ui/scroll-area';import{Button}from'@/components/ui/button';function a9_0x517d(_0x23f99b,_0x5762c5){const _0x5b2002=a9_0x5b20();return a9_0x517d=function(_0x517d63,_0x3b3113){_0x517d63=_0x517d63-0x1e1;let _0x19867f=_0x5b2002[_0x517d63];if(a9_0x517d['HkZcJF']===undefined){var _0x14dbad=function(_0x497d40){const _0x12ccf3='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x49f0a9='',_0xd121b6='';for(let _0x3c05b9=0x0,_0x2718d8,_0x1a66a7,_0x2b0abb=0x0;_0x1a66a7=_0x497d40['charAt'](_0x2b0abb++);~_0x1a66a7&&(_0x2718d8=_0x3c05b9%0x4?_0x2718d8*0x40+_0x1a66a7:_0x1a66a7,_0x3c05b9++%0x4)?_0x49f0a9+=String['fromCharCode'](0xff&_0x2718d8>>(-0x2*_0x3c05b9&0x6)):0x0){_0x1a66a7=_0x12ccf3['indexOf'](_0x1a66a7);}for(let _0x2d262c=0x0,_0x4fd24d=_0x49f0a9['length'];_0x2d262c<_0x4fd24d;_0x2d262c++){_0xd121b6+='%'+('00'+_0x49f0a9['charCodeAt'](_0x2d262c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xd121b6);};a9_0x517d['ZCVxsF']=_0x14dbad,_0x23f99b=arguments,a9_0x517d['HkZcJF']=!![];}const _0x4d59e4=_0x5b2002[0x0],_0x48faf1=_0x517d63+_0x4d59e4,_0x289402=_0x23f99b[_0x48faf1];return!_0x289402?(_0x19867f=a9_0x517d['ZCVxsF'](_0x19867f),_0x23f99b[_0x48faf1]=_0x19867f):_0x19867f=_0x289402,_0x19867f;},a9_0x517d(_0x23f99b,_0x5762c5);}import{ArrowLeft,Library,ChevronRight,PlayCircle,X,Check,FileText,Download}from'lucide-react';import a9_0xd121b6 from'next/link';import{cn}from'@/lib/utils';import{usePathname}from'next/navigation';import{useSidebar}from'@/components/providers/sidebar-provider';import{useEffect,useState}from'react';import{Tooltip,TooltipContent,TooltipProvider,TooltipTrigger}from'@/components/ui/tooltip';function a9_0x5b20(){const _0x4a76ea=['z2HVC3q','C3bHBG','C2L6zq','BgvZC29U','mZuZnfLkA1HLsW','BgvZC29UCW','q291CNnLifjLC291CMnL','vgHLC2uGCMvZB3vYy2vZigfYzsbHDMfPBgfIBguGzM9YihrOzsbLBNrPCMuGy291CNnL','mti3nty1mxrsCuDkwa','CMLNAhq','mJGYndCXmMTfCK13AG','zM9UDc1TzwrPDw0GDgv4Dc1ZBsb0CNvUy2f0zq','DhjHBNnSyxrLlxGTwY0XmdaLxsbSzZP0CMfUC2XHDguTEc0W','ntbRELr1uwG','mti4mtq5mgvHzwjkvG','yxnZzxq','mJu5nZe5nufRyvD5rG','mtGWvxPxCKjn','ntC4ndK2z2frA2Pt','odLhqw1oq3q','mtKYmdblrM5xCNG','x2LK'];a9_0x5b20=function(){return _0x4a76ea;};return a9_0x5b20();}import{DarkModeToggle}from'../DarkModeToggle';import{CourseProgress}from'@/components/CourseProgress';import{calculateCourseProgress}from'@/lib/courseProgress';import{formatFileSize}from'@/lib/utils';export function Sidebar({course:_0x3c05b9,completedLessons:completedLessons=[]}){const _0x3af547=a9_0x517d,_0x2718d8=usePathname(),{isOpen:_0x1a66a7,toggle:_0x2b0abb,close:_0x2d262c}=useSidebar(),[_0x4fd24d,_0x1064a2]=useState(![]),[_0x4aa9d7,_0x5da2aa]=useState([]);useEffect(()=>{if(_0x2718d8&&_0x3c05b9?.['modules']){const _0x2ba406=_0x3c05b9['modules']['find'](_0x8d2294=>_0x8d2294['lessons']?.['some'](_0x27dd01=>_0x2718d8==='/dashboard/courses/'+_0x3c05b9['_id']+'/lessons/'+_0x27dd01['_id']))?.['_id'];_0x2ba406&&!_0x4aa9d7['includes'](_0x2ba406)&&_0x5da2aa(_0x15087a=>[..._0x15087a,_0x2ba406]);}},[_0x2718d8,_0x3c05b9,_0x4aa9d7]),useEffect(()=>{_0x1064a2(!![]);},[]);if(!_0x3c05b9||!_0x4fd24d)return null;const _0xddd397=calculateCourseProgress(_0x3c05b9['modules'],completedLessons),_0xb8579b=()=>a9_0x12ccf3('div',{'className':'h-full flex flex-col','children':[a9_0x12ccf3('div',{'className':'p-4 lg:p-6 border-b flex flex-col gap-y-4','children':[a9_0x12ccf3('div',{'className':'flex items-center justify-between','children':[a9_0x12ccf3(a9_0xd121b6,{'href':'/my-courses','className':'flex items-center gap-x-2 text-sm hover:text-primary transition-colors','children':[a9_0x497d40(ArrowLeft,{'className':'h-4 w-4'}),a9_0x12ccf3('div',{'className':'flex items-center gap-x-2','children':[a9_0x497d40(Library,{'className':'h-4 w-4'}),a9_0x497d40('span',{'children':'Course\x20Library'})]})]}),a9_0x12ccf3('div',{'className':'space-x-2','children':[a9_0x497d40(DarkModeToggle,{}),a9_0x497d40(Button,{'onClick':_0x2d262c,'variant':'ghost','className':'lg:hidden -mr-2','size':'icon','children':a9_0x497d40(X,{'className':'h-4 w-4'})})]})]}),a9_0x12ccf3('div',{'className':'space-y-4','children':[a9_0x497d40('h1',{'className':'font-semibold\x20text-2xl','children':_0x3c05b9['title']}),a9_0x497d40(CourseProgress,{'progress':_0xddd397,'variant':'success','label':'Course\x20Progress'})]})]}),a9_0x497d40(ScrollArea,{'className':'flex-1','children':a9_0x497d40('div',{'className':'p-2 lg:p-4','children':a9_0x497d40(Accordion,{'type':'multiple','className':'w-full space-y-4','value':_0x4aa9d7,'onValueChange':_0x5da2aa,'children':_0x3c05b9['modules']?.['map']((_0x19c4b7,_0x247923)=>a9_0x12ccf3(AccordionItem,{'value':_0x19c4b7['_id'],'className':cn('border-none',_0x247923%0x2===0x0?'bg-muted/30':'bg-background'),'children':[a9_0x497d40(AccordionTrigger,{'className':'px-2 py-2 hover:no-underline transition-colors','children':a9_0x12ccf3('div',{'className':'flex items-center gap-x-2 lg:gap-x-4 w-full','children':[a9_0x497d40('span',{'className':'text-sm font-medium text-muted-foreground min-w-[28px]','children':String(_0x247923+0x1)['padStart'](0x2,'0')}),a9_0x12ccf3('div',{'className':'flex flex-col gap-y-1 text-left flex-1 min-w-0','children':[a9_0x497d40('p',{'className':'text-sm font-medium truncate','children':_0x19c4b7['title']}),a9_0x12ccf3('p',{'className':'text-xs text-muted-foreground','children':[_0x19c4b7[_0x3af547(0x1e8)]?.['length']||0x0,'\x20lessons']})]})]})}),a9_0x497d40(AccordionContent,{'className':'pt-2','children':a9_0x497d40('div',{'className':'flex flex-col space-y-1','children':_0x19c4b7['lessons']?.['map']((_0x2f1dc4,_0x3ce21c)=>{const _0xa98a3b=a9_0x517d,_0x5c2924=_0x2718d8==='/dashboard/courses/'+_0x3c05b9['_id']+'/lessons/'+_0x2f1dc4[_0xa98a3b(0x1e2)],_0x402bdd=completedLessons['some'](_0xf16751=>_0xf16751[_0xa98a3b(0x1e6)]?.['_id']===_0x2f1dc4['_id']);return a9_0x12ccf3(a9_0xd121b6,{'prefetch':![],'href':'/dashboard/courses/'+_0x3c05b9['_id']+'/lessons/'+_0x2f1dc4['_id'],'onClick':_0x2d262c,'className':cn('flex items-center pl-8 lg:pl-10 pr-2 lg:pr-4 py-2 gap-x-2 lg:gap-x-4 group hover:bg-muted/50 transition-colors relative',_0x5c2924&&'bg-muted',_0x402bdd&&'text-muted-foreground'),'children':[a9_0x497d40('span',{'className':'text-xs font-medium text-muted-foreground min-w-[28px]','children':String(_0x3ce21c+0x1)['padStart'](0x2,'0')}),_0x402bdd?a9_0x497d40(Check,{'className':'h-4 w-4 shrink-0 text-green-500'}):a9_0x497d40(PlayCircle,{'className':cn('h-4 w-4 shrink-0',_0x5c2924?'text-primary':'text-muted-foreground group-hover:text-primary/80')}),a9_0x497d40('span',{'className':cn('text-sm line-clamp-2 min-w-0',_0x402bdd&&'text-muted-foreground line-through decoration-green-500/50'),'children':_0x2f1dc4['title']}),_0x5c2924&&a9_0x497d40('div',{'className':'absolute\x20left-0\x20top-1/2\x20-translate-y-1/2\x20w-[2px]\x20h-8\x20bg-primary'})]},_0x2f1dc4['_id']);})})})]},_0x19c4b7['_id']))})})}),_0x3c05b9?.['courseMaterials']&&_0x3c05b9['courseMaterials']['length']>0x0&&a9_0x497d40('div',{'className':'border-t p-4 lg:p-6','children':a9_0x497d40(Accordion,{'type':'single','collapsible':!![],'className':'w-full','children':a9_0x12ccf3(AccordionItem,{'value':'course-resources','className':'border-none','children':[a9_0x497d40(AccordionTrigger,{'className':'px-0 py-2 hover:no-underline','children':a9_0x12ccf3('div',{'className':'flex flex-col items-start text-left','children':[a9_0x497d40('h2',{'className':'text-lg font-semibold','children':'Course\x20Resources'}),a9_0x497d40('p',{'className':'text-xs text-muted-foreground','children':_0x3af547(0x1ea)})]})}),a9_0x497d40(AccordionContent,{'className':'pt-2','children':a9_0x497d40('div',{'className':'space-y-3','children':_0x3c05b9['courseMaterials']['map'](_0x20e272=>_0x20e272?.['asset']?.['url']?a9_0x12ccf3('div',{'className':'flex items-center justify-between p-3 bg-card border rounded-lg hover:shadow-sm transition-shadow','children':[a9_0x12ccf3('div',{'className':'flex items-center gap-3 overflow-hidden','children':[a9_0x497d40(FileText,{'className':'h-5 w-5 text-primary flex-shrink-0'}),a9_0x12ccf3('div',{'className':'flex flex-col overflow-hidden','children':[a9_0x497d40('span',{'className':_0x3af547(0x1ee),'title':_0x20e272['title']||_0x20e272['asset']['originalFilename']||_0x3af547(0x1e9),'children':_0x20e272['title']||_0x20e272[_0x3af547(0x1f2)]['originalFilename']||'Course\x20Resource'}),(_0x20e272['asset']['size']||_0x20e272['asset']['extension'])&&a9_0x12ccf3(_0x3af547(0x1e4),{'className':'text-xs text-muted-foreground','children':[_0x20e272['asset']['size']?formatFileSize(_0x20e272['asset'][_0x3af547(0x1e5)]):'',_0x20e272[_0x3af547(0x1f2)]['extension']&&'\x20('+_0x20e272['asset']['extension']['toUpperCase']()+')']})]})]}),a9_0x497d40(a9_0xd121b6,{'href':_0x20e272['asset']['url'],'target':'_blank','rel':'noopener\x20noreferrer','download':_0x20e272['asset']['originalFilename']||!![],'className':'inline-flex\x20items-center\x20justify-center\x20rounded-md\x20text-sm\x20font-medium\x20ring-offset-background\x20transition-colors\x20focus-visible:outline-none\x20focus-visible:ring-2\x20focus-visible:ring-ring\x20focus-visible:ring-offset-2\x20disabled:pointer-events-none\x20disabled:opacity-50\x20hover:bg-accent\x20hover:text-accent-foreground\x20h-8\x20px-2\x20shrink-0','children':a9_0x497d40(Download,{'className':'h-3 w-3'})})]},_0x20e272['_key']):null)})})]})})})]});return a9_0x12ccf3(a9_0x49f0a9,{'children':[a9_0x497d40('aside',{'className':'fixed\x20inset-y-0\x20left-0\x20z-50\x20flex\x20flex-col\x20items-center\x20w-[60px]\x20border-r\x20bg-background\x20lg:hidden\x20py-4\x20gap-y-4','children':a9_0x12ccf3(TooltipProvider,{'delayDuration':0x0,'children':[a9_0x12ccf3(Tooltip,{'children':[a9_0x497d40(TooltipTrigger,{'asChild':!![],'children':a9_0x497d40(a9_0xd121b6,{'href':'/','prefetch':![],'children':a9_0x497d40(Button,{'variant':_0x3af547(0x1e3),'size':'icon','className':'h-10 w-10 text-foreground bg-background','children':a9_0x497d40(Library,{'className':'h-5 w-5'})})})}),a9_0x497d40(TooltipContent,{'side':_0x3af547(0x1ec),'children':a9_0x497d40('p',{'children':'Course\x20Library'})})]}),a9_0x12ccf3(Tooltip,{'children':[a9_0x497d40(TooltipTrigger,{'asChild':!![],'children':a9_0x497d40(Button,{'onClick':_0x2b0abb,'variant':'ghost','size':'icon','className':'h-10 w-10 text-foreground bg-background','children':a9_0x497d40(ChevronRight,{'className':cn('h-5 w-5 transition-transform',_0x1a66a7&&'rotate-180')})})}),a9_0x497d40(TooltipContent,{'side':'right','children':a9_0x497d40('p',{'children':'Toggle\x20Sidebar'})})]})]})}),a9_0x497d40('aside',{'className':cn('fixed\x20inset-y-0\x20left-0\x20z-40\x20bg-background\x20transition-all\x20duration-300\x20ease-in-out','lg:z-50 lg:block lg:w-96 lg:border-r',_0x1a66a7?'w-[calc(100%-60px)] translate-x-[60px] lg:translate-x-0 lg:w-96':_0x3af547(0x1ef)),'children':a9_0x497d40('div',{'className':'h-full','children':a9_0x497d40(_0xb8579b,{})})}),_0x1a66a7&&a9_0x497d40('div',{'className':'fixed\x20inset-0\x20z-30\x20bg-background/80\x20backdrop-blur-sm\x20lg:hidden','onClick':_0x2d262c})]});}
