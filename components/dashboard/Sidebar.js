"use client";

'use client';(function(_0x3f351b,_0x52b04d){const _0x1b18df=a9_0x3df5,_0x32915c=_0x3f351b();while(!![]){try{const _0x24f06d=parseInt(_0x1b18df(0x19c))/0x1+parseInt(_0x1b18df(0x18b))/0x2*(parseInt(_0x1b18df(0x193))/0x3)+-parseInt(_0x1b18df(0x19d))/0x4+-parseInt(_0x1b18df(0x18d))/0x5*(-parseInt(_0x1b18df(0x18e))/0x6)+-parseInt(_0x1b18df(0x197))/0x7+-parseInt(_0x1b18df(0x18f))/0x8+parseInt(_0x1b18df(0x18c))/0x9;if(_0x24f06d===_0x52b04d)break;else _0x32915c['push'](_0x32915c['shift']());}catch(_0x3ca31d){_0x32915c['push'](_0x32915c['shift']());}}}(a9_0x44fd,0x842e8));import{jsx as a9_0x573a6f,jsxs as a9_0x177a92,Fragment as a9_0x5c1c53}from'react/jsx-runtime';import{Accordion,AccordionContent,AccordionItem,AccordionTrigger}from'@/components/ui/accordion';import{ScrollArea}from'@/components/ui/scroll-area';import{Button}from'@/components/ui/button';import{ArrowLeft,Library,ChevronRight,PlayCircle,X,Check,FileText,Download}from'lucide-react';import a9_0x1df0a1 from'next/link';import{cn}from'@/lib/utils';import{usePathname}from'next/navigation';import{useSidebar}from'@/components/providers/sidebar-provider';import{useEffect,useState}from'react';import{Tooltip,TooltipContent,TooltipProvider,TooltipTrigger}from'@/components/ui/tooltip';function a9_0x44fd(){const _0x194d1f=['3683776msWlAS','567068UXuxlI','9417789ddlPCe','170645TtpHSg','12ePajQF','5307992YUfsGI','div','/lessons/','aside','3xVfqyZ','/dashboard/courses/','span','_id','1586249ehwzOp','title','courseMaterials','asset','ghost','954253MDAkUQ'];a9_0x44fd=function(){return _0x194d1f;};return a9_0x44fd();}import{DarkModeToggle}from'../DarkModeToggle';import{CourseProgress}from'@/components/CourseProgress';import{calculateCourseProgress}from'@/lib/courseProgress';import{formatFileSize}from'@/lib/utils';function a9_0x3df5(_0x4d2077,_0x2b806f){const _0x44fdcf=a9_0x44fd();return a9_0x3df5=function(_0x3df5c8,_0x21ace1){_0x3df5c8=_0x3df5c8-0x18b;let _0x178694=_0x44fdcf[_0x3df5c8];return _0x178694;},a9_0x3df5(_0x4d2077,_0x2b806f);}export function Sidebar({course:_0x2e56b5,completedLessons:completedLessons=[]}){const _0x2af11f=a9_0x3df5,_0x4a39f8=usePathname(),{isOpen:_0x416724,toggle:_0x2fdd3f,close:_0x3a7a5b}=useSidebar(),[_0xd81589,_0x17d2ea]=useState(![]),[_0x222687,_0x2f85ba]=useState([]);useEffect(()=>{const _0x9b9342=a9_0x3df5;if(_0x4a39f8&&_0x2e56b5?.['modules']){const _0x25c9f4=_0x2e56b5['modules']['find'](_0x1aecd7=>_0x1aecd7['lessons']?.['some'](_0x240579=>_0x4a39f8===_0x9b9342(0x194)+_0x2e56b5['_id']+'/lessons/'+_0x240579['_id']))?.['_id'];_0x25c9f4&&!_0x222687['includes'](_0x25c9f4)&&_0x2f85ba(_0x190569=>[..._0x190569,_0x25c9f4]);}},[_0x4a39f8,_0x2e56b5,_0x222687]),useEffect(()=>{_0x17d2ea(!![]);},[]);if(!_0x2e56b5||!_0xd81589)return null;const _0xc092b2=calculateCourseProgress(_0x2e56b5['modules'],completedLessons),_0x28957d=()=>a9_0x177a92('div',{'className':'h-full flex flex-col','children':[a9_0x177a92('div',{'className':'p-4 lg:p-6 border-b flex flex-col gap-y-4','children':[a9_0x177a92('div',{'className':'flex items-center justify-between','children':[a9_0x177a92(a9_0x1df0a1,{'href':'/my-courses','className':'flex items-center gap-x-2 text-sm hover:text-primary transition-colors','children':[a9_0x573a6f(ArrowLeft,{'className':'h-4 w-4'}),a9_0x177a92('div',{'className':'flex items-center gap-x-2','children':[a9_0x573a6f(Library,{'className':'h-4 w-4'}),a9_0x573a6f('span',{'children':'Course\x20Library'})]})]}),a9_0x177a92('div',{'className':'space-x-2','children':[a9_0x573a6f(DarkModeToggle,{}),a9_0x573a6f(Button,{'onClick':_0x3a7a5b,'variant':_0x2af11f(0x19b),'className':'lg:hidden -mr-2','size':'icon','children':a9_0x573a6f(X,{'className':'h-4 w-4'})})]})]}),a9_0x177a92('div',{'className':'space-y-4','children':[a9_0x573a6f('h1',{'className':'font-semibold text-2xl','children':_0x2e56b5['title']}),a9_0x573a6f(CourseProgress,{'progress':_0xc092b2,'variant':'success','label':'Course\x20Progress'})]})]}),a9_0x573a6f(ScrollArea,{'className':'flex-1','children':a9_0x573a6f('div',{'className':'p-2 lg:p-4','children':a9_0x573a6f(Accordion,{'type':'multiple','className':'w-full space-y-4','value':_0x222687,'onValueChange':_0x2f85ba,'children':_0x2e56b5['modules']?.['map']((_0x365226,_0xa88e64)=>a9_0x177a92(AccordionItem,{'value':_0x365226['_id'],'className':cn('border-none',_0xa88e64%0x2===0x0?'bg-muted/30':'bg-background'),'children':[a9_0x573a6f(AccordionTrigger,{'className':'px-2 py-2 hover:no-underline transition-colors','children':a9_0x177a92('div',{'className':'flex items-center gap-x-2 lg:gap-x-4 w-full','children':[a9_0x573a6f('span',{'className':'text-sm font-medium text-muted-foreground min-w-[28px]','children':String(_0xa88e64+0x1)['padStart'](0x2,'0')}),a9_0x177a92('div',{'className':'flex flex-col gap-y-1 text-left flex-1 min-w-0','children':[a9_0x573a6f('p',{'className':'text-sm font-medium truncate','children':_0x365226['title']}),a9_0x177a92('p',{'className':'text-xs text-muted-foreground','children':[_0x365226['lessons']?.['length']||0x0,'\x20lessons']})]})]})}),a9_0x573a6f(AccordionContent,{'className':'pt-2','children':a9_0x573a6f('div',{'className':'flex flex-col space-y-1','children':_0x365226['lessons']?.['map']((_0x3b1713,_0x38c1e4)=>{const _0x10d7de=_0x2af11f,_0x53052c=_0x4a39f8===_0x10d7de(0x194)+_0x2e56b5['_id']+_0x10d7de(0x191)+_0x3b1713['_id'],_0x261596=completedLessons['some'](_0x32f340=>_0x32f340['lesson']?.['_id']===_0x3b1713['_id']);return a9_0x177a92(a9_0x1df0a1,{'prefetch':![],'href':'/dashboard/courses/'+_0x2e56b5['_id']+'/lessons/'+_0x3b1713['_id'],'onClick':_0x3a7a5b,'className':cn('flex items-center pl-8 lg:pl-10 pr-2 lg:pr-4 py-2 gap-x-2 lg:gap-x-4 group hover:bg-muted/50 transition-colors relative',_0x53052c&&'bg-muted',_0x261596&&'text-muted-foreground'),'children':[a9_0x573a6f('span',{'className':'text-xs font-medium text-muted-foreground min-w-[28px]','children':String(_0x38c1e4+0x1)['padStart'](0x2,'0')}),_0x261596?a9_0x573a6f(Check,{'className':'h-4 w-4 shrink-0 text-green-500'}):a9_0x573a6f(PlayCircle,{'className':cn('h-4 w-4 shrink-0',_0x53052c?'text-primary':'text-muted-foreground group-hover:text-primary/80')}),a9_0x573a6f('span',{'className':cn('text-sm line-clamp-2 min-w-0',_0x261596&&'text-muted-foreground line-through decoration-green-500/50'),'children':_0x3b1713['title']}),_0x53052c&&a9_0x573a6f('div',{'className':'absolute left-0 top-1/2 -translate-y-1/2 w-[2px] h-8 bg-primary'})]},_0x3b1713['_id']);})})})]},_0x365226[_0x2af11f(0x196)]))})})}),_0x2e56b5?.[_0x2af11f(0x199)]&&_0x2e56b5['courseMaterials']['length']>0x0&&a9_0x573a6f(_0x2af11f(0x190),{'className':'border-t p-4 lg:p-6','children':a9_0x573a6f(Accordion,{'type':'single','collapsible':!![],'className':'w-full','children':a9_0x177a92(AccordionItem,{'value':'course-resources','className':'border-none','children':[a9_0x573a6f(AccordionTrigger,{'className':'px-0 py-2 hover:no-underline','children':a9_0x177a92('div',{'className':'flex flex-col items-start text-left','children':[a9_0x573a6f('h2',{'className':'text-lg font-semibold','children':'Course\x20Resources'}),a9_0x573a6f('p',{'className':'text-xs text-muted-foreground','children':'These\x20resources\x20are\x20available\x20for\x20the\x20entire\x20course'})]})}),a9_0x573a6f(AccordionContent,{'className':'pt-2','children':a9_0x573a6f('div',{'className':'space-y-3','children':_0x2e56b5['courseMaterials']['map'](_0x345d8a=>_0x345d8a?.[_0x2af11f(0x19a)]?.['url']?a9_0x177a92('div',{'className':'flex items-center justify-between p-3 bg-card border rounded-lg hover:shadow-sm transition-shadow','children':[a9_0x177a92('div',{'className':'flex items-center gap-3 overflow-hidden','children':[a9_0x573a6f(FileText,{'className':'h-5 w-5 text-primary flex-shrink-0'}),a9_0x177a92('div',{'className':'flex flex-col overflow-hidden','children':[a9_0x573a6f('span',{'className':'font-medium text-sm truncate','title':_0x345d8a[_0x2af11f(0x198)]||_0x345d8a['asset']['originalFilename']||'Course\x20Resource','children':_0x345d8a['title']||_0x345d8a['asset']['originalFilename']||'Course\x20Resource'}),(_0x345d8a['asset']['size']||_0x345d8a['asset']['extension'])&&a9_0x177a92(_0x2af11f(0x195),{'className':'text-xs text-muted-foreground','children':[_0x345d8a['asset']['size']?formatFileSize(_0x345d8a['asset']['size']):'',_0x345d8a[_0x2af11f(0x19a)]['extension']&&'\x20('+_0x345d8a['asset']['extension']['toUpperCase']()+')']})]})]}),a9_0x573a6f(a9_0x1df0a1,{'href':_0x345d8a['asset']['url'],'target':'_blank','rel':'noopener\x20noreferrer','download':_0x345d8a['asset']['originalFilename']||!![],'className':'inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-8 px-2 shrink-0','children':a9_0x573a6f(Download,{'className':'h-3 w-3'})})]},_0x345d8a['_key']):null)})})]})})})]});return a9_0x177a92(a9_0x5c1c53,{'children':[a9_0x573a6f(_0x2af11f(0x192),{'className':'fixed inset-y-0 left-0 z-50 flex flex-col items-center w-[60px] border-r bg-background lg:hidden py-4 gap-y-4','children':a9_0x177a92(TooltipProvider,{'delayDuration':0x0,'children':[a9_0x177a92(Tooltip,{'children':[a9_0x573a6f(TooltipTrigger,{'asChild':!![],'children':a9_0x573a6f(a9_0x1df0a1,{'href':'/','prefetch':![],'children':a9_0x573a6f(Button,{'variant':'ghost','size':'icon','className':'h-10 w-10 text-foreground bg-background','children':a9_0x573a6f(Library,{'className':'h-5 w-5'})})})}),a9_0x573a6f(TooltipContent,{'side':'right','children':a9_0x573a6f('p',{'children':'Course\x20Library'})})]}),a9_0x177a92(Tooltip,{'children':[a9_0x573a6f(TooltipTrigger,{'asChild':!![],'children':a9_0x573a6f(Button,{'onClick':_0x2fdd3f,'variant':'ghost','size':'icon','className':'h-10 w-10 text-foreground bg-background','children':a9_0x573a6f(ChevronRight,{'className':cn('h-5 w-5 transition-transform',_0x416724&&'rotate-180')})})}),a9_0x573a6f(TooltipContent,{'side':'right','children':a9_0x573a6f('p',{'children':'Toggle\x20Sidebar'})})]})]})}),a9_0x573a6f(_0x2af11f(0x192),{'className':cn('fixed inset-y-0 left-0 z-40 bg-background transition-all duration-300 ease-in-out','lg:z-50 lg:block lg:w-96 lg:border-r',_0x416724?'w-[calc(100%-60px)] translate-x-[60px] lg:translate-x-0 lg:w-96':'translate-x-[-100%] lg:translate-x-0'),'children':a9_0x573a6f('div',{'className':'h-full','children':a9_0x573a6f(_0x28957d,{})})}),_0x416724&&a9_0x573a6f('div',{'className':'fixed inset-0 z-30 bg-background/80 backdrop-blur-sm lg:hidden','onClick':_0x3a7a5b})]});}
