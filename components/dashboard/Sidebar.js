"use client";

'use client';(function(_0x53ee17,_0x3d0a97){const _0x1876bd=a9_0x1650,_0x3cc671=_0x53ee17();while(!![]){try{const _0x4c8fb8=parseInt(_0x1876bd(0x1a4))/0x1*(parseInt(_0x1876bd(0x18f))/0x2)+parseInt(_0x1876bd(0x1ba))/0x3+-parseInt(_0x1876bd(0x19d))/0x4+-parseInt(_0x1876bd(0x1a1))/0x5*(parseInt(_0x1876bd(0x18b))/0x6)+parseInt(_0x1876bd(0x1bb))/0x7+-parseInt(_0x1876bd(0x1c1))/0x8*(-parseInt(_0x1876bd(0x186))/0x9)+parseInt(_0x1876bd(0x1a7))/0xa*(-parseInt(_0x1876bd(0x183))/0xb);if(_0x4c8fb8===_0x3d0a97)break;else _0x3cc671['push'](_0x3cc671['shift']());}catch(_0x5c1bc4){_0x3cc671['push'](_0x3cc671['shift']());}}}(a9_0x19f3,0x26e65));import{jsx as a9_0x52a48f,jsxs as a9_0x2b2e90,Fragment as a9_0x2c68c4}from'react/jsx-runtime';import{Accordion,AccordionContent,AccordionItem,AccordionTrigger}from'@/components/ui/accordion';import{ScrollArea}from'@/components/ui/scroll-area';import{Button}from'@/components/ui/button';import{ArrowLeft,Library,ChevronRight,PlayCircle,X,Check,FileText,Download}from'lucide-react';function a9_0x1650(_0x342f9a,_0x25154d){const _0x19f366=a9_0x19f3();return a9_0x1650=function(_0x165024,_0x5b2f60){_0x165024=_0x165024-0x183;let _0xbef527=_0x19f366[_0x165024];if(a9_0x1650['EEfrqT']===undefined){var _0x2efc5e=function(_0x52a48f){const _0x2b2e90='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2c68c4='',_0x4639d8='';for(let _0x7bedbe=0x0,_0x2701b6,_0x32205d,_0x42b738=0x0;_0x32205d=_0x52a48f['charAt'](_0x42b738++);~_0x32205d&&(_0x2701b6=_0x7bedbe%0x4?_0x2701b6*0x40+_0x32205d:_0x32205d,_0x7bedbe++%0x4)?_0x2c68c4+=String['fromCharCode'](0xff&_0x2701b6>>(-0x2*_0x7bedbe&0x6)):0x0){_0x32205d=_0x2b2e90['indexOf'](_0x32205d);}for(let _0x5e9e04=0x0,_0x293d30=_0x2c68c4['length'];_0x5e9e04<_0x293d30;_0x5e9e04++){_0x4639d8+='%'+('00'+_0x2c68c4['charCodeAt'](_0x5e9e04)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4639d8);};a9_0x1650['Oebmxk']=_0x2efc5e,_0x342f9a=arguments,a9_0x1650['EEfrqT']=!![];}const _0x317d89=_0x19f366[0x0],_0x245a6c=_0x165024+_0x317d89,_0x4df091=_0x342f9a[_0x245a6c];return!_0x4df091?(_0xbef527=a9_0x1650['Oebmxk'](_0xbef527),_0x342f9a[_0x245a6c]=_0xbef527):_0xbef527=_0x4df091,_0xbef527;},a9_0x1650(_0x342f9a,_0x25154d);}import a9_0x4639d8 from'next/link';import{cn}from'@/lib/utils';import{usePathname}from'next/navigation';import{useSidebar}from'@/components/providers/sidebar-provider';function a9_0x19f3(){const _0x5d27c9=['CgfKu3rHCNq','yM9YzgvYlw5VBMu','Bw9KDwXLCW','Dgv4Dc1SzYbMB250lxnLBwLIB2XK','x2LK','zMXLEcbMBgv4lwnVBcbPDgvTCY1ZDgfYDcb0zxH0lwXLzNq','q291CNnLifjLC291CMnL','q291CNnLieXPyNjHCNK','mtaWode4mgLjs1DVtW','C3bHBG','Ac01ihCTnsb0zxH0lxbYAw1HCNKGzMXLEc1ZAhjPBMSTma','BgvZC29UCW','nxbAvxLKsG','Ac0Xmcb3lteWihrLEhqTzM9YzwDYB3vUzcbIzY1IywnRz3jVDw5K','BgC6EI01mcbSzZPIBg9JAYbSzZP3ltK2igXNoMjVCMrLCI1Y','nvnAu3PLrW','l2rHC2HIB2fYzc9JB3vYC2vZlW','zMXLEcbPDgvTCY1Jzw50zxiGz2fWlxGTmIb0zxH0lxnTigHVDMvYoNrLEhqTChjPBwfYEsb0CMfUC2L0Aw9UlwnVBg9YCW','mtbTyu9REKy','CM90yxrLlte4ma','DY1By2fSyYGXmdaLltyWChGPxsb0CMfUC2XHDguTEc1BnJbWEf0GBgC6DhjHBNnSyxrLlxGTmcbSzZP3ltK2','zMXLEcbMBgv4lwnVBcbNyxaTEs0XihrLEhqTBgvMDcbMBgv4lteGBwLUlxCTma','ChGTmIbWEs0YigHVDMvYoM5VlxvUzgvYBgLUzsb0CMfUC2L0Aw9UlwnVBg9YCW','igXLC3nVBNm','x2TLEq','l215lwnVDxjZzxm','yxnPzgu','yM9YzgvYlxqGCc00igXNoNaTnG','yxnZzxq','y291CNnLlxjLC291CMnLCW','zxH0zw5ZAw9U','zMXLEc0X','y291CNnLtwf0zxjPywXZ','BwfW','zgL2','DgL0Bgu','BgvZC29U','odm2nte0uK14vvfZ','mtq2ndi1m0T1EfrNzq','Aw5SAw5LlwzSzxGGAxrLBxmTy2vUDgvYigP1C3rPzNKTy2vUDgvYihjVDw5KzwqTBwqGDgv4Dc1ZBsbMB250lw1LzgL1BsbYAw5Nlw9MzNnLDc1IywnRz3jVDw5KihrYyw5ZAxrPB24Ty29SB3jZigzVy3vZlxzPC2LIBgu6B3v0BgLUzs1UB25LigzVy3vZlxzPC2LIBgu6CMLUzY0YigzVy3vZlxzPC2LIBgu6CMLUzY1YAw5NigzVy3vZlxzPC2LIBgu6CMLUzY1VzMzZzxqTmIbKAxnHyMXLzdPWB2LUDgvYlwv2zw50CY1UB25LigrPC2fIBgvKoM9WywnPDhKTntaGAg92zxi6yMCTywnJzw50igHVDMvYoNrLEhqTywnJzw50lwzVCMvNCM91BMqGAc04ihb4ltiGC2HYAw5Rlta','Dgv4Dc14CYb0zxH0lw11DgvKlwzVCMvNCM91BMq','C29Tzq','Ac01ihCTnq','zML4zwqGAw5ZzxqTEs0WigXLzNqTmcb6ltuWigzSzxGGzMXLEc1JB2WGAxrLBxmTy2vUDgvYihCTwZyWChHDigjVCMrLCI1YigjNlwjHy2TNCM91BMqGBgC6AgLKzgvUihb5ltqGz2fWlxKTna','mtC1mdi0v2PJy0DZ','Dgv4Dc1TDxrLzc1MB3jLz3jVDw5K','zMXLEcbPDgvTCY1Jzw50zxiGCgWTocbSzZPWBc0XmcbWCI0YigXNoNbYltqGChKTmIbNyxaTEc0YigXNoMDHCc14ltqGz3jVDxaGAg92zxi6yMCTBxv0zwqVntaGDhjHBNnPDgLVBI1JB2XVCNmGCMvSyxrPDMu','z2HVC3q','DY1MDwXSihnWywnLlxKTna','mZq2mdmWm3rsvvbQvq','l2XLC3nVBNmV','B3jPz2LUywXgAwXLBMfTzq','mtH2ExH1zLq','zML4zwqGAw5ZzxqTEs0WigXLzNqTmcb6ltqWigjNlwjHy2TNCM91BMqGDhjHBNnPDgLVBI1HBgWGzhvYyxrPB24TmZaWigvHC2uTAw4TB3v0','Ac1MDwXS','ChqTmG','BgvUz3rO','ndaXntKYBer2q1fV','DxjS','zMXLEcbPDgvTCY1Jzw50zxiGANvZDgLMEs1Izxr3zwvUihaTmYbIzY1JyxjKigjVCMrLCIbYB3vUzgvKlwXNigHVDMvYoNnOywrVDY1ZBsb0CMfUC2L0Aw9UlxnOywrVDW','Ac00ihCTna','mta0ndq0tuXkCNvj','C2LUz2XL','AwnVBG','Dgv4Dc1TDxrLzc1MB3jLz3jVDw5KigDYB3vWlwHVDMvYoNrLEhqTChjPBwfYEs84ma','Dgv4Dc14CYbMB250lw1LzgL1Bsb0zxH0lw11DgvKlwzVCMvNCM91BMqGBwLUlxCTwZi4ChHD','C2L6zq'];a9_0x19f3=function(){return _0x5d27c9;};return a9_0x19f3();}import{useEffect,useState}from'react';import{Tooltip,TooltipContent,TooltipProvider,TooltipTrigger}from'@/components/ui/tooltip';import{DarkModeToggle}from'../DarkModeToggle';import{CourseProgress}from'@/components/CourseProgress';import{calculateCourseProgress}from'@/lib/courseProgress';import{formatFileSize}from'@/lib/utils';export function Sidebar({course:_0x7bedbe,completedLessons:completedLessons=[]}){const _0x14669b=a9_0x1650,_0x2701b6=usePathname(),{isOpen:_0x32205d,toggle:_0x42b738,close:_0x5e9e04}=useSidebar(),[_0x293d30,_0x5ca19a]=useState(![]),[_0x425515,_0x4f8091]=useState([]);useEffect(()=>{const _0x2bf5a6=a9_0x1650;if(_0x2701b6&&_0x7bedbe?.[_0x2bf5a6(0x197)]){const _0x4d627a=_0x7bedbe[_0x2bf5a6(0x197)]['find'](_0x120cd9=>_0x120cd9[_0x2bf5a6(0x1a0)]?.['some'](_0x1aaa66=>_0x2701b6==='/dashboard/courses/'+_0x7bedbe[_0x2bf5a6(0x199)]+_0x2bf5a6(0x184)+_0x1aaa66[_0x2bf5a6(0x199)]))?.['_id'];_0x4d627a&&!_0x425515['includes'](_0x4d627a)&&_0x4f8091(_0x52e4a4=>[..._0x52e4a4,_0x4d627a]);}},[_0x2701b6,_0x7bedbe,_0x425515]),useEffect(()=>{_0x5ca19a(!![]);},[]);if(!_0x7bedbe||!_0x293d30)return null;const _0x7399ef=calculateCourseProgress(_0x7bedbe[_0x14669b(0x197)],completedLessons),_0x48a557=()=>a9_0x2b2e90(_0x14669b(0x1b7),{'className':'h-full\x20flex\x20flex-col','children':[a9_0x2b2e90('div',{'className':'p-4\x20lg:p-6\x20border-b\x20flex\x20flex-col\x20gap-y-4','children':[a9_0x2b2e90('div',{'className':'flex\x20items-center\x20justify-between','children':[a9_0x2b2e90(a9_0x4639d8,{'href':_0x14669b(0x1ae),'className':_0x14669b(0x1a6),'children':[a9_0x52a48f(ArrowLeft,{'className':_0x14669b(0x18e)}),a9_0x2b2e90(_0x14669b(0x1b7),{'className':'flex\x20items-center\x20gap-x-2','children':[a9_0x52a48f(Library,{'className':_0x14669b(0x18e)}),a9_0x52a48f(_0x14669b(0x19e),{'children':'Course\x20Library'})]})]}),a9_0x2b2e90(_0x14669b(0x1b7),{'className':'space-x-2','children':[a9_0x52a48f(DarkModeToggle,{}),a9_0x52a48f(Button,{'onClick':_0x5e9e04,'variant':'ghost','className':'lg:hidden\x20-mr-2','size':_0x14669b(0x191),'children':a9_0x52a48f(X,{'className':'h-4\x20w-4'})})]})]}),a9_0x2b2e90('div',{'className':'space-y-4','children':[a9_0x52a48f('h1',{'className':'font-semibold\x20text-2xl','children':_0x7bedbe['title']}),a9_0x52a48f(CourseProgress,{'progress':_0x7399ef,'variant':'success','label':'Course\x20Progress'})]})]}),a9_0x52a48f(ScrollArea,{'className':_0x14669b(0x1b4),'children':a9_0x52a48f('div',{'className':'p-2\x20lg:p-4','children':a9_0x52a48f(Accordion,{'type':'multiple','className':_0x14669b(0x1c5),'value':_0x425515,'onValueChange':_0x4f8091,'children':_0x7bedbe['modules']?.['map']((_0x5811b3,_0x44dbb0)=>a9_0x2b2e90(AccordionItem,{'value':_0x5811b3[_0x14669b(0x199)],'className':cn(_0x14669b(0x196),_0x44dbb0%0x2===0x0?'bg-muted/30':'bg-background'),'children':[a9_0x52a48f(AccordionTrigger,{'className':_0x14669b(0x1ab),'children':a9_0x2b2e90('div',{'className':'flex\x20items-center\x20gap-x-2\x20lg:gap-x-4\x20w-full','children':[a9_0x52a48f('span',{'className':'text-sm\x20font-medium\x20text-muted-foreground\x20min-w-[28px]','children':String(_0x44dbb0+0x1)[_0x14669b(0x195)](0x2,'0')}),a9_0x2b2e90('div',{'className':_0x14669b(0x1aa),'children':[a9_0x52a48f('p',{'className':'text-sm\x20font-medium\x20truncate','children':_0x5811b3[_0x14669b(0x1b8)]}),a9_0x2b2e90('p',{'className':'text-xs\x20text-muted-foreground','children':[_0x5811b3['lessons']?.[_0x14669b(0x18a)]||0x0,_0x14669b(0x1ac)]})]})]})}),a9_0x52a48f(AccordionContent,{'className':'pt-2','children':a9_0x52a48f('div',{'className':'flex\x20flex-col\x20space-y-1','children':_0x5811b3['lessons']?.['map']((_0x40cc9b,_0x42812e)=>{const _0x364a9b=_0x14669b,_0x5729ae=_0x2701b6===_0x364a9b(0x1a5)+_0x7bedbe[_0x364a9b(0x199)]+'/lessons/'+_0x40cc9b['_id'],_0x54880a=completedLessons[_0x364a9b(0x1be)](_0x43de2c=>_0x43de2c[_0x364a9b(0x1b9)]?.[_0x364a9b(0x199)]===_0x40cc9b[_0x364a9b(0x199)]);return a9_0x2b2e90(a9_0x4639d8,{'prefetch':![],'href':_0x364a9b(0x1a5)+_0x7bedbe[_0x364a9b(0x199)]+'/lessons/'+_0x40cc9b[_0x364a9b(0x199)],'onClick':_0x5e9e04,'className':cn(_0x364a9b(0x1c3),_0x5729ae&&'bg-muted',_0x54880a&&_0x364a9b(0x1c2)),'children':[a9_0x52a48f('span',{'className':_0x364a9b(0x193),'children':String(_0x42812e+0x1)['padStart'](0x2,'0')}),_0x54880a?a9_0x52a48f(Check,{'className':'h-4\x20w-4\x20shrink-0\x20text-green-500'}):a9_0x52a48f(PlayCircle,{'className':cn('h-4\x20w-4\x20shrink-0',_0x5729ae?'text-primary':_0x364a9b(0x192))}),a9_0x52a48f('span',{'className':cn('text-sm\x20line-clamp-2\x20min-w-0',_0x54880a&&'text-muted-foreground\x20line-through\x20decoration-green-500/50'),'children':_0x40cc9b[_0x364a9b(0x1b8)]}),_0x5729ae&&a9_0x52a48f(_0x364a9b(0x1b7),{'className':'absolute\x20left-0\x20top-1/2\x20-translate-y-1/2\x20w-[2px]\x20h-8\x20bg-primary'})]},_0x40cc9b['_id']);})})})]},_0x5811b3[_0x14669b(0x199)]))})})}),_0x7bedbe?.['courseMaterials']&&_0x7bedbe[_0x14669b(0x1b5)][_0x14669b(0x18a)]>0x0&&a9_0x52a48f('div',{'className':_0x14669b(0x1b0),'children':a9_0x52a48f(Accordion,{'type':_0x14669b(0x190),'collapsible':!![],'className':'w-full','children':a9_0x2b2e90(AccordionItem,{'value':_0x14669b(0x1b2),'className':'border-none','children':[a9_0x52a48f(AccordionTrigger,{'className':'px-0\x20py-2\x20hover:no-underline','children':a9_0x2b2e90('div',{'className':_0x14669b(0x19a),'children':[a9_0x52a48f('h2',{'className':_0x14669b(0x198),'children':'Course\x20Resources'}),a9_0x52a48f('p',{'className':'text-xs\x20text-muted-foreground','children':'These\x20resources\x20are\x20available\x20for\x20the\x20entire\x20course'})]})}),a9_0x52a48f(AccordionContent,{'className':_0x14669b(0x189),'children':a9_0x52a48f('div',{'className':'space-y-3','children':_0x7bedbe['courseMaterials'][_0x14669b(0x1b6)](_0xc7b478=>_0xc7b478?.['asset']?.[_0x14669b(0x18c)]?a9_0x2b2e90('div',{'className':_0x14669b(0x18d),'children':[a9_0x2b2e90(_0x14669b(0x1b7),{'className':'flex\x20items-center\x20gap-3\x20overflow-hidden','children':[a9_0x52a48f(FileText,{'className':_0x14669b(0x19f)}),a9_0x2b2e90('div',{'className':'flex\x20flex-col\x20overflow-hidden','children':[a9_0x52a48f(_0x14669b(0x19e),{'className':'font-medium\x20text-sm\x20truncate','title':_0xc7b478[_0x14669b(0x1b8)]||_0xc7b478['asset']['originalFilename']||_0x14669b(0x19b),'children':_0xc7b478[_0x14669b(0x1b8)]||_0xc7b478['asset'][_0x14669b(0x185)]||_0x14669b(0x19b)}),(_0xc7b478[_0x14669b(0x1b1)][_0x14669b(0x194)]||_0xc7b478['asset']['extension'])&&a9_0x2b2e90('span',{'className':_0x14669b(0x1bd),'children':[_0xc7b478[_0x14669b(0x1b1)]['size']?formatFileSize(_0xc7b478['asset'][_0x14669b(0x194)]):'',_0xc7b478['asset'][_0x14669b(0x1b3)]&&'\x20('+_0xc7b478[_0x14669b(0x1b1)][_0x14669b(0x1b3)]['toUpperCase']()+')']})]})]}),a9_0x52a48f(a9_0x4639d8,{'href':_0xc7b478[_0x14669b(0x1b1)][_0x14669b(0x18c)],'target':'_blank','rel':'noopener\x20noreferrer','download':_0xc7b478['asset']['originalFilename']||!![],'className':_0x14669b(0x1bc),'children':a9_0x52a48f(Download,{'className':'h-3\x20w-3'})})]},_0xc7b478[_0x14669b(0x1ad)]):null)})})]})})})]});return a9_0x2b2e90(a9_0x2c68c4,{'children':[a9_0x52a48f(_0x14669b(0x1af),{'className':_0x14669b(0x1c0),'children':a9_0x2b2e90(TooltipProvider,{'delayDuration':0x0,'children':[a9_0x2b2e90(Tooltip,{'children':[a9_0x52a48f(TooltipTrigger,{'asChild':!![],'children':a9_0x52a48f(a9_0x4639d8,{'href':'/','prefetch':![],'children':a9_0x52a48f(Button,{'variant':_0x14669b(0x1c4),'size':'icon','className':_0x14669b(0x1a2),'children':a9_0x52a48f(Library,{'className':_0x14669b(0x1bf)})})})}),a9_0x52a48f(TooltipContent,{'side':'right','children':a9_0x52a48f('p',{'children':_0x14669b(0x19c)})})]}),a9_0x2b2e90(Tooltip,{'children':[a9_0x52a48f(TooltipTrigger,{'asChild':!![],'children':a9_0x52a48f(Button,{'onClick':_0x42b738,'variant':'ghost','size':'icon','className':'h-10\x20w-10\x20text-foreground\x20bg-background','children':a9_0x52a48f(ChevronRight,{'className':cn('h-5\x20w-5\x20transition-transform',_0x32205d&&_0x14669b(0x1a8))})})}),a9_0x52a48f(TooltipContent,{'side':'right','children':a9_0x52a48f('p',{'children':'Toggle\x20Sidebar'})})]})]})}),a9_0x52a48f('aside',{'className':cn(_0x14669b(0x187),_0x14669b(0x1a3),_0x32205d?_0x14669b(0x1a9):'translate-x-[-100%]\x20lg:translate-x-0'),'children':a9_0x52a48f('div',{'className':_0x14669b(0x188),'children':a9_0x52a48f(_0x48a557,{})})}),_0x32205d&&a9_0x52a48f(_0x14669b(0x1b7),{'className':'fixed\x20inset-0\x20z-30\x20bg-background/80\x20backdrop-blur-sm\x20lg:hidden','onClick':_0x5e9e04})]});}
