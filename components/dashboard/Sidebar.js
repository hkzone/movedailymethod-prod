"use client";

'use client';(function(_0x3094d0,_0x2d1ad0){const _0x51bcad=a12_0x1dbf,_0x1adce1=_0x3094d0();while(!![]){try{const _0x3f5610=parseInt(_0x51bcad(0x145))/0x1*(parseInt(_0x51bcad(0x142))/0x2)+parseInt(_0x51bcad(0x13f))/0x3*(parseInt(_0x51bcad(0x133))/0x4)+parseInt(_0x51bcad(0x143))/0x5*(-parseInt(_0x51bcad(0x137))/0x6)+-parseInt(_0x51bcad(0x139))/0x7+parseInt(_0x51bcad(0x13a))/0x8+-parseInt(_0x51bcad(0x146))/0x9+parseInt(_0x51bcad(0x138))/0xa*(parseInt(_0x51bcad(0x13b))/0xb);if(_0x3f5610===_0x2d1ad0)break;else _0x1adce1['push'](_0x1adce1['shift']());}catch(_0x13198a){_0x1adce1['push'](_0x1adce1['shift']());}}}(a12_0x3b98,0xd28fd));import{jsx as a12_0x24146a,jsxs as a12_0x90a400,Fragment as a12_0x21a010}from'react/jsx-runtime';import{Accordion,AccordionContent,AccordionItem,AccordionTrigger}from'@/components/ui/accordion';function a12_0x1dbf(_0x1fec05,_0xe30387){const _0x3b9873=a12_0x3b98();return a12_0x1dbf=function(_0x1dbf0f,_0x2d34a0){_0x1dbf0f=_0x1dbf0f-0x133;let _0x2f60c8=_0x3b9873[_0x1dbf0f];return _0x2f60c8;},a12_0x1dbf(_0x1fec05,_0xe30387);}import{ScrollArea}from'@/components/ui/scroll-area';import{Button}from'@/components/ui/button';import{ArrowLeft,Library,ChevronRight,PlayCircle,X,Check,FileText,Download}from'lucide-react';import a12_0x10a108 from'next/link';import{cn}from'@/lib/utils';import{usePathname}from'next/navigation';import{useSidebar}from'@/components/providers/sidebar-provider';import{useEffect,useState}from'react';import{Tooltip,TooltipContent,TooltipProvider,TooltipTrigger}from'@/components/ui/tooltip';import{DarkModeToggle}from'../DarkModeToggle';import{CourseProgress}from'@/components/CourseProgress';import{calculateCourseProgress}from'@/lib/courseProgress';function a12_0x3b98(){const _0x4e2b0a=['11953288zvGPvC','2817705neryEe','map','modules','ghost','3836193BadJYE','Course\x20Library','success','451882SgoEyy','25gwbyRb','asset','2QxBiLk','11866797LIJCnj','4AHDhsO','div','/my-courses','extension','1323642yCuDlr','20QxXkyF','3171385LNrgPg'];a12_0x3b98=function(){return _0x4e2b0a;};return a12_0x3b98();}import{formatFileSize}from'@/lib/utils';export function Sidebar({course:_0xf40542,completedLessons:completedLessons=[]}){const _0x24615b=a12_0x1dbf,_0x42576f=usePathname(),{isOpen:_0x3850fc,toggle:_0x25fd06,close:_0x29a01e}=useSidebar(),[_0x5eb429,_0x1e836b]=useState(![]),[_0x54667a,_0x224ed7]=useState([]);useEffect(()=>{if(_0x42576f&&_0xf40542?.['modules']){const _0x5eea9f=_0xf40542['modules']['find'](_0x5cd8b9=>_0x5cd8b9['lessons']?.['some'](_0x30eb20=>_0x42576f==='/dashboard/courses/'+_0xf40542['_id']+'/lessons/'+_0x30eb20['_id']))?.['_id'];_0x5eea9f&&!_0x54667a['includes'](_0x5eea9f)&&_0x224ed7(_0x3ecc88=>[..._0x3ecc88,_0x5eea9f]);}},[_0x42576f,_0xf40542,_0x54667a]),useEffect(()=>{_0x1e836b(!![]);},[]);if(!_0xf40542||!_0x5eb429)return null;const _0x14bc31=calculateCourseProgress(_0xf40542['modules'],completedLessons),_0x304cbc=()=>a12_0x90a400(_0x24615b(0x134),{'className':'h-full flex flex-col','children':[a12_0x90a400('div',{'className':'p-4 lg:p-6 border-b flex flex-col gap-y-4','children':[a12_0x90a400('div',{'className':'flex items-center justify-between','children':[a12_0x90a400(a12_0x10a108,{'href':_0x24615b(0x135),'className':'flex items-center gap-x-2 text-sm hover:text-primary transition-colors','children':[a12_0x24146a(ArrowLeft,{'className':'h-4 w-4'}),a12_0x24146a('div',{'className':'flex items-center gap-x-2','children':a12_0x24146a('span',{'children':_0x24615b(0x140)})})]}),a12_0x90a400(_0x24615b(0x134),{'className':'space-x-2','children':[a12_0x24146a(DarkModeToggle,{}),a12_0x24146a(Button,{'onClick':_0x29a01e,'variant':'ghost','className':'lg:hidden -mr-2','size':'icon','children':a12_0x24146a(X,{'className':'h-4 w-4'})})]})]}),a12_0x90a400('div',{'className':'space-y-4','children':[a12_0x24146a('h1',{'className':'font-semibold text-2xl','children':_0xf40542['title']}),a12_0x24146a(CourseProgress,{'progress':_0x14bc31,'variant':_0x24615b(0x141),'label':'Course\x20Progress'})]})]}),a12_0x24146a(ScrollArea,{'className':'flex-1','children':a12_0x24146a('div',{'className':'p-2 lg:p-4','children':a12_0x24146a(Accordion,{'type':'multiple','className':'w-full space-y-4','value':_0x54667a,'onValueChange':_0x224ed7,'children':_0xf40542[_0x24615b(0x13d)]?.['map']((_0x162033,_0x4ff16b)=>a12_0x90a400(AccordionItem,{'value':_0x162033['_id'],'className':cn('border-none',_0x4ff16b%0x2===0x0?'bg-muted/30':'bg-background'),'children':[a12_0x24146a(AccordionTrigger,{'className':'px-2 py-2 hover:no-underline transition-colors','children':a12_0x90a400('div',{'className':'flex items-center gap-x-2 lg:gap-x-4 w-full','children':[a12_0x24146a('span',{'className':'text-sm font-medium text-muted-foreground min-w-[28px]','children':String(_0x4ff16b+0x1)['padStart'](0x2,'0')}),a12_0x90a400('div',{'className':'flex flex-col gap-y-1 text-left flex-1 min-w-0','children':[a12_0x24146a('p',{'className':'text-sm font-medium truncate','children':_0x162033['title']}),a12_0x90a400('p',{'className':'text-xs text-muted-foreground','children':[_0x162033['lessons']?.['length']||0x0,'\x20lessons']})]})]})}),a12_0x24146a(AccordionContent,{'className':'pt-2','children':a12_0x24146a('div',{'className':'flex flex-col space-y-1','children':_0x162033['lessons']?.['map']((_0x28828b,_0x447c58)=>{const _0x436bcd=_0x42576f==='/dashboard/courses/'+_0xf40542['_id']+'/lessons/'+_0x28828b['_id'],_0x2f08a2=completedLessons['some'](_0x20f4f9=>_0x20f4f9['lesson']?.['_id']===_0x28828b['_id']);return a12_0x90a400(a12_0x10a108,{'prefetch':![],'href':'/dashboard/courses/'+_0xf40542['_id']+'/lessons/'+_0x28828b['_id'],'onClick':_0x29a01e,'className':cn('flex items-center pl-8 lg:pl-10 pr-2 lg:pr-4 py-2 gap-x-2 lg:gap-x-4 group hover:bg-muted/50 transition-colors relative',_0x436bcd&&'bg-muted',_0x2f08a2&&'text-muted-foreground'),'children':[a12_0x24146a('span',{'className':'text-xs font-medium text-muted-foreground min-w-[28px]','children':String(_0x447c58+0x1)['padStart'](0x2,'0')}),_0x2f08a2?a12_0x24146a(Check,{'className':'h-4 w-4 shrink-0 text-green-500'}):a12_0x24146a(PlayCircle,{'className':cn('h-4 w-4 shrink-0',_0x436bcd?'text-primary':'text-muted-foreground group-hover:text-primary/80')}),a12_0x24146a('span',{'className':cn('text-sm line-clamp-2 min-w-0',_0x2f08a2&&'text-muted-foreground line-through decoration-green-500/50'),'children':_0x28828b['title']}),_0x436bcd&&a12_0x24146a('div',{'className':'absolute left-0 top-1/2 -translate-y-1/2 w-[2px] h-8 bg-primary'})]},_0x28828b['_id']);})})})]},_0x162033['_id']))})})}),_0xf40542?.['courseMaterials']&&_0xf40542['courseMaterials']['length']>0x0&&a12_0x24146a('div',{'className':'border-t p-4 lg:p-6','children':a12_0x24146a(Accordion,{'type':'single','collapsible':!![],'className':'w-full','children':a12_0x90a400(AccordionItem,{'value':'course-resources','className':'border-none','children':[a12_0x24146a(AccordionTrigger,{'className':'px-0 py-2 hover:no-underline','children':a12_0x90a400('div',{'className':'flex flex-col items-start text-left','children':[a12_0x24146a('h2',{'className':'text-lg font-semibold','children':'Course\x20Resources'}),a12_0x24146a('p',{'className':'text-xs text-muted-foreground','children':'These\x20resources\x20are\x20available\x20for\x20the\x20entire\x20course'})]})}),a12_0x24146a(AccordionContent,{'className':'pt-2','children':a12_0x24146a('div',{'className':'space-y-3','children':_0xf40542['courseMaterials'][_0x24615b(0x13c)](_0x13238c=>_0x13238c?.['asset']?.['url']?a12_0x90a400('div',{'className':'flex items-center justify-between p-3 bg-card border rounded-lg hover:shadow-sm transition-shadow','children':[a12_0x90a400('div',{'className':'flex items-center gap-3 overflow-hidden','children':[a12_0x24146a(FileText,{'className':'h-5 w-5 text-primary flex-shrink-0'}),a12_0x90a400('div',{'className':'flex flex-col overflow-hidden','children':[a12_0x24146a('span',{'className':'font-medium text-sm truncate','title':_0x13238c['title']||_0x13238c['asset']['originalFilename']||'Course\x20Resource','children':_0x13238c['title']||_0x13238c[_0x24615b(0x144)]['originalFilename']||'Course\x20Resource'}),(_0x13238c[_0x24615b(0x144)]['size']||_0x13238c['asset'][_0x24615b(0x136)])&&a12_0x90a400('span',{'className':'text-xs text-muted-foreground','children':[_0x13238c['asset']['size']?formatFileSize(_0x13238c['asset']['size']):'',_0x13238c[_0x24615b(0x144)]['extension']&&'\x20('+_0x13238c['asset']['extension']['toUpperCase']()+')']})]})]}),a12_0x24146a(a12_0x10a108,{'href':_0x13238c['asset']['url'],'target':'_blank','rel':'noopener\x20noreferrer','download':_0x13238c['asset']['originalFilename']||!![],'className':'inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-8 px-2 shrink-0','children':a12_0x24146a(Download,{'className':'h-3 w-3'})})]},_0x13238c['_key']):null)})})]})})})]});return a12_0x90a400(a12_0x21a010,{'children':[a12_0x24146a('aside',{'className':'fixed inset-y-0 left-0 z-50 flex flex-col items-center w-[60px] border-r bg-background lg:hidden py-4 gap-y-4','children':a12_0x90a400(TooltipProvider,{'delayDuration':0x0,'children':[a12_0x90a400(Tooltip,{'children':[a12_0x24146a(TooltipTrigger,{'asChild':!![],'children':a12_0x24146a(a12_0x10a108,{'href':'/','prefetch':![],'children':a12_0x24146a(Button,{'variant':_0x24615b(0x13e),'size':'icon','className':'h-10 w-10 text-foreground bg-background','children':a12_0x24146a(Library,{'className':'h-5 w-5'})})})}),a12_0x24146a(TooltipContent,{'side':'right','children':a12_0x24146a('p',{'children':'Course\x20Library'})})]}),a12_0x90a400(Tooltip,{'children':[a12_0x24146a(TooltipTrigger,{'asChild':!![],'children':a12_0x24146a(Button,{'onClick':_0x25fd06,'variant':'ghost','size':'icon','className':'h-10 w-10 text-foreground bg-background','children':a12_0x24146a(ChevronRight,{'className':cn('h-5 w-5 transition-transform',_0x3850fc&&'rotate-180')})})}),a12_0x24146a(TooltipContent,{'side':'right','children':a12_0x24146a('p',{'children':'Toggle\x20Sidebar'})})]})]})}),a12_0x24146a('aside',{'className':cn('fixed inset-y-0 left-0 z-40 bg-background transition-all duration-300 ease-in-out','lg:z-50 lg:block lg:w-96 lg:border-r',_0x3850fc?'w-[calc(100%-60px)] translate-x-[60px] lg:translate-x-0 lg:w-96':'translate-x-[-100%] lg:translate-x-0'),'children':a12_0x24146a('div',{'className':'h-full','children':a12_0x24146a(_0x304cbc,{})})}),_0x3850fc&&a12_0x24146a('div',{'className':'fixed inset-0 z-30 bg-background/80 backdrop-blur-sm lg:hidden','onClick':_0x29a01e})]});}
