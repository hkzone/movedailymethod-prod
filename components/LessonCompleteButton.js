"use client";

'use client';(function(_0x435924,_0x4cd1a1){const _0x11db9e=a5_0x39a0,_0x688a2b=_0x435924();while(!![]){try{const _0xe74a5f=parseInt(_0x11db9e(0x13b))/0x1+parseInt(_0x11db9e(0x138))/0x2*(-parseInt(_0x11db9e(0x136))/0x3)+-parseInt(_0x11db9e(0x13d))/0x4*(parseInt(_0x11db9e(0x13f))/0x5)+parseInt(_0x11db9e(0x13c))/0x6*(parseInt(_0x11db9e(0x137))/0x7)+-parseInt(_0x11db9e(0x13e))/0x8+-parseInt(_0x11db9e(0x13a))/0x9+parseInt(_0x11db9e(0x140))/0xa;if(_0xe74a5f===_0x4cd1a1)break;else _0x688a2b['push'](_0x688a2b['shift']());}catch(_0x369bff){_0x688a2b['push'](_0x688a2b['shift']());}}}(a5_0x1b7f,0x3b5a1));import{jsx as a5_0x4a6681,jsxs as a5_0x332b88,Fragment as a5_0x42def1}from'react/jsx-runtime';import{CheckCircle,Loader2,XCircle}from'lucide-react';import{Button}from'./ui/button';import{useState,useEffect,useTransition}from'react';import{useRouter}from'next/navigation';function a5_0x1b7f(){const _0x2f4c19=['340892SfpAiA','Uncompleting...','2091951gojdPL','183146LmQQmP','1438332TcUFjA','291020HKJINm','1110592ewOXQW','25GvqyOD','7257210Nrclcj','Mark\x20as\x20Complete','3YPROGa','7zyJIuh'];a5_0x1b7f=function(){return _0x2f4c19;};return a5_0x1b7f();}import{completeLessonAction}from'@/app/actions/completeLessonAction';import{uncompleteLessonAction}from'@/app/actions/uncompleteLessonAction';import{getLessonCompletionStatusAction}from'@/app/actions/getLessonCompletionStatusAction';function a5_0x39a0(_0x5efe55,_0x1b39cf){const _0x1b7fa6=a5_0x1b7f();return a5_0x39a0=function(_0x39a02a,_0x2e82b6){_0x39a02a=_0x39a02a-0x136;let _0x1d53dd=_0x1b7fa6[_0x39a02a];return _0x1d53dd;},a5_0x39a0(_0x5efe55,_0x1b39cf);}import{cn}from'@/lib/utils';export function LessonCompleteButton({lessonId:_0x3ec701,clerkId:_0x4b6219}){const _0x558ce6=a5_0x39a0,[_0x2a03c2,_0x517116]=useState(![]),[_0x86aae5,_0x27735b]=useState(null),[_0x3276f2,_0x3411da]=useTransition(),_0x308886=useRouter();useEffect(()=>{_0x3411da(async()=>{try{const _0x173a40=await getLessonCompletionStatusAction(_0x3ec701,_0x4b6219);_0x27735b(_0x173a40);}catch(_0x4b684a){console['error']('Error\x20checking\x20lesson\x20completion\x20status:',_0x4b684a),_0x27735b(![]);}});},[_0x3ec701,_0x4b6219]);const _0x493dd5=async()=>{try{_0x517116(!![]),_0x86aae5?await uncompleteLessonAction(_0x3ec701,_0x4b6219):await completeLessonAction(_0x3ec701,_0x4b6219),_0x3411da(async()=>{const _0x501f7b=await getLessonCompletionStatusAction(_0x3ec701,_0x4b6219);_0x27735b(_0x501f7b);}),_0x308886['refresh']();}catch(_0x5655c6){console['error']('Error\x20toggling\x20lesson\x20completion:',_0x5655c6);}finally{_0x517116(![]);}},_0x177fef=_0x86aae5===null||_0x3276f2;return a5_0x4a6681('div',{'className':'fixed bottom-0 left-0 right-0 p-4 bg-background/80 backdrop-blur-sm border-t z-50','children':a5_0x332b88('div',{'className':'max-w-4xl mx-auto flex items-center justify-between gap-4','children':[a5_0x332b88('div',{'className':'flex-1','children':[a5_0x4a6681('p',{'className':'text-sm font-medium','children':_0x86aae5?'Lesson\x20completed!':'Ready\x20to\x20complete\x20this\x20lesson?'}),a5_0x4a6681('p',{'className':'text-sm text-muted-foreground','children':_0x86aae5?'You\x20can\x20mark\x20it\x20as\x20incomplete\x20if\x20you\x20need\x20to\x20revisit\x20it.':'Mark\x20it\x20as\x20complete\x20when\x20you&apos;re\x20done.'})]}),a5_0x4a6681(Button,{'onClick':_0x493dd5,'disabled':_0x2a03c2||_0x177fef,'size':'lg','variant':'default','className':cn('min-w-[200px] transition-all duration-200 ease-in-out',_0x86aae5?'bg-red-600 hover:bg-red-700 text-white':'bg-green-600 hover:bg-green-700 text-white'),'children':_0x177fef?a5_0x332b88(a5_0x42def1,{'children':[a5_0x4a6681(Loader2,{'className':'h-4 w-4 mr-2 animate-spin'}),'Updating...']}):_0x2a03c2?a5_0x332b88(a5_0x42def1,{'children':[a5_0x4a6681(Loader2,{'className':'h-4 w-4 mr-2 animate-spin'}),_0x86aae5?_0x558ce6(0x139):'Completing...']}):_0x86aae5?a5_0x332b88(a5_0x42def1,{'children':[a5_0x4a6681(XCircle,{'className':'h-4 w-4 mr-2'}),'Mark\x20as\x20Not\x20Complete']}):a5_0x332b88(a5_0x42def1,{'children':[a5_0x4a6681(CheckCircle,{'className':'h-4 w-4 mr-2'}),_0x558ce6(0x141)]})})]})});}
