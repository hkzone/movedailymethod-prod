"use client";

'use client';(function(_0x338185,_0x3c5cf8){const _0x172fe7=a5_0x3c89,_0x49eedc=_0x338185();while(!![]){try{const _0x28dffa=-parseInt(_0x172fe7(0x1e3))/0x1+-parseInt(_0x172fe7(0x1df))/0x2+parseInt(_0x172fe7(0x1e2))/0x3+-parseInt(_0x172fe7(0x1e6))/0x4*(-parseInt(_0x172fe7(0x1ef))/0x5)+parseInt(_0x172fe7(0x1db))/0x6*(parseInt(_0x172fe7(0x1da))/0x7)+parseInt(_0x172fe7(0x1d8))/0x8+-parseInt(_0x172fe7(0x1ea))/0x9;if(_0x28dffa===_0x3c5cf8)break;else _0x49eedc['push'](_0x49eedc['shift']());}catch(_0x120a34){_0x49eedc['push'](_0x49eedc['shift']());}}}(a5_0x1dce,0xaec11));import{jsx as a5_0x1b1cc5,jsxs as a5_0x505d47,Fragment as a5_0x2846e2}from'react/jsx-runtime';import{CheckCircle,Loader2,XCircle}from'lucide-react';function a5_0x3c89(_0x820d94,_0x220b56){const _0x1dcee4=a5_0x1dce();return a5_0x3c89=function(_0x3c89fd,_0x370d84){_0x3c89fd=_0x3c89fd-0x1d8;let _0x413d96=_0x1dcee4[_0x3c89fd];if(a5_0x3c89['dsZrPd']===undefined){var _0x2cb33c=function(_0x1b1cc5){const _0x505d47='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2846e2='',_0xd5c057='';for(let _0x28b209=0x0,_0x1a0b11,_0x8bd8e0,_0x2dc14a=0x0;_0x8bd8e0=_0x1b1cc5['charAt'](_0x2dc14a++);~_0x8bd8e0&&(_0x1a0b11=_0x28b209%0x4?_0x1a0b11*0x40+_0x8bd8e0:_0x8bd8e0,_0x28b209++%0x4)?_0x2846e2+=String['fromCharCode'](0xff&_0x1a0b11>>(-0x2*_0x28b209&0x6)):0x0){_0x8bd8e0=_0x505d47['indexOf'](_0x8bd8e0);}for(let _0x3a2fb2=0x0,_0x4b5860=_0x2846e2['length'];_0x3a2fb2<_0x4b5860;_0x3a2fb2++){_0xd5c057+='%'+('00'+_0x2846e2['charCodeAt'](_0x3a2fb2)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xd5c057);};a5_0x3c89['wJQcWy']=_0x2cb33c,_0x820d94=arguments,a5_0x3c89['dsZrPd']=!![];}const _0x43466d=_0x1dcee4[0x0],_0x326ebf=_0x3c89fd+_0x43466d,_0x2f8d8f=_0x820d94[_0x326ebf];return!_0x2f8d8f?(_0x413d96=a5_0x3c89['wJQcWy'](_0x413d96),_0x820d94[_0x326ebf]=_0x413d96):_0x413d96=_0x2f8d8f,_0x413d96;},a5_0x3c89(_0x820d94,_0x220b56);}import{Button}from'./ui/button';import{useState,useEffect,useTransition}from'react';import{useRouter}from'next/navigation';import{completeLessonAction}from'@/app/actions/completeLessonAction';import{uncompleteLessonAction}from'@/app/actions/uncompleteLessonAction';function a5_0x1dce(){const _0x1073b7=['mtaXnti5ndrjC0DMDg4','zMXLEc0X','nti1y29yA2vR','mZeXodjmA2Pfyw8','vw5JB21WBgv0Aw5NlI4U','zxjYB3i','Ac00ihCTncbTCI0Y','mtC1mZK0mKrpzKr5tG','zgL2','vxbKyxrPBMCUlI4','mtC0odK3nLrpDvPWDW','otK2mtG4Cen1DKHI','BwLUlxCTwZiWmhb4xsb0CMfUC2L0Aw9UlwfSBcbKDxjHDgLVBI0YmdaGzwfZzs1PBI1VDxq','rxjYB3iGDg9Nz2XPBMCGBgvZC29UignVBxbSzxrPB246','ntqWodHItw10wLG','Ac00ihCTncbTCI0YigfUAw1HDguTC3bPBG','yMCTz3jLzw4TnJaWigHVDMvYoMjNlwDYzwvUltCWmcb0zxH0lxDOAxrL','twfYAYbHCYbdB21WBgv0zq','nZiYmdCYn0DOug9tvG','zML4zwqGyM90Dg9TltaGBgvMDc0WihjPz2H0ltaGCc00igjNlwjHy2TNCM91BMqVodaGyMfJA2rYB3aTyMX1CI1ZBsbIB3jKzxiTDcb6ltuW','twfYAYbPDcbHCYbJB21WBgv0zsb3AgvUihLVDszHCg9Zo3jLigrVBMuU','Dgv4Dc1ZBsb0zxH0lw11DgvKlwzVCMvNCM91BMq','CMvMCMvZAa','ndi1wK5VzhvS'];a5_0x1dce=function(){return _0x1073b7;};return a5_0x1dce();}import{getLessonCompletionStatusAction}from'@/app/actions/getLessonCompletionStatusAction';import{cn}from'@/lib/utils';export function LessonCompleteButton({lessonId:_0xd5c057,clerkId:_0x28b209}){const _0x3026be=a5_0x3c89,[_0x1a0b11,_0x8bd8e0]=useState(![]),[_0x2dc14a,_0x3a2fb2]=useState(null),[_0x4b5860,_0x10a95e]=useTransition(),_0x1a3905=useRouter();useEffect(()=>{_0x10a95e(async()=>{const _0x1aab52=a5_0x3c89;try{const _0x1ff257=await getLessonCompletionStatusAction(_0xd5c057,_0x28b209);_0x3a2fb2(_0x1ff257);}catch(_0x59e80a){console[_0x1aab52(0x1dd)]('Error\x20checking\x20lesson\x20completion\x20status:',_0x59e80a),_0x3a2fb2(![]);}});},[_0xd5c057,_0x28b209]);const _0x438e64=async()=>{const _0x1203bb=a5_0x3c89;try{_0x8bd8e0(!![]),_0x2dc14a?await uncompleteLessonAction(_0xd5c057,_0x28b209):await completeLessonAction(_0xd5c057,_0x28b209),_0x10a95e(async()=>{const _0x5c6b41=await getLessonCompletionStatusAction(_0xd5c057,_0x28b209);_0x3a2fb2(_0x5c6b41);}),_0x1a3905[_0x1203bb(0x1ee)]();}catch(_0x26779e){console['error'](_0x1203bb(0x1e5),_0x26779e);}finally{_0x8bd8e0(![]);}},_0x432de3=_0x2dc14a===null||_0x4b5860;return a5_0x1b1cc5(_0x3026be(0x1e0),{'className':_0x3026be(0x1eb),'children':a5_0x505d47('div',{'className':'max-w-4xl\x20mx-auto\x20flex\x20items-center\x20justify-between\x20gap-4','children':[a5_0x505d47(_0x3026be(0x1e0),{'className':_0x3026be(0x1d9),'children':[a5_0x1b1cc5('p',{'className':'text-sm\x20font-medium','children':_0x2dc14a?'Lesson\x20completed!':'Ready\x20to\x20complete\x20this\x20lesson?'}),a5_0x1b1cc5('p',{'className':_0x3026be(0x1ed),'children':_0x2dc14a?'You\x20can\x20mark\x20it\x20as\x20incomplete\x20if\x20you\x20need\x20to\x20revisit\x20it.':_0x3026be(0x1ec)})]}),a5_0x1b1cc5(Button,{'onClick':_0x438e64,'disabled':_0x1a0b11||_0x432de3,'size':'lg','variant':'default','className':cn(_0x3026be(0x1e4),_0x2dc14a?'bg-red-600\x20hover:bg-red-700\x20text-white':_0x3026be(0x1e8)),'children':_0x432de3?a5_0x505d47(a5_0x2846e2,{'children':[a5_0x1b1cc5(Loader2,{'className':_0x3026be(0x1e7)}),_0x3026be(0x1e1)]}):_0x1a0b11?a5_0x505d47(a5_0x2846e2,{'children':[a5_0x1b1cc5(Loader2,{'className':_0x3026be(0x1e7)}),_0x2dc14a?_0x3026be(0x1dc):'Completing...']}):_0x2dc14a?a5_0x505d47(a5_0x2846e2,{'children':[a5_0x1b1cc5(XCircle,{'className':'h-4\x20w-4\x20mr-2'}),'Mark\x20as\x20Not\x20Complete']}):a5_0x505d47(a5_0x2846e2,{'children':[a5_0x1b1cc5(CheckCircle,{'className':_0x3026be(0x1de)}),_0x3026be(0x1e9)]})})]})});}
