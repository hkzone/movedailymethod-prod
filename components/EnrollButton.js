"use client";

'use client';(function(_0x1cbcd8,_0x37aa01){const _0x95a061=a4_0x3b32,_0x18e85b=_0x1cbcd8();while(!![]){try{const _0x4da133=parseInt(_0x95a061(0x16c))/0x1+parseInt(_0x95a061(0x158))/0x2+-parseInt(_0x95a061(0x16e))/0x3+parseInt(_0x95a061(0x161))/0x4+-parseInt(_0x95a061(0x15e))/0x5+-parseInt(_0x95a061(0x169))/0x6+parseInt(_0x95a061(0x153))/0x7;if(_0x4da133===_0x37aa01)break;else _0x18e85b['push'](_0x18e85b['shift']());}catch(_0x59ab44){_0x18e85b['push'](_0x18e85b['shift']());}}}(a4_0x135c,0xbe8b5));import{jsx as a4_0x1af439,jsxs as a4_0x9b76b7}from'react/jsx-runtime';import{createStripeCheckout}from'@/actions/createStripeCheckout';import{createWayforpayCheckout}from'@/actions/createWayforpayCheckout';import{useUser}from'@clerk/nextjs';import{CheckCircle}from'lucide-react';function a4_0x3b32(_0x549ec4,_0x3aa075){const _0x135c93=a4_0x135c();return a4_0x3b32=function(_0x3b3257,_0x33fe27){_0x3b3257=_0x3b3257-0x14f;let _0x48c050=_0x135c93[_0x3b3257];if(a4_0x3b32['KgHtLx']===undefined){var _0x3cd331=function(_0x1af439){const _0x9b76b7='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5354f6='',_0x122ea9='';for(let _0x374b69=0x0,_0x349043,_0x431e4e,_0x2fe7cc=0x0;_0x431e4e=_0x1af439['charAt'](_0x2fe7cc++);~_0x431e4e&&(_0x349043=_0x374b69%0x4?_0x349043*0x40+_0x431e4e:_0x431e4e,_0x374b69++%0x4)?_0x5354f6+=String['fromCharCode'](0xff&_0x349043>>(-0x2*_0x374b69&0x6)):0x0){_0x431e4e=_0x9b76b7['indexOf'](_0x431e4e);}for(let _0x406f95=0x0,_0x40bb73=_0x5354f6['length'];_0x406f95<_0x40bb73;_0x406f95++){_0x122ea9+='%'+('00'+_0x5354f6['charCodeAt'](_0x406f95)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x122ea9);};a4_0x3b32['LmrxSi']=_0x3cd331,_0x549ec4=arguments,a4_0x3b32['KgHtLx']=!![];}const _0x316d91=_0x135c93[0x0],_0x4b0dd5=_0x3b3257+_0x316d91,_0x168816=_0x549ec4[_0x4b0dd5];return!_0x168816?(_0x48c050=a4_0x3b32['LmrxSi'](_0x48c050),_0x549ec4[_0x4b0dd5]=_0x48c050):_0x48c050=_0x168816,_0x48c050;},a4_0x3b32(_0x549ec4,_0x3aa075);}import a4_0x5354f6 from'next/link';import{useRouter}from'next/navigation';import{useTransition}from'react';function a4_0x135c(){const _0x179b6b=['CxvLCNLtzwXLy3rVCG','DY01igGTnsbIB3jKzxiTmIbIB3jKzxiTz3jHEs00mdaGyM9YzgvYlxqTz3jHEs02mdaGCM91BMrLzc1MDwXSigfUAw1HDguTC3bPBG','rw5YB2XSBwvUDcb3AxrOia','D2f5zM9YCgf5','zxjYB3i','mteWndu3mdzPA3zqyuC','l2rHC2HIB2fYzc9JB3vYC2vZlW','tKvyvf9qvujmsunFuefztuvovf9quK9wsurfuG','igzHAwXLzdOGtM8GCMvZDwX0igzYB20GC2vYDMvYlG','rw5YB2XSie5VDW','mJa3otuZmKvvtLLosG','q291BgqGBM90igLUAxrPyxrLifDHEuzVCLbHEsbWyxLTzw50lIbqBgvHC2uGDhj5igfNywLUlG','v2f5rM9Yugf5igzVCM0GzwXLBwvUDcbUB3qGzM91BMqGAw4Gsfrntc4','yMCTD2HPDguGDgv4Dc1IBgfJAYbOB3zLCJPZy2fSzs0XmduGAg92zxi6C2HHzg93lwXNigHVDMvYoNnOywrVDY1IBgfJAY8Xma','B3bHy2L0Es0W','DhLWzq','nZaZndm3nu51rMrtyW','cIaGicaGia','Aw5Uzxjive1m','mtu1mdqXnKzvt2LRrG','yNv0Dg9U','zgf0yq','yxbWzw5Kq2HPBgq','DxjS','zgL2','yMCTz3jHEs0XmdaGDgv4Dc1NCMf5ltqWmcbJDxjZB3iTBM90lwfSBg93zwqGAg92zxi6C2nHBguTmtaW','DY1MDwXSigGTmtiGCM91BMrLzc1SzYbIzY1NCMf5lteWmcbMBgv4igL0zw1ZlwnLBNrLCIbQDxn0Awz5lwnLBNrLCG','nZeYmZy4mev4wvrJqW','DY01igGTnsbNCM91Cc1OB3zLCJPZy2fSzs0XmtaGDhjHBNnPDgLVBI10CMfUC2zVCM0','igzHAwXLzdOGvw5LEhbLy3rLzcbZzxj2zxiGCMvZCg9UC2uU','otuZnZGXvNDrrw1A','DY1MDwXSihjVDw5KzwqTBgCGChGTnIbWEs0ZigzVBNqTBwvKAxvTigjNlwDYywrPzw50lxrVlxiGzNjVBs1NCMvLBI01mdaGDg8Tzw1LCMfSzc01mdaGDgv4Dc13AgL0zsbOB3zLCJPMCM9TlwDYzwvUltyWmcbOB3zLCJP0BY1LBwvYywXKltyWmcb0CMfUC2L0Aw9UlwfSBcbKDxjHDgLVBI0ZmdaGAc0XmIbMBgv4igL0zw1ZlwnLBNrLCIbQDxn0Awz5lwnLBNrLCIbNyxaTmIbNCM91Ca','mtC1mZq1nunoExDhvq','C3vIBwL0'];a4_0x135c=function(){return _0x179b6b;};return a4_0x135c();}function EnrollButton({courseId:_0x122ea9,isEnrolled:_0x374b69}){const _0x502815=a4_0x3b32,{user:_0x349043,isLoaded:_0x431e4e}=useUser(),_0x2fe7cc=useRouter(),[_0x406f95,_0x40bb73]=useTransition(),_0x40a226=async _0x19ca31=>{_0x40bb73(async()=>{const _0x4f7831=a4_0x3b32;try{const _0x43589d=_0x349043?.['id'];if(!_0x43589d)return;const _0x2f9609=process['env'][_0x4f7831(0x155)];let _0x3a84dc;if(_0x2f9609==='stripe')_0x3a84dc=await createStripeCheckout(_0x19ca31,_0x349043['id']),_0x1a60fe(_0x3a84dc,_0x2f9609);else _0x2f9609===_0x4f7831(0x151)&&(_0x3a84dc=await createWayforpayCheckout(_0x19ca31,_0x349043['id']),_0x1a60fe(_0x3a84dc,_0x2f9609));}catch(_0x55734f){console['error']('Error\x20in\x20handleEnroll:',_0x55734f);throw new Error('Failed\x20to\x20create\x20checkout\x20session');}});},_0x1a60fe=(_0x30d4db,_0x175e3b)=>{const _0x1585d6=a4_0x3b32;if(!_0x30d4db){alert(_0x1585d6(0x150)+_0x175e3b+_0x1585d6(0x156));return;}if(_0x30d4db['error']){alert(_0x1585d6(0x150)+_0x175e3b+'\x20failed:\x20'+_0x30d4db[_0x1585d6(0x152)]);return;}if(_0x30d4db['type']===_0x1585d6(0x165)&&_0x30d4db[_0x1585d6(0x163)])_0x2fe7cc['push'](_0x30d4db['data']);else{if(_0x30d4db[_0x1585d6(0x15d)]==='form'&&_0x30d4db[_0x1585d6(0x163)]){const _0x149b30=_0x30d4db[_0x1585d6(0x163)],_0x1c04dd=document['createElement']('div');_0x1c04dd[_0x1585d6(0x160)]=_0x149b30,document['body'][_0x1585d6(0x164)](_0x1c04dd);const _0x26ab51=_0x1c04dd[_0x1585d6(0x170)]('form#wayforpayForm');_0x26ab51?_0x26ab51[_0x1585d6(0x16f)]():(console['error'](_0x1585d6(0x15a)),alert(_0x1585d6(0x159)));}else _0x30d4db[_0x1585d6(0x15d)]==='redirect'&&_0x30d4db['data']?_0x2fe7cc['push'](_0x30d4db[_0x1585d6(0x163)]):alert(_0x1585d6(0x150)+_0x175e3b+_0x1585d6(0x16b));}};if(!_0x431e4e||_0x406f95)return a4_0x1af439(_0x502815(0x166),{'className':_0x502815(0x168),'children':a4_0x1af439(_0x502815(0x166),{'className':'w-5\x20h-5\x20border-2\x20border-gray-400\x20border-t-gray-600\x20rounded-full\x20animate-spin'})});if(_0x374b69)return a4_0x9b76b7(a4_0x5354f6,{'prefetch':![],'href':_0x502815(0x154)+_0x122ea9,'className':_0x502815(0x16d),'children':[a4_0x1af439('span',{'children':'Access\x20Course'}),a4_0x1af439(CheckCircle,{'className':_0x502815(0x16a)})]});return a4_0x9b76b7(_0x502815(0x162),{'className':'w-full\x20rounded-lg\x20px-6\x20py-3\x20font-medium\x20transition-all\x20duration-300\x20ease-in-out\x20relative\x20h-12\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x406f95||!_0x349043?.['id']?_0x502815(0x167):_0x502815(0x15b))+_0x502815(0x15f),'disabled':!_0x349043?.['id']||_0x406f95,'onClick':()=>_0x40a226(_0x122ea9),'children':[!_0x349043?.['id']?a4_0x1af439('span',{'className':''+(_0x406f95?_0x502815(0x15c):'opacity-100'),'children':'Sign\x20in\x20to\x20Enroll'}):a4_0x1af439('span',{'className':''+(_0x406f95?'opacity-0':'opacity-100'),'children':_0x502815(0x157)}),_0x406f95&&a4_0x1af439(_0x502815(0x166),{'className':'absolute\x20inset-0\x20flex\x20items-center\x20justify-center','children':a4_0x1af439('div',{'className':_0x502815(0x14f)})})]});}export default EnrollButton;
