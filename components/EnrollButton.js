"use client";

'use client';(function(_0x558a36,_0x2aca20){const _0x266abf=a4_0xd941,_0x5cf4e3=_0x558a36();while(!![]){try{const _0x430839=parseInt(_0x266abf(0xad))/0x1*(parseInt(_0x266abf(0xb7))/0x2)+parseInt(_0x266abf(0xb6))/0x3*(-parseInt(_0x266abf(0xbc))/0x4)+-parseInt(_0x266abf(0xaf))/0x5*(-parseInt(_0x266abf(0xb8))/0x6)+-parseInt(_0x266abf(0xb5))/0x7*(-parseInt(_0x266abf(0xbf))/0x8)+-parseInt(_0x266abf(0xca))/0x9+-parseInt(_0x266abf(0xc4))/0xa+parseInt(_0x266abf(0xc2))/0xb*(parseInt(_0x266abf(0xb2))/0xc);if(_0x430839===_0x2aca20)break;else _0x5cf4e3['push'](_0x5cf4e3['shift']());}catch(_0x28e525){_0x5cf4e3['push'](_0x5cf4e3['shift']());}}}(a4_0x38af,0x4a9f4));import{jsx as a4_0x5e4f5,jsxs as a4_0x4b40a7}from'react/jsx-runtime';import{createStripeCheckout}from'@/actions/createStripeCheckout';import{createWayforpayCheckout}from'@/actions/createWayforpayCheckout';import{useUser}from'@clerk/nextjs';import{CheckCircle}from'lucide-react';import a4_0x3a1ead from'next/link';import{useRouter}from'next/navigation';import{useTransition}from'react';function a4_0x38af(){const _0x4bbb97=['rw5YB2XSBwvUDcb3AxrOia','v2f5rM9Yugf5igzVCM0GzwXLBwvUDcbUB3qGzM91BMqGAw4Gsfrntc4','rw5YB2XSie5VDW','zw52','zgf0yq','igzHAwXLzdOGtM8GCMvZDwX0igzYB20GC2vYDMvYlG','yxbWzw5Kq2HPBgq','zxjYB3i','mvr1txz3uW','DY1MDwXSigGTmtiGCM91BMrLzc1SzYbIzY1NCMf5lteWmcbMBgv4igL0zw1ZlwnLBNrLCIbQDxn0Awz5lwnLBNrLCG','mte0mZvYCgLhB0C','yMCTz3jHEs0XmdaGDgv4Dc1NCMf5ltqWmcbJDxjZB3iTBM90lwfSBg93zwqGAg92zxi6C2nHBguTmtaW','C3rYAxbL','nZjKCMvNqvK','D2f5zM9YCgf5','Aw5Uzxjive1m','n0rXDLnHzG','mteWmtnSALz3rwq','ntm4mdGYrfvRDer2','nJe4yvj6rMH5','l2rHC2HIB2fYzc9JB3vYC2vZlW','ChvZAa','CMvKAxjLy3q','mJa0sgrny1j0','qwnJzxnZienVDxjZzq','zgL2','mtKYmJa1nNbfqxPKBW','q291BgqGBM90igLUAxrPyxrLifDHEuzVCLbHEsbWyxLTzw50lIbqBgvHC2uGDhj5igfNywLUlG','B3bHy2L0Es0W','mte2odiXmwXmCK1YtG','CxvLCNLtzwXLy3rVCG','nJa2nZK5mg5XA1bsqq','B3bHy2L0Es0Xmda','zM9YBq','C3bHBG','rxjYB3iGAw4GAgfUzgXLrw5YB2XSoG','DxjS','mJu0mtuZn3bOsw1isW'];a4_0x38af=function(){return _0x4bbb97;};return a4_0x38af();}function EnrollButton({courseId:_0x52e347,isEnrolled:_0x1099c2}){const _0x52f28f=a4_0xd941,{user:_0x1f7b90,isLoaded:_0x16ff0e}=useUser(),_0x80b482=useRouter(),[_0x558f14,_0x3814d0]=useTransition(),_0x45c2d6=async _0x48de9=>{_0x3814d0(async()=>{const _0x4e4d73=a4_0xd941;try{const _0x3b218d=_0x1f7b90?.['id'];if(!_0x3b218d)return;const _0x908f12=process[_0x4e4d73(0xce)]['NEXT_PUBLIC_PAYMENT_PROVIDER'];let _0x4a8002;if(_0x908f12===_0x4e4d73(0xb1))_0x4a8002=await createStripeCheckout(_0x48de9,_0x1f7b90['id']),_0x234914(_0x4a8002,_0x908f12);else _0x908f12===_0x4e4d73(0xb3)&&(_0x4a8002=await createWayforpayCheckout(_0x48de9,_0x1f7b90['id']),_0x234914(_0x4a8002,_0x908f12));}catch(_0x4eb2b6){console[_0x4e4d73(0xac)](_0x4e4d73(0xc8),_0x4eb2b6);throw new Error('Failed\x20to\x20create\x20checkout\x20session');}});},_0x234914=(_0x590ea9,_0x39b7b4)=>{const _0x219e79=a4_0xd941;if(!_0x590ea9){alert(_0x219e79(0xcb)+_0x39b7b4+_0x219e79(0xd0));return;}if(_0x590ea9['error']){alert('Enrollment\x20with\x20'+_0x39b7b4+'\x20failed:\x20'+_0x590ea9['error']);return;}if(_0x590ea9['type']===_0x219e79(0xc9)&&_0x590ea9['data'])_0x80b482['push'](_0x590ea9[_0x219e79(0xcf)]);else{if(_0x590ea9['type']===_0x219e79(0xc6)&&_0x590ea9['data']){const _0x4be8cf=_0x590ea9['data'],_0x424127=document['createElement'](_0x219e79(0xbe));_0x424127[_0x219e79(0xb4)]=_0x4be8cf,document['body'][_0x219e79(0xab)](_0x424127);const _0x57f5b3=_0x424127[_0x219e79(0xc3)]('form#wayforpayForm');_0x57f5b3?_0x57f5b3['submit']():(console[_0x219e79(0xac)](_0x219e79(0xcc)),alert(_0x219e79(0xc0)));}else _0x590ea9['type']===_0x219e79(0xbb)&&_0x590ea9['data']?_0x80b482[_0x219e79(0xba)](_0x590ea9['data']):alert('Enrollment\x20with\x20'+_0x39b7b4+'\x20failed:\x20Unexpected\x20server\x20response.');}};if(!_0x16ff0e||_0x558f14)return a4_0x5e4f5('div',{'className':_0x52f28f(0xae),'children':a4_0x5e4f5('div',{'className':'w-5\x20h-5\x20border-2\x20border-gray-400\x20border-t-gray-600\x20rounded-full\x20animate-spin'})});if(_0x1099c2)return a4_0x4b40a7(a4_0x3a1ead,{'prefetch':![],'href':_0x52f28f(0xb9)+_0x52e347,'className':'w-full\x20rounded-lg\x20px-6\x20py-3\x20font-medium\x20bg-gradient-to-r\x20from-green-500\x20to-emerald-500\x20text-white\x20hover:from-green-600\x20hover:to-emerald-600\x20transition-all\x20duration-300\x20h-12\x20flex\x20items-center\x20justify-center\x20gap-2\x20group','children':[a4_0x5e4f5(_0x52f28f(0xc7),{'children':_0x52f28f(0xbd)}),a4_0x5e4f5(CheckCircle,{'className':'w-5\x20h-5\x20group-hover:scale-110\x20transition-transform'})]});return a4_0x4b40a7('button',{'className':'w-full\x20rounded-lg\x20px-6\x20py-3\x20font-medium\x20transition-all\x20duration-300\x20ease-in-out\x20relative\x20h-12\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x558f14||!_0x1f7b90?.['id']?_0x52f28f(0xb0):'bg-white\x20text-black\x20hover:scale-105\x20hover:shadow-lg\x20hover:shadow-black/10')+'\x0a\x20\x20\x20\x20\x20\x20','disabled':!_0x1f7b90?.['id']||_0x558f14,'onClick':()=>_0x45c2d6(_0x52e347),'children':[!_0x1f7b90?.['id']?a4_0x5e4f5('span',{'className':''+(_0x558f14?_0x52f28f(0xc1):'opacity-100'),'children':'Sign\x20in\x20to\x20Enroll'}):a4_0x5e4f5('span',{'className':''+(_0x558f14?'opacity-0':_0x52f28f(0xc5)),'children':_0x52f28f(0xcd)}),_0x558f14&&a4_0x5e4f5(_0x52f28f(0xbe),{'className':'absolute\x20inset-0\x20flex\x20items-center\x20justify-center','children':a4_0x5e4f5(_0x52f28f(0xbe),{'className':'w-5\x20h-5\x20border-2\x20border-gray-400\x20border-t-gray-600\x20rounded-full\x20animate-spin'})})]});}function a4_0xd941(_0x22ef32,_0x4f871b){const _0x38af08=a4_0x38af();return a4_0xd941=function(_0xd9413,_0x472d96){_0xd9413=_0xd9413-0xab;let _0x14d085=_0x38af08[_0xd9413];if(a4_0xd941['EPxThS']===undefined){var _0xd44efa=function(_0x5e4f5){const _0x4b40a7='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3a1ead='',_0x52e347='';for(let _0x1099c2=0x0,_0x1f7b90,_0x16ff0e,_0x80b482=0x0;_0x16ff0e=_0x5e4f5['charAt'](_0x80b482++);~_0x16ff0e&&(_0x1f7b90=_0x1099c2%0x4?_0x1f7b90*0x40+_0x16ff0e:_0x16ff0e,_0x1099c2++%0x4)?_0x3a1ead+=String['fromCharCode'](0xff&_0x1f7b90>>(-0x2*_0x1099c2&0x6)):0x0){_0x16ff0e=_0x4b40a7['indexOf'](_0x16ff0e);}for(let _0x558f14=0x0,_0x3814d0=_0x3a1ead['length'];_0x558f14<_0x3814d0;_0x558f14++){_0x52e347+='%'+('00'+_0x3a1ead['charCodeAt'](_0x558f14)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x52e347);};a4_0xd941['aPTzTN']=_0xd44efa,_0x22ef32=arguments,a4_0xd941['EPxThS']=!![];}const _0x127790=_0x38af08[0x0],_0x38b407=_0xd9413+_0x127790,_0x3ba886=_0x22ef32[_0x38b407];return!_0x3ba886?(_0x14d085=a4_0xd941['aPTzTN'](_0x14d085),_0x22ef32[_0x38b407]=_0x14d085):_0x14d085=_0x3ba886,_0x14d085;},a4_0xd941(_0x22ef32,_0x4f871b);}export default EnrollButton;
